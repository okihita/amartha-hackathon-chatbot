(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ne,C,We,J,Me,Oe,Fe,qe,be,ue,fe,Ve,ee={},Ke=[],ft=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,re=Array.isArray;function U(t,n){for(var r in n)t[r]=n[r];return t}function xe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function te(t,n,r){var i,a,o,c={};for(o in n)o=="key"?i=n[o]:o=="ref"?a=n[o]:c[o]=n[o];if(arguments.length>2&&(c.children=arguments.length>3?ne.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)c[o]===void 0&&(c[o]=t.defaultProps[o]);return Y(t,c,i,a,null)}function Y(t,n,r,i,a){var o={type:t,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++We,__i:-1,__u:0};return a==null&&C.vnode!=null&&C.vnode(o),o}function N(t){return t.children}function Z(t,n){this.props=t,this.context=n}function Q(t,n){if(n==null)return t.__?Q(t.__,t.__i+1):null;for(var r;n<t.__k.length;n++)if((r=t.__k[n])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Q(t):null}function Je(t){var n,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((r=t.__k[n])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Je(t)}}function me(t){(!t.__d&&(t.__d=!0)&&J.push(t)&&!se.__r++||Me!=C.debounceRendering)&&((Me=C.debounceRendering)||Oe)(se)}function se(){for(var t,n,r,i,a,o,c,s=1;J.length;)J.length>s&&J.sort(Fe),t=J.shift(),s=J.length,t.__d&&(r=void 0,i=void 0,a=(i=(n=t).__v).__e,o=[],c=[],n.__P&&((r=U({},i)).__v=i.__v+1,C.vnode&&C.vnode(r),ke(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[a]:null,o,a??Q(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,Xe(o,r,c),i.__e=i.__=null,r.__e!=a&&Je(r)));se.__r=0}function Ge(t,n,r,i,a,o,c,s,h,d,m){var l,u,f,_,p,v,y,x=i&&i.__k||Ke,L=n.length;for(h=mt(r,n,x,h,L),l=0;l<L;l++)(f=r.__k[l])!=null&&(u=f.__i==-1?ee:x[f.__i]||ee,f.__i=l,v=ke(t,f,u,a,o,c,s,h,d,m),_=f.__e,f.ref&&u.ref!=f.ref&&(u.ref&&we(u.ref,null,f),m.push(f.ref,f.__c||_,f)),p==null&&_!=null&&(p=_),(y=!!(4&f.__u))||u.__k===f.__k?h=Qe(f,h,t,y):typeof f.type=="function"&&v!==void 0?h=v:_&&(h=_.nextSibling),f.__u&=-7);return r.__e=p,h}function mt(t,n,r,i,a){var o,c,s,h,d,m=r.length,l=m,u=0;for(t.__k=new Array(a),o=0;o<a;o++)(c=n[o])!=null&&typeof c!="boolean"&&typeof c!="function"?(h=o+u,(c=t.__k[o]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?Y(null,c,null,null,null):re(c)?Y(N,{children:c},null,null,null):c.constructor==null&&c.__b>0?Y(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,s=null,(d=c.__i=_t(c,r,h,l))!=-1&&(l--,(s=r[d])&&(s.__u|=2)),s==null||s.__v==null?(d==-1&&(a>m?u--:a<m&&u++),typeof c.type!="function"&&(c.__u|=4)):d!=h&&(d==h-1?u--:d==h+1?u++:(d>h?u--:u++,c.__u|=4))):t.__k[o]=null;if(l)for(o=0;o<m;o++)(s=r[o])!=null&&(2&s.__u)==0&&(s.__e==i&&(i=Q(s)),Ze(s,s));return i}function Qe(t,n,r,i){var a,o;if(typeof t.type=="function"){for(a=t.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=t,n=Qe(a[o],n,r,i));return n}t.__e!=n&&(i&&(n&&t.type&&!n.parentNode&&(n=Q(t)),r.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function ce(t,n){return n=n||[],t==null||typeof t=="boolean"||(re(t)?t.some(function(r){ce(r,n)}):n.push(t)),n}function _t(t,n,r,i){var a,o,c,s=t.key,h=t.type,d=n[r],m=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||m&&s==d.key&&h==d.type)return r;if(i>(m?1:0)){for(a=r-1,o=r+1;a>=0||o<n.length;)if((d=n[c=a>=0?a--:o++])!=null&&(2&d.__u)==0&&s==d.key&&h==d.type)return c}return-1}function je(t,n,r){n[0]=="-"?t.setProperty(n,r??""):t[n]=r==null?"":typeof r!="number"||ft.test(n)?r:r+"px"}function ie(t,n,r,i,a){var o,c;e:if(n=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(n in i)r&&n in r||je(t.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||je(t.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")o=n!=(n=n.replace(qe,"$1")),c=n.toLowerCase(),n=c in t||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+o]=r,r?i?r.u=i.u:(r.u=be,t.addEventListener(n,o?fe:ue,o)):t.removeEventListener(n,o?fe:ue,o);else{if(a=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&r==1?"":r))}}function ze(t){return function(n){if(this.l){var r=this.l[n.type+t];if(n.t==null)n.t=be++;else if(n.t<r.u)return;return r(C.event?C.event(n):n)}}}function ke(t,n,r,i,a,o,c,s,h,d){var m,l,u,f,_,p,v,y,x,L,S,B,R,I,H,A,b,k=n.type;if(n.constructor!=null)return null;128&r.__u&&(h=!!(32&r.__u),o=[s=n.__e=r.__e]),(m=C.__b)&&m(n);e:if(typeof k=="function")try{if(y=n.props,x="prototype"in k&&k.prototype.render,L=(m=k.contextType)&&i[m.__c],S=m?L?L.props.value:m.__:i,r.__c?v=(l=n.__c=r.__c).__=l.__E:(x?n.__c=l=new k(y,S):(n.__c=l=new Z(y,S),l.constructor=k,l.render=gt),L&&L.sub(l),l.props=y,l.state||(l.state={}),l.context=S,l.__n=i,u=l.__d=!0,l.__h=[],l._sb=[]),x&&l.__s==null&&(l.__s=l.state),x&&k.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=U({},l.__s)),U(l.__s,k.getDerivedStateFromProps(y,l.__s))),f=l.props,_=l.state,l.__v=n,u)x&&k.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),x&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(x&&k.getDerivedStateFromProps==null&&y!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,S),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,S)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(l.props=y,l.state=l.__s,l.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(T){T&&(T.__=n)}),B=0;B<l._sb.length;B++)l.__h.push(l._sb[B]);l._sb=[],l.__h.length&&c.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,S),x&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,_,p)})}if(l.context=S,l.props=y,l.__P=t,l.__e=!1,R=C.__r,I=0,x){for(l.state=l.__s,l.__d=!1,R&&R(n),m=l.render(l.props,l.state,l.context),H=0;H<l._sb.length;H++)l.__h.push(l._sb[H]);l._sb=[]}else do l.__d=!1,R&&R(n),m=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++I<25);l.state=l.__s,l.getChildContext!=null&&(i=U(U({},i),l.getChildContext())),x&&!u&&l.getSnapshotBeforeUpdate!=null&&(p=l.getSnapshotBeforeUpdate(f,_)),A=m,m!=null&&m.type===N&&m.key==null&&(A=Ye(m.props.children)),s=Ge(t,re(A)?A:[A],n,r,i,a,o,c,s,h,d),l.base=n.__e,n.__u&=-161,l.__h.length&&c.push(l),v&&(l.__E=l.__=null)}catch(T){if(n.__v=null,h||o!=null)if(T.then){for(n.__u|=h?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,n.__e=s}else{for(b=o.length;b--;)xe(o[b]);_e(n)}else n.__e=r.__e,n.__k=r.__k,T.then||_e(n);C.__e(T,n,r)}else o==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):s=n.__e=yt(r.__e,n,r,i,a,o,c,h,d);return(m=C.diffed)&&m(n),128&n.__u?void 0:s}function _e(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(_e)}function Xe(t,n,r){for(var i=0;i<r.length;i++)we(r[i],r[++i],r[++i]);C.__c&&C.__c(n,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(o){o.call(a)})}catch(o){C.__e(o,a.__v)}})}function Ye(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:re(t)?t.map(Ye):U({},t)}function yt(t,n,r,i,a,o,c,s,h){var d,m,l,u,f,_,p,v=r.props,y=n.props,x=n.type;if(x=="svg"?a="http://www.w3.org/2000/svg":x=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(d=0;d<o.length;d++)if((f=o[d])&&"setAttribute"in f==!!x&&(x?f.localName==x:f.nodeType==3)){t=f,o[d]=null;break}}if(t==null){if(x==null)return document.createTextNode(y);t=document.createElementNS(a,x,y.is&&y),s&&(C.__m&&C.__m(n,o),s=!1),o=null}if(x==null)v===y||s&&t.data==y||(t.data=y);else{if(o=o&&ne.call(t.childNodes),v=r.props||ee,!s&&o!=null)for(v={},d=0;d<t.attributes.length;d++)v[(f=t.attributes[d]).name]=f.value;for(d in v)if(f=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")l=f;else if(!(d in y)){if(d=="value"&&"defaultValue"in y||d=="checked"&&"defaultChecked"in y)continue;ie(t,d,null,f,a)}}for(d in y)f=y[d],d=="children"?u=f:d=="dangerouslySetInnerHTML"?m=f:d=="value"?_=f:d=="checked"?p=f:s&&typeof f!="function"||v[d]===f||ie(t,d,f,v[d],a);if(m)s||l&&(m.__html==l.__html||m.__html==t.innerHTML)||(t.innerHTML=m.__html),n.__k=[];else if(l&&(t.innerHTML=""),Ge(n.type=="template"?t.content:t,re(u)?u:[u],n,r,i,x=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,c,o?o[0]:r.__k&&Q(r,0),s,h),o!=null)for(d=o.length;d--;)xe(o[d]);s||(d="value",x=="progress"&&_==null?t.removeAttribute("value"):_!=null&&(_!==t[d]||x=="progress"&&!_||x=="option"&&_!=v[d])&&ie(t,d,_,v[d],a),d="checked",p!=null&&p!=t[d]&&ie(t,d,p,v[d],a))}return t}function we(t,n,r){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&n==null||(t.__u=t(n))}else t.current=n}catch(a){C.__e(a,r)}}function Ze(t,n,r){var i,a;if(C.unmount&&C.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||we(i,null,n)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){C.__e(o,n)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&Ze(i[a],n,r||typeof t.type!="function");r||xe(t.__e),t.__c=t.__=t.__e=void 0}function gt(t,n,r){return this.constructor(t,r)}function vt(t,n,r){var i,a,o,c;n==document&&(n=document.documentElement),C.__&&C.__(t,n),a=(i=!1)?null:n.__k,o=[],c=[],ke(n,t=n.__k=te(N,null,[t]),a||ee,ee,n.namespaceURI,a?null:n.firstChild?ne.call(n.childNodes):null,o,a?a.__e:n.firstChild,i,c),Xe(o,t,c)}function bt(t,n,r){var i,a,o,c,s=U({},t.props);for(o in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),n)o=="key"?i=n[o]:o=="ref"?a=n[o]:s[o]=n[o]===void 0&&c!=null?c[o]:n[o];return arguments.length>2&&(s.children=arguments.length>3?ne.call(arguments,2):r),Y(t.type,s,i||t.key,a||t.ref,null)}function xt(t){function n(r){var i,a;return this.getChildContext||(i=new Set,(a={})[n.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&i.forEach(function(c){c.__e=!0,me(c)})},this.sub=function(o){i.add(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.delete(o),c&&c.call(o)}}),r.children}return n.__c="__cC"+Ve++,n.__=t,n.Provider=n.__l=(n.Consumer=function(r,i){return r.children(i)}).contextType=n,n}ne=Ke.slice,C={__e:function(t,n,r,i){for(var a,o,c;n=n.__;)if((a=n.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(t)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,i||{}),c=a.__d),c)return a.__E=a}catch(s){t=s}throw t}},We=0,Z.prototype.setState=function(t,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},r),this.props)),t&&U(r,t),t!=null&&this.__v&&(n&&this._sb.push(n),me(this))},Z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),me(this))},Z.prototype.render=N,J=[],Oe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fe=function(t,n){return t.__v.__b-n.__v.__b},se.__r=0,qe=/(PointerCapture)$|Capture$/i,be=0,ue=ze(!1),fe=ze(!0),Ve=0;var kt=0;function e(t,n,r,i,a,o){n||(n={});var c,s,h=n;if("ref"in h)for(s in h={},n)s=="ref"?c=n[s]:h[s]=n[s];var d={type:t,props:h,key:r,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kt,__i:-1,__u:0,__source:a,__self:o};if(typeof t=="function"&&(c=t.defaultProps))for(s in c)h[s]===void 0&&(h[s]=c[s]);return C.vnode&&C.vnode(d),d}var de,z,he,De,ye=0,et=[],D=C,Le=D.__b,Te=D.__r,$e=D.diffed,Ae=D.__c,Pe=D.unmount,Ie=D.__;function tt(t,n){D.__h&&D.__h(z,t,ye||n),ye=0;var r=z.__H||(z.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function w(t){return ye=1,wt(nt,t)}function wt(t,n,r){var i=tt(de++,2);if(i.t=t,!i.__c&&(i.__=[nt(void 0,n),function(s){var h=i.__N?i.__N[0]:i.__[0],d=i.t(h,s);h!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=z,!z.__f)){var a=function(s,h,d){if(!i.__c.__H)return!0;var m=i.__c.__H.__.filter(function(u){return!!u.__c});if(m.every(function(u){return!u.__N}))return!o||o.call(this,s,h,d);var l=i.__c.props!==s;return m.forEach(function(u){if(u.__N){var f=u.__[0];u.__=u.__N,u.__N=void 0,f!==u.__[0]&&(l=!0)}}),o&&o.call(this,s,h,d)||l};z.__f=!0;var o=z.shouldComponentUpdate,c=z.componentWillUpdate;z.componentWillUpdate=function(s,h,d){if(this.__e){var m=o;o=void 0,a(s,h,d),o=m}c&&c.call(this,s,h,d)},z.shouldComponentUpdate=a}return i.__N||i.__}function O(t,n){var r=tt(de++,3);!D.__s&&Mt(r.__H,n)&&(r.__=t,r.u=n,z.__H.__h.push(r))}function Ct(){for(var t;t=et.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(le),t.__H.__h.forEach(ge),t.__H.__h=[]}catch(n){t.__H.__h=[],D.__e(n,t.__v)}}D.__b=function(t){z=null,Le&&Le(t)},D.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),Ie&&Ie(t,n)},D.__r=function(t){Te&&Te(t),de=0;var n=(z=t.__c).__H;n&&(he===z?(n.__h=[],z.__h=[],n.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(n.__h.forEach(le),n.__h.forEach(ge),n.__h=[],de=0)),he=z},D.diffed=function(t){$e&&$e(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(et.push(n)!==1&&De===D.requestAnimationFrame||((De=D.requestAnimationFrame)||St)(Ct)),n.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),he=z=null},D.__c=function(t,n){n.some(function(r){try{r.__h.forEach(le),r.__h=r.__h.filter(function(i){return!i.__||ge(i)})}catch(i){n.some(function(a){a.__h&&(a.__h=[])}),n=[],D.__e(i,r.__v)}}),Ae&&Ae(t,n)},D.unmount=function(t){Pe&&Pe(t);var n,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(i){try{le(i)}catch(a){n=a}}),r.__H=void 0,n&&D.__e(n,r.__v))};var Be=typeof requestAnimationFrame=="function";function St(t){var n,r=function(){clearTimeout(i),Be&&cancelAnimationFrame(n),setTimeout(t)},i=setTimeout(r,35);Be&&(n=requestAnimationFrame(r))}function le(t){var n=z,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),z=n}function ge(t){var n=z;t.__c=t.__(),z=n}function Mt(t,n){return!t||t.length!==n.length||n.some(function(r,i){return r!==t[i]})}function nt(t,n){return typeof n=="function"?n(t):n}var jt={};function oe(t,n){for(var r in n)t[r]=n[r];return t}function zt(t,n,r){var i,a=/(?:\?([^#]*))?(#.*)?$/,o=t.match(a),c={};if(o&&o[1])for(var s=o[1].split("&"),h=0;h<s.length;h++){var d=s[h].split("=");c[decodeURIComponent(d[0])]=decodeURIComponent(d.slice(1).join("="))}t=ve(t.replace(a,"")),n=ve(n||"");for(var m=Math.max(t.length,n.length),l=0;l<m;l++)if(n[l]&&n[l].charAt(0)===":"){var u=n[l].replace(/(^:|[+*?]+$)/g,""),f=(n[l].match(/[+*?]+$/)||jt)[0]||"",_=~f.indexOf("+"),p=~f.indexOf("*"),v=t[l]||"";if(!v&&!p&&(f.indexOf("?")<0||_)){i=!1;break}if(c[u]=decodeURIComponent(v),_||p){c[u]=t.slice(l).map(decodeURIComponent).join("/");break}}else if(n[l]!==t[l]){i=!1;break}return(r.default===!0||i!==!1)&&c}function Dt(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:t.index-n.index}function Lt(t,n){return t.index=n,t.rank=(function(r){return r.props.default?0:ve(r.props.path).map(Tt).join("")})(t),t.props}function ve(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Tt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var $t={},G=[],Ee=[],P=null,rt={url:Ce()},At=xt(rt);function Ce(){var t;return""+((t=P&&P.location?P.location:P&&P.getCurrentLocation?P.getCurrentLocation():typeof location<"u"?location:$t).pathname||"")+(t.search||"")}function Pt(t,n){return n===void 0&&(n=!1),typeof t!="string"&&t.url&&(n=t.replace,t=t.url),(function(r){for(var i=G.length;i--;)if(G[i].canRoute(r))return!0;return!1})(t)&&(function(r,i){i===void 0&&(i="push"),P&&P[i]?P[i](r):typeof history<"u"&&history[i+"State"]&&history[i+"State"](null,null,r)})(t,n?"replace":"push"),it(t)}function it(t){for(var n=!1,r=0;r<G.length;r++)G[r].routeTo(t)&&(n=!0);return n}function It(t){if(t&&t.getAttribute){var n=t.getAttribute("href"),r=t.getAttribute("target");if(n&&n.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return Pt(n)}}function Bt(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function Et(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var n=t.target;do if(n.localName==="a"&&n.getAttribute("href")){if(n.hasAttribute("data-native")||n.hasAttribute("native"))return;if(It(n))return Bt(t)}while(n=n.parentNode)}}var Ue=!1;function ot(t){t.history&&(P=t.history),this.state={url:t.url||Ce()}}oe(ot.prototype=new Z,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var n=ce(this.props.children);return this.g(n,t)!==void 0},routeTo:function(t){this.setState({url:t});var n=this.canRoute(t);return this.p||this.forceUpdate(),n},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;Ue||(Ue=!0,P||addEventListener("popstate",function(){it(Ce())}),addEventListener("click",Et)),G.push(this),P&&(this.u=P.listen(function(n){var r=n.location||n;t.routeTo(""+(r.pathname||"")+(r.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),G.splice(G.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,n){t=t.filter(Lt).sort(Dt);for(var r=0;r<t.length;r++){var i=t[r],a=zt(n,i.props.path,i.props);if(a)return[i,a]}},render:function(t,n){var r,i,a=t.onChange,o=n.url,c=this.c,s=this.g(ce(t.children),o);if(s&&(i=bt(s[0],oe(oe({url:o,matches:r=s[1]},r),{key:void 0,ref:void 0}))),o!==(c&&c.url)){oe(rt,c=this.c={url:o,previous:c&&c.url,current:i,path:i?i.props.path:null,matches:r}),c.router=this,c.active=i?[i]:[];for(var h=Ee.length;h--;)Ee[h]({});typeof a=="function"&&a(c)}return te(At.Provider,{value:c},i)}});const Re=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ut=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),Ne=t=>{const n=Ut(t);return n.charAt(0).toUpperCase()+n.slice(1)},Rt=(...t)=>t.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim();var Nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const Ht=({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,children:a,iconNode:o,class:c="",...s})=>te("svg",{...Nt,width:String(n),height:n,stroke:t,"stroke-width":i?Number(r)*24/Number(n):r,class:["lucide",c].join(" "),...s},[...o.map(([h,d])=>te(h,d)),...ce(a)]);const M=(t,n)=>{const r=({class:i="",className:a="",children:o,...c})=>te(Ht,{...c,iconNode:n,class:Rt(`lucide-${Re(Ne(t))}`,`lucide-${Re(t)}`,i,a)},o);return r.displayName=Ne(t),r};const Wt=M("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Se=M("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const lt=M("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const at=M("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);const Ot=M("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Ft=M("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const qt=M("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Vt=M("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const Kt=M("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Jt=M("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const st=M("dice-5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);const Gt=M("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Qt=M("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Xt=M("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Yt=M("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ct=M("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const dt=M("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Zt=M("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const en=M("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const tn=M("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const nn=M("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);const X=M("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const rn=M("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function pt({message:t,type:n="success",onClose:r}){O(()=>{const a=setTimeout(r,3e3);return()=>clearTimeout(a)},[r]);const i={success:e(qt,{size:20}),error:e(Kt,{size:20}),info:e(Gt,{size:20})};return e("div",{class:`toast toast-${n}`,children:[i[n],e("span",{children:t})]})}function ht({title:t,message:n,onConfirm:r,onCancel:i,confirmText:a="Confirm",cancelText:o="Cancel",type:c="danger"}){return e("div",{class:"modal-overlay",onClick:i,children:e("div",{class:"confirm-dialog",onClick:s=>s.stopPropagation(),children:[e("div",{class:"confirm-icon",children:e(Zt,{size:48})}),e("h3",{children:t}),e("p",{children:n}),e("div",{class:"confirm-actions",children:[e("button",{class:"btn btn-secondary",onClick:i,children:o}),e("button",{class:`btn btn-${c}`,onClick:r,children:a})]})]})})}function ut(){const[t,n]=w(null),[r,i]=w(null);return{toast:t,confirmDialog:r,showToast:(c,s="success")=>{n({message:c,type:s})},showConfirm:c=>new Promise(s=>{i({...c,onConfirm:()=>{i(null),s(!0)},onCancel:()=>{i(null),s(!1)}})}),clearToast:()=>n(null)}}const E=async(t,n={})=>{const r=await fetch(t,n);if(!r.ok){const i=await r.json().catch(()=>({error:"Request failed"}));throw new Error(i.error||"Request failed")}return r.json()},ae={getAll:()=>fetch("/api/users").then(t=>t.json()),verify:(t,n)=>E("/api/users/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,status:n})}),delete:t=>E(`/api/users/${t}`,{method:"DELETE"})},K={getAll:()=>fetch("/api/majelis").then(t=>t.json()),create:t=>E("/api/majelis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),update:(t,n)=>E(`/api/majelis/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),delete:t=>E(`/api/majelis/${t}`,{method:"DELETE"}),addMember:(t,n)=>E(`/api/majelis/${t}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n})}),removeMember:(t,n)=>E(`/api/majelis/${t}/members/${n}`,{method:"DELETE"})},pe={populateMockUsers:()=>E("/api/superadmin/populate-mock",{method:"POST"}),deleteAllMockUsers:()=>E("/api/superadmin/delete-all-mock",{method:"DELETE"}),populateMockMajelis:()=>E("/api/superadmin/populate-mock-majelis",{method:"POST"}),deleteAllMockMajelis:()=>E("/api/superadmin/delete-all-mock-majelis",{method:"DELETE"})};function on(){const[t,n]=w([]),[r,i]=w([]),[a,o]=w(null),[c,s]=w({key:null,direction:"asc"}),[h,d]=w(!1),[m,l]=w(""),{toast:u,confirmDialog:f,showToast:_,showConfirm:p,clearToast:v}=ut();O(()=>{y()},[]);const y=async()=>{try{const[b,k]=await Promise.all([ae.getAll(),K.getAll()]);n(b),i(k)}catch{_("Failed to fetch data","error")}},x=b=>{let k="asc";c.key===b&&c.direction==="asc"&&(k="desc"),s({key:b,direction:k})},L=[...t].sort((b,k)=>{if(!c.key)return 0;let T,F;if(c.key==="majelis_name"){const g=b.majelis_id?r.find($=>$.id===b.majelis_id):null,j=k.majelis_id?r.find($=>$.id===k.majelis_id):null;T=g?.name||"",F=j?.name||""}else T=b[c.key]||"",F=k[c.key]||"";return T<F?c.direction==="asc"?-1:1:T>F?c.direction==="asc"?1:-1:0}),S=async(b,k)=>{o(b);try{await ae.verify(b,k),await y(),_("User verified successfully")}catch(T){_(T.message,"error")}finally{o(null)}},B=async(b,k)=>{if(await p({title:"Delete User",message:`Are you sure you want to delete ${k}? This action cannot be undone.`})){o(b);try{await ae.delete(b),await y(),_("User deleted successfully")}catch(F){_(F.message,"error")}finally{o(null)}}},R=async()=>{if(await p({title:"Populate Mock Data",message:"This will create 8 mock users in the database. Continue?",confirmText:"Populate",type:"primary"})){o("mock");try{await pe.populateMockUsers(),await y(),_("Mock data populated successfully!")}catch(k){_(k.message,"error")}finally{o(null)}}},I=()=>{d(!0),l("")},H=async()=>{if(m!=="delete"){alert('Please type "delete" to confirm');return}o("delete-all"),d(!1);try{await pe.deleteAllMockUsers(),await y(),_("All mock users deleted successfully!")}catch(b){_(b.message,"error")}finally{o(null),l("")}},A=b=>c.key!==b?"‚áÖ":c.direction==="asc"?"‚Üë":"‚Üì";return e(N,{children:[e("div",{class:"card",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;",children:[e("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[e(X,{size:24})," User Management (",t.length,")"]}),e("div",{style:"display: flex; gap: 0.5rem;",children:[e("button",{class:"btn btn-primary",onClick:R,disabled:a==="mock",children:[e(st,{size:16})," Populate Mock Data"]}),e("button",{class:"btn btn-danger",onClick:I,disabled:a==="delete-all",children:[e(dt,{size:16})," Delete All Mock"]})]})]}),e("table",{children:[e("thead",{children:e("tr",{children:[e("th",{onClick:()=>x("name"),style:"cursor: pointer;",children:["Name ",A("name")]}),e("th",{onClick:()=>x("phone"),style:"cursor: pointer;",children:["Phone ",A("phone")]}),e("th",{onClick:()=>x("business_type"),style:"cursor: pointer;",children:["Business ",A("business_type")]}),e("th",{onClick:()=>x("location"),style:"cursor: pointer;",children:["Location ",A("location")]}),e("th",{onClick:()=>x("majelis_name"),style:"cursor: pointer;",children:["Majelis ",A("majelis_name")]}),e("th",{onClick:()=>x("is_verified"),style:"cursor: pointer;",children:["Status ",A("is_verified")]}),e("th",{children:"Actions"})]})}),e("tbody",{children:L.map(b=>{const k=b.majelis_id?r.find(T=>T.id===b.majelis_id):null;return e("tr",{children:[e("td",{children:e("strong",{children:e("a",{href:`/user-profile/${b.phone}`,class:"user-link",children:b.name})})}),e("td",{children:b.phone}),e("td",{children:b.business_type}),e("td",{children:b.location}),e("td",{children:e("span",{class:`status ${k?"verified":"unassigned"}`,children:k?e(N,{children:[e(X,{size:14,style:"display: inline; vertical-align: middle; margin-right: 4px;"}),k.name]}):"‚Äî"})}),e("td",{children:e("span",{class:`status ${b.is_verified?"verified":"pending"}`,children:b.is_verified?"Verified":"Pending"})}),e("td",{children:e("div",{class:"actions",children:[e("button",{class:"btn btn-icon btn-success",onClick:()=>S(b.phone,!0),disabled:a===b.phone||b.is_verified===!0,title:"Verify user",children:e(Ft,{size:16})}),e("button",{class:"btn btn-icon btn-secondary",onClick:()=>B(b.phone,b.name),disabled:a===b.phone,title:"Delete user",children:e(ct,{size:16})})]})})]},b.phone)})})]})]}),h&&e("div",{class:"modal-overlay",onClick:()=>d(!1),children:e("div",{class:"modal-content",onClick:b=>b.stopPropagation(),children:[e("h3",{children:"‚ö†Ô∏è Delete All Mock Users"}),e("p",{children:"This will permanently delete all mock users from the database."}),e("p",{children:e("strong",{children:'Type "delete" to confirm:'})}),e("input",{type:"text",value:m,onInput:b=>l(b.target.value),placeholder:"Type delete here",style:"width: 100%; padding: 0.5rem; margin: 1rem 0;"}),e("div",{style:"display: flex; gap: 0.5rem; justify-content: flex-end;",children:[e("button",{class:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),e("button",{class:"btn btn-danger",onClick:H,disabled:m!=="delete",children:"Delete All"})]})]})}),u&&e(pt,{message:u.message,type:u.type,onClose:v}),f&&e(ht,{...f})]})}function ln(){const[t,n]=w([]),[r,i]=w([]),[a,o]=w(!1),[c,s]=w(null),[h,d]=w({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),[m,l]=w(null),[u,f]=w(""),[_,p]=w([]),[v,y]=w(null),{toast:x,confirmDialog:L,showToast:S,showConfirm:B,clearToast:R}=ut();O(()=>{I()},[]),O(()=>{if(!u.trim()||!m){p([]);return}const g=u.toLowerCase(),$=t.find(W=>W.id===m)?.members||[],V=r.filter(W=>W.is_verified===!0&&!$.includes(W.phone)&&!W.majelis_id).filter(W=>W.name?.toLowerCase().includes(g)||W.phone?.includes(g)).slice(0,5);p(V)},[u,r,m,t]);const I=async()=>{try{const[g,j]=await Promise.all([K.getAll(),ae.getAll()]);n(g),i(j)}catch{S("Failed to fetch data","error")}},H=async g=>{g.preventDefault();try{c?await K.update(c,h):await K.create(h),o(!1),s(null),d({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),I(),S(`Majelis ${c?"updated":"created"} successfully`)}catch(j){S(j.message,"error")}},A=async(g,j)=>{if(await B({title:"Delete Majelis",message:`Are you sure you want to delete "${j}"? All member associations will be cleared.`}))try{await K.delete(g),I(),S("Majelis deleted successfully")}catch(q){S(q.message,"error")}},b=async(g,j)=>{try{await K.addMember(g,j),l(null),f(""),I(),S("Member added successfully")}catch($){S($.message,"error")}},k=async(g,j)=>{const $=r.find(V=>V.phone===j);if(await B({title:"Remove Member",message:`Remove ${$?.name||j} from this majelis?`,confirmText:"Remove"}))try{await K.removeMember(g,j),I(),S("Member removed successfully")}catch(V){S(V.message,"error")}};return e(N,{children:[e("div",{class:"card",children:[e("div",{class:"card-header-actions",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(X,{size:24})," Majelis Groups"]}),e("div",{style:"display: flex; gap: 8px;",children:[e("button",{class:"btn btn-primary",onClick:()=>o(!0),children:[e(Yt,{size:16})," Create Majelis"]}),e("button",{class:"btn btn-secondary",onClick:async()=>{if(await B({title:"Populate Mock Majelis",message:"This will create 3 mock majelis groups. Continue?",confirmText:"Populate",type:"primary"})){y("mock");try{await pe.populateMockMajelis(),I(),S("Mock majelis populated!")}catch(j){S(j.message,"error")}finally{y(null)}}},disabled:v==="mock",children:[e(st,{size:16})," Populate Mock"]}),e("button",{class:"btn btn-danger",onClick:async()=>{if(await B({title:"Delete All Mock Majelis",message:"This will permanently delete all mock majelis groups. Continue?",confirmText:"Delete All"})){y("delete-all");try{await pe.deleteAllMockMajelis(),I(),S("All mock majelis deleted!")}catch(j){S(j.message,"error")}finally{y(null)}}},disabled:v==="delete-all",children:[e(dt,{size:16})," Delete All Mock"]})]})]}),e("div",{class:"majelis-grid",children:t.length===0?e("div",{class:"empty-state",children:e("p",{children:"No majelis yet. Create one!"})}):t.map(g=>{const j=g.members?.length||0;return e("div",{class:"majelis-card",children:[e("h3",{children:g.name}),e("div",{class:"info-row",children:[e("span",{children:[e(Ot,{size:14})," ",g.schedule_day," ",g.schedule_time]}),e("span",{children:[e(Qt,{size:14})," ",g.location||"No location"]})]}),g.description&&e("p",{class:"majelis-description",children:g.description}),e("div",{class:"member-section",children:[e("div",{class:"member-header",children:[e("span",{class:"member-count",children:[e(X,{size:14})," ",j," member",j!==1?"s":""]}),e("button",{class:"btn btn-primary btn-icon",onClick:()=>l(g.id),title:"Add member",children:e(en,{size:14})})]}),j===0?e("div",{class:"no-members",children:"No members yet. Click + to add."}):e("div",{class:"member-list",children:g.members.map($=>{const q=r.find(V=>V.phone===$);return e("div",{class:"member-item",children:[e("div",{class:"member-info",children:[e("div",{class:"member-name",children:q?.name||$}),q&&e("div",{class:"member-business",children:q.business_type})]}),e("button",{class:"btn-remove",onClick:()=>k(g.id,$),title:"Remove member",children:e(rn,{size:14})})]},$)})})]}),e("div",{class:"actions",children:[e("button",{class:"btn btn-secondary",onClick:()=>{s(g.id),d(g),o(!0)},children:[e(Xt,{size:14})," ",e("span",{class:"btn-text",children:"Edit"})]}),e("button",{class:"btn btn-danger",onClick:()=>A(g.id,g.name),children:[e(ct,{size:14})," ",e("span",{class:"btn-text",children:"Delete"})]})]})]},g.id)})})]}),a&&e("div",{class:"modal active",children:e("div",{class:"modal-content",children:[e("h2",{children:[c?"Edit":"Create"," Majelis"]}),e("form",{onSubmit:H,children:[e("div",{class:"form-group",children:[e("label",{children:"Name *"}),e("input",{type:"text",value:h.name,onInput:g=>d({...h,name:g.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{children:"Description"}),e("textarea",{value:h.description,onInput:g=>d({...h,description:g.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Day *"}),e("select",{value:h.schedule_day,onChange:g=>d({...h,schedule_day:g.target.value}),required:!0,children:[e("option",{value:"",children:"Select day"}),e("option",{value:"Senin",children:"Senin"}),e("option",{value:"Selasa",children:"Selasa"}),e("option",{value:"Rabu",children:"Rabu"}),e("option",{value:"Kamis",children:"Kamis"}),e("option",{value:"Jumat",children:"Jumat"}),e("option",{value:"Sabtu",children:"Sabtu"})]})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Time"}),e("input",{type:"time",value:h.schedule_time,onInput:g=>d({...h,schedule_time:g.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Location"}),e("input",{type:"text",value:h.location,onInput:g=>d({...h,location:g.target.value})})]}),e("div",{class:"form-actions",children:[e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{o(!1),s(null),d({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""})},children:"Cancel"}),e("button",{type:"submit",class:"btn btn-primary",children:"Save"})]})]})]})}),m&&e("div",{class:"modal active",onClick:g=>{g.target.className==="modal active"&&(l(null),f(""))},children:e("div",{class:"modal-content modal-sm",children:[e("h2",{children:"Add Member"}),e("div",{class:"form-group",children:[e("label",{children:"Search by name or phone"}),e("input",{type:"text",value:u,onInput:g=>f(g.target.value),placeholder:"Type to search...",autoFocus:!0}),_.length>0&&e("div",{class:"autocomplete-results",children:_.map(g=>e("div",{class:"autocomplete-item",onClick:()=>b(m,g.phone),children:[e("div",{class:"autocomplete-name",children:g.name}),e("div",{class:"autocomplete-details",children:[g.phone," ‚Ä¢ ",g.business_type]})]},g.phone))}),u&&_.length===0&&e("div",{class:"autocomplete-empty",children:"No verified users found"})]}),e("div",{class:"form-actions",children:e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{l(null),f("")},children:"Cancel"})})]})}),x&&e(pt,{message:x.message,type:x.type,onClose:R}),L&&e(ht,{...L})]})}const an={"warung sembako":"üè™",kelontong:"üè™","warung makan":"üçΩÔ∏è",coffee:"‚òï",jajanan:"üç™",camilan:"üç™",minuman:"üßã",fashion:"üëó",hijab:"üëó",elektronik:"üì±",gadget:"üì±","pet shop":"üêæ","bahan bangunan":"üß±",mainan:"üéÆ",hobi:"üéÆ",laundry:"üëï","bengkel motor":"üèçÔ∏è",kecantikan:"üíá",salon:"üíá",penjahit:"‚úÇÔ∏è",permak:"‚úÇÔ∏è","kos-kosan":"üè†",penginapan:"üè†",logistik:"üì¶",ekspedisi:"üì¶","sewa kendaraan":"üöó","cuci steam":"üöø",detailing:"üöø",apotek:"üíä",obat:"üíä",event:"üéâ",wedding:"üéâ","bengkel las":"üîß",bubut:"üîß",kontraktor:"üèóÔ∏è",renovasi:"üèóÔ∏è",kriya:"üé®",kerajinan:"üé®",petani:"üå±",holtikultura:"üå±",nelayan:"üêü",ikan:"üêü"};function He(t){const n=t.toLowerCase();for(const[r,i]of Object.entries(an))if(n.includes(r))return i;return"üè¢"}function sn(){const[t,n]=w(null),[r,i]=w([]),[a,o]=w(!0);O(()=>{c()},[]);const c=async()=>{const s="businessTypes";try{const d=localStorage.getItem(s);if(d){const{data:f,timestamp:_}=JSON.parse(d);if(Date.now()-_<864e5){i(f),o(!1);return}}const u=(await(await fetch("/api/knowledge/business-types")).json()).sort((f,_)=>(f.category_number||999)-(_.category_number||999));localStorage.setItem(s,JSON.stringify({data:u,timestamp:Date.now()})),i(u)}catch(d){console.error("Failed to fetch business types",d)}finally{o(!1)}};return a?e("div",{class:"loading",children:"Loading business types..."}):r.length===0?e("div",{class:"card",children:e("div",{class:"empty-state",children:[e("div",{class:"empty-state-icon",children:"üì¶"}),e("h3",{children:"No Business Types Found"}),e("p",{children:"Business classifications haven't been imported yet."})]})}):e(N,{children:[e("div",{class:"card",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(lt,{size:20})," Business Classifications & Maturity Levels"]}),e("div",{class:"business-grid",children:r.map(s=>{const h=s.category_number?`Kategori ${s.category_number}`:"Mikro",d=He(s.business_type),m=(s.maturity_levels||[]).filter(l=>l.goal).map(l=>`Level ${l.level}: ${l.goal}`);return e("div",{class:"business-card",onClick:()=>n(s),style:{cursor:"pointer"},children:[e("div",{class:"card-header",children:[e("div",{class:"card-icon",children:d}),e("div",{class:"card-title-section",children:[e("div",{class:"category",children:h}),e("h3",{children:s.business_type})]})]}),m.length>0&&e("div",{class:"goals",children:[e("strong",{class:"business-type-header",children:"Level Up Goals:"}),m.map((l,u)=>e("div",{class:"goal-item",children:l},u))]})]},s.id)})})]}),t&&e("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>n(null),children:e("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:s=>s.stopPropagation(),children:[e("div",{style:{position:"sticky",top:0,background:"white",zIndex:1,padding:"24px 24px 16px",borderBottom:"1px solid #eee"},children:[e("button",{onClick:()=>n(null),style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",lineHeight:1},children:"√ó"}),e("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e("div",{style:{fontSize:"40px",width:"60px",height:"60px",background:"#f5f5f5",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:He(t.business_type)}),e("div",{children:[e("div",{style:{display:"inline-block",padding:"4px 12px",background:"#e3f2fd",color:"#1976d2",borderRadius:"12px",fontSize:"12px",fontWeight:600,marginBottom:"4px"},children:t.category_number?`Kategori ${t.category_number}`:"Mikro"}),e("h2",{style:{margin:0,fontSize:"24px"},children:t.business_type})]})]})]}),e("div",{style:{padding:"24px"},children:[t.description&&e("div",{style:{marginBottom:"24px",color:"#555",lineHeight:1.6},children:t.description}),e("h3",{style:{fontSize:"18px",marginBottom:"16px",color:"#333",borderBottom:"2px solid #f0f0f0",paddingBottom:"8px"},children:"üìà Maturity Levels & Roadmap"}),(t.maturity_levels||[]).sort((s,h)=>s.level-h.level).map((s,h)=>e("div",{style:{marginBottom:"24px",padding:"20px",background:"#fafafa",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #ddd"},children:[e("div",{style:{fontWeight:800,color:"#007bff",fontSize:"16px"},children:["LEVEL ",s.level]}),e("div",{style:{fontWeight:600,color:"#333",fontSize:"16px"},children:s.name||s.goal})]}),s.character?.length>0&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"üîç Karakteristik"}),e("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#555"},children:s.character.map((d,m)=>e("li",{children:d},m))})]}),(s.swot?.strengths?.length>0||s.swot?.weaknesses?.length>0||s.swot?.opportunities?.length>0||s.swot?.threats?.length>0)&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"12px"},children:"üìä SWOT Analysis"}),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.swot?.strengths?.length>0&&e("div",{style:{background:"#e3f2fd",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[e("strong",{style:{color:"#1976d2",display:"block",marginBottom:"6px",fontSize:"13px"},children:"üí™ Strengths"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.strengths.map((d,m)=>e("li",{children:d},m))})]}),s.swot?.weaknesses?.length>0&&e("div",{style:{background:"#ffebee",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #f44336"},children:[e("strong",{style:{color:"#c62828",display:"block",marginBottom:"6px",fontSize:"13px"},children:"‚ö†Ô∏è Weaknesses"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.weaknesses.map((d,m)=>e("li",{children:d},m))})]}),s.swot?.opportunities?.length>0&&e("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #4caf50"},children:[e("strong",{style:{color:"#2e7d32",display:"block",marginBottom:"6px",fontSize:"13px"},children:"üéØ Opportunities"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.opportunities.map((d,m)=>e("li",{children:d},m))})]}),s.swot?.threats?.length>0&&e("div",{style:{background:"#fff8e1",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #ff9800"},children:[e("strong",{style:{color:"#e65100",display:"block",marginBottom:"6px",fontSize:"13px"},children:"‚ö° Threats"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.threats.map((d,m)=>e("li",{children:d},m))})]})]})]}),(s.roadmap?.description||s.roadmap?.kpis?.length>0)&&e("div",{style:{background:"white",padding:"15px",borderRadius:"8px",border:"1px dashed #ccc"},children:[e("h4",{style:{fontSize:"14px",color:"#333",marginBottom:"8px"},children:"üöÄ How to Level Up"}),s.roadmap?.description&&e("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px",fontStyle:"italic"},children:s.roadmap.description}),s.roadmap?.kpis?.length>0&&e("div",{children:[e("strong",{style:{fontSize:"13px",color:"#666"},children:"Target KPIs:"}),e("ul",{style:{margin:"5px 0 0",paddingLeft:"20px",fontSize:"12px"},children:s.roadmap.kpis.map((d,m)=>e("li",{children:d},m))})]})]})]},h))]})]})})]})}const cn={"warung sembako":"üè™",kelontong:"üè™","warung makan":"üçΩÔ∏è",coffee:"‚òï",jajanan:"üç™",camilan:"üç™",minuman:"üßã",fashion:"üëó",hijab:"üëó",elektronik:"üì±",gadget:"üì±","pet shop":"üêæ","bahan bangunan":"üß±",mainan:"üéÆ",hobi:"üéÆ",laundry:"üëï","bengkel motor":"üèçÔ∏è",kecantikan:"üíá",salon:"üíá",penjahit:"‚úÇÔ∏è",permak:"‚úÇÔ∏è","kos-kosan":"üè†",penginapan:"üè†",logistik:"üì¶",ekspedisi:"üì¶","sewa kendaraan":"üöó","cuci steam":"üöø",detailing:"üöø",apotek:"üíä",obat:"üíä",event:"üéâ",wedding:"üéâ","bengkel las":"üîß",bubut:"üîß",kontraktor:"üèóÔ∏è",renovasi:"üèóÔ∏è",kriya:"üé®",kerajinan:"üé®",petani:"üå±",holtikultura:"üå±",nelayan:"üêü",ikan:"üêü"};function dn(t){const n=(t||"").toLowerCase();for(const[r,i]of Object.entries(cn))if(n.includes(r))return i;return"üìö"}function pn(){const[t,n]=w(null),[r,i]=w([]),[a,o]=w(!0);O(()=>{c()},[]);const c=async()=>{const l="financialLiteracy";try{const f=localStorage.getItem(l);if(f){const{data:y,timestamp:x}=JSON.parse(f);if(Date.now()-x<864e5){i(y),o(!1);return}}const v=(await(await fetch("/api/knowledge/financial-literacy")).json()).filter(y=>y.week_number&&y.bank_soal&&y.bank_soal.length>0).sort((y,x)=>y.week_number-x.week_number);localStorage.setItem(l,JSON.stringify({data:v,timestamp:Date.now()})),i(v),i(v)}catch(f){console.error("Failed to fetch course:",f)}finally{o(!1)}},s=l=>!l||typeof l!="string"?l:l.replace(/\[Sapaan\]/gi,"Anda"),h=l=>({1:"Fondasi Keuangan dan Pencatatan",2:"Pengelolaan Arus Kas",3:"Perencanaan Usaha",4:"Literasi Digital dan Keamanan"})[l]||`Module ${l}`;if(a)return e("div",{class:"loading",children:"Loading..."});const d=r.reduce((l,u)=>{const f=u.module_number||0;return l[f]||(l[f]=[]),l[f].push(u),l},{}),m=Object.keys(d).sort((l,u)=>l-u);return e(N,{children:[e("div",{class:"card",children:e("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[e(Se,{size:20})," Financial Literacy Course - 15 Weeks"]})}),m.map(l=>{const u=d[l],f=h(parseInt(l));return e("div",{class:"card",children:[e("h3",{style:{marginBottom:"12px",color:"#212529",fontSize:"16px",fontWeight:600},children:["Modul ",l,": ",f]}),e("div",{class:"weeks-grid",children:u.map(_=>{const p=_.bank_soal?.length||0;let v=_.module_name||`Week ${_.week_number}`;return v=v.replace(/^Modul\s+\d+\s*-\s*/i,""),v=v.replace(/^Minggu\s+\d+:\s*/i,""),e("div",{class:"week-card",onClick:()=>n(_),style:{cursor:"pointer"},children:[e("div",{class:"week-header",children:e("div",{class:"week-number",children:["Week ",_.week_number]})}),e("div",{class:"week-title",children:v}),e("div",{class:"week-quiz-count",children:[p," questions"]})]},_.week_number)})})]},l)}),t&&e("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},onClick:()=>n(null),children:e("div",{style:{background:"white",borderRadius:"8px",maxWidth:"1200px",width:"100%",maxHeight:"92vh",overflow:"auto",position:"relative",boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},onClick:l=>l.stopPropagation(),children:[e("div",{style:{position:"sticky",top:0,background:"#f8f9fa",zIndex:1,padding:"14px 18px",borderBottom:"2px solid #dee2e6"},children:[e("button",{onClick:()=>n(null),style:{position:"absolute",top:"10px",right:"14px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",lineHeight:1,padding:"4px 8px"},children:"√ó"}),e("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e("div",{style:{fontSize:"28px",width:"44px",height:"44px",background:"#e9ecef",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:dn(t.module_name)}),e("div",{children:[e("div",{style:{fontSize:"10px",fontWeight:600,color:"#6c757d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:["Week ",t.week_number," ‚Ä¢ Module ",t.module_number]}),e("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#212529"},children:t.module_name?.replace(/^Modul\s+\d+\s*-\s*/i,"").replace(/^Minggu\s+\d+:\s*/i,"")})]})]})]}),e("div",{style:{padding:"16px"},children:[e("div",{style:{marginBottom:"20px"},children:[e("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #0d6efd",paddingBottom:"5px",display:"inline-block"},children:["üìù Bank Soal (",t.bank_soal?.length||0,")"]}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",overflow:"hidden"},children:(t.bank_soal||[]).map((l,u)=>e("div",{style:{borderBottom:u<t.bank_soal.length-1?"1px solid #e9ecef":"none",background:u%2===0?"#fff":"#f8f9fa"},children:e("div",{style:{padding:"10px 14px"},children:[e("div",{style:{fontWeight:600,fontSize:"13px",color:"#212529",marginBottom:"6px"},children:[e("span",{style:{display:"inline-block",width:"24px",color:"#6c757d"},children:[u+1,"."]}),s(l.question)]}),e("div",{style:{paddingLeft:"24px"},children:[(l.options||[]).map((f,_)=>{const p=_===l.correct,v=String.fromCharCode(97+_);return e("div",{style:{padding:"5px 8px",marginBottom:"3px",background:p?"#d1e7dd":"white",border:`1px solid ${p?"#198754":"#dee2e6"}`,borderRadius:"4px",fontSize:"12px",color:p?"#0f5132":"#495057",display:"flex",alignItems:"center"},children:[e("strong",{style:{minWidth:"18px",marginRight:"6px"},children:[v,"."]}),e("span",{style:{flex:1},children:s(f)}),p&&e("span",{style:{marginLeft:"6px",fontSize:"13px"},children:"‚úì"})]},_)}),l.explanation&&e("div",{style:{marginTop:"6px",padding:"6px 8px",background:"#fff3cd",borderLeft:"3px solid #ffc107",fontSize:"11px",color:"#664d03"},children:[e("strong",{children:"üí°"})," ",s(l.explanation)]})]})]})},u))})]}),t.indikator_kelulusan&&t.indikator_kelulusan.length>0&&e("div",{style:{marginBottom:"20px"},children:[e("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #198754",paddingBottom:"5px",display:"inline-block"},children:"‚úÖ Indikator Kelulusan"}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 14px",background:"#f8f9fa"},children:t.indikator_kelulusan.map((l,u)=>e("div",{style:{padding:"4px 0",fontSize:"12px",color:"#495057",display:"flex"},children:[e("span",{style:{minWidth:"18px",color:"#198754",fontWeight:600},children:[u+1,"."]}),e("span",{children:l})]},u))})]}),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"12px"},children:[t.description&&e("div",{style:{gridColumn:"1 / -1",padding:"10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Description"}),e("div",{style:{marginTop:"4px",color:"#6c757d",fontSize:"12px"},children:t.description})]}),t.source_doc_id&&e("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Source"}),e("a",{href:`https://docs.google.com/document/d/${t.source_doc_id}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#0d6efd",fontSize:"11px",textDecoration:"none"},children:"View Google Doc ‚Üí"})]}),t.imported_at&&e("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Imported"}),e("div",{style:{color:"#6c757d",fontSize:"11px"},children:new Date(t.imported_at).toLocaleString()})]})]})]})]})})]})}function hn({phone:t}){const[n,r]=w(null),[i,a]=w(!0),[o,c]=w(null),[s,h]=w("all");O(()=>{d()},[t]);const d=async()=>{try{a(!0);const p=await fetch(`/api/users/${t}/complete`);if(!p.ok)throw new Error("User not found");r(await p.json())}catch(p){c(p.message)}finally{a(!1)}};if(i)return e("div",{class:"card",style:"text-align: center; padding: 40px;",children:"Loading..."});if(o)return e("div",{class:"card",style:"text-align: center; padding: 40px; color: var(--color-danger);",children:o});if(!n)return null;const m={active:"var(--color-success)",pending:"var(--color-warning)",suspended:"var(--color-danger)",inactive:"var(--color-neutral)"},l=p=>"‚≠ê".repeat(p)+"‚òÜ".repeat(5-p),u=()=>{if(!n.literacy)return{completed:0,total:15,percentage:0};const v=Object.keys(n.literacy).filter(y=>y.startsWith("week_")).filter(y=>n.literacy[y]?.score>=70).length;return{completed:v,total:15,percentage:Math.round(v/15*100)}},f=n.loan?.history?.length>0?n.loan.history[n.loan.history.length-1].balance_after:0,_=s==="all"?n.business_intelligence:n.business_intelligence?.filter(p=>p.type===s);return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("button",{onClick:()=>window.history.back(),class:"btn",style:"margin-bottom: 16px;",children:[e(Wt,{size:20,style:"margin-right: 8px;"}),"Back"]}),e("div",{style:"display: flex; justify-content: space-between; align-items: start;",children:[e("div",{children:[e("h1",{style:"margin: 0 0 8px 0;",children:n.name}),e("p",{style:"color: var(--color-neutral); margin: 0 0 4px 0;",children:n.phone}),e("p",{style:"color: var(--color-neutral); font-size: 14px; margin: 0;",children:["Joined ",new Date(n.created_at).toLocaleDateString("id-ID")]})]}),e("span",{class:"status",style:`background: ${m[n.status]}; color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px;`,children:n.status})]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;",children:[e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(tn,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Personal Info"})]}),n.profile?e("div",{children:[e("p",{children:[e("strong",{children:"DOB:"})," ",n.profile.dob?new Date(n.profile.dob).toLocaleDateString("id-ID"):"-"]}),e("p",{children:[e("strong",{children:"Gender:"})," ",n.profile.gender||"-"]}),e("p",{children:[e("strong",{children:"Address:"})," ",n.profile.address||"-"]})]}):e("p",{style:"color: var(--color-neutral);",children:"No profile data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(at,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Business Info"})]}),n.business?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.business.name||"-"]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.business.location||"-"]}),e("p",{children:[e("strong",{children:"Category:"})," ",n.business.category||"-"]}),e("p",{children:[e("strong",{children:"Maturity:"})," ",l(n.business.maturity_level)]})]}):e("p",{style:"color: var(--color-neutral);",children:"No business data"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Jt,{size:24,style:"color: var(--color-success); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Loan Status"})]}),n.loan&&n.loan.limit>0?e("div",{children:[e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 16px;",children:[e("div",{style:"text-align: center; padding: 16px; background: var(--color-primary); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Total Limit"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.limit.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-warning); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Current Debt"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",f.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-success); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Remaining"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.remaining.toLocaleString("id-ID")]})]})]}),n.loan.next_payment_date&&e("div",{style:"padding: 16px; background: var(--color-warning-bg); border-radius: 8px; margin-bottom: 16px;",children:[e("div",{style:"font-weight: bold;",children:"Next Payment"}),e("div",{children:[new Date(n.loan.next_payment_date).toLocaleDateString("id-ID")," - Rp ",n.loan.next_payment_amount.toLocaleString("id-ID")]})]}),n.loan.history?.length>0&&e("div",{children:[e("h3",{children:"Transaction History"}),e("table",{class:"data-table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Type"}),e("th",{style:"text-align: right;",children:"Amount"}),e("th",{style:"text-align: right;",children:"Balance After"})]})}),e("tbody",{children:n.loan.history.map(p=>e("tr",{children:[e("td",{children:new Date(p.date).toLocaleDateString("id-ID")}),e("td",{children:e("span",{class:"status",style:`background: ${p.type==="disbursement"?"var(--color-primary)":"var(--color-success)"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;`,children:p.type})}),e("td",{style:"text-align: right;",children:["Rp ",p.amount.toLocaleString("id-ID")]}),e("td",{style:"text-align: right; font-weight: bold;",children:["Rp ",p.balance_after.toLocaleString("id-ID")]})]},p.id))})]})]})]}):e("p",{style:"color: var(--color-neutral);",children:"No active loan"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Se,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Literacy Progress"})]}),n.literacy?e("div",{children:[e("div",{style:"margin-bottom: 16px;",children:[e("div",{style:"display: flex; justify-content: space-between; margin-bottom: 4px;",children:[e("span",{style:"font-size: 14px; font-weight: bold;",children:"Progress"}),e("span",{style:"font-size: 14px; font-weight: bold;",children:[u().percentage,"%"]})]}),e("div",{style:"width: 100%; background: #e0e0e0; border-radius: 4px; height: 8px;",children:e("div",{style:`background: var(--color-primary); height: 8px; border-radius: 4px; width: ${u().percentage}%`})}),e("p",{style:"font-size: 14px; color: var(--color-neutral); margin-top: 4px;",children:[u().completed," of ",u().total," weeks completed"]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px;",children:Array.from({length:15},(p,v)=>{const y=`week_${String(v+1).padStart(2,"0")}`,L=n.literacy[y]?.score||0,S=L>=70?"var(--color-success)":L>0?"var(--color-warning)":"#ccc";return e("div",{style:`background: ${S}; color: white; text-align: center; padding: 8px; border-radius: 4px; font-size: 12px; font-weight: bold;`,title:`Week ${v+1}: ${L}`,children:v+1},y)})})]}):e("p",{style:"color: var(--color-neutral);",children:"No literacy data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(X,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Majelis"})]}),n.majelis?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.majelis.name]}),e("p",{children:[e("strong",{children:"Schedule:"})," ",n.majelis.schedule_day,", ",n.majelis.schedule_time]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.majelis.location]}),e("p",{children:[e("strong",{children:"Members:"})," ",n.majelis.member_count]})]}):e("p",{style:"color: var(--color-neutral);",children:"Not in any majelis"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("h2",{children:"Business Intelligence"}),e("div",{style:"display: flex; gap: 8px; margin-bottom: 16px; overflow-x: auto;",children:["all","ledger","inventory","building","transaction"].map(p=>e("button",{onClick:()=>h(p),class:"btn",style:s===p?"background: var(--color-primary); color: white;":"",children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),_?.length>0?e("div",{style:"display: grid; gap: 16px;",children:_.map(p=>e("div",{style:"border: 1px solid #ddd; border-radius: 8px; padding: 16px;",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;",children:[e("div",{children:[e("span",{style:"font-weight: bold; font-size: 16px;",children:p.type.toUpperCase()}),e("span",{style:"font-size: 14px; color: var(--color-neutral); margin-left: 8px;",children:["(",p.analysis_category,")"]})]}),e("span",{style:"font-size: 12px; color: var(--color-neutral);",children:new Date(p.analyzed_at).toLocaleDateString("id-ID")})]}),p.type==="ledger"&&p.data&&e("div",{style:"background: var(--color-success-bg); padding: 12px; border-radius: 8px; margin-bottom: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Record Type:"})," ",p.data.record_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Income:"})," Rp ",p.data.daily_income_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Expense:"})," Rp ",p.data.daily_expense_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Profit:"})," Rp ",p.data.daily_profit_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Monthly Cashflow:"})," Rp ",p.data.monthly_cashflow_estimate?.toLocaleString("id-ID")]}),p.data.record_quality&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Quality:"})," ",p.data.record_quality]})]}),p.type==="inventory"&&p.data&&e("div",{style:"background: var(--color-warning-bg); padding: 12px; border-radius: 8px; margin-bottom: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Items:"})," ",p.data.total_items_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Inventory Value:"})," Rp ",p.data.inventory_value_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Stock Level:"})," ",p.data.stock_level]}),p.data.turnover_indicator&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Turnover:"})," ",p.data.turnover_indicator]}),p.data.items&&p.data.items.length>0&&e("div",{style:"margin-top: 8px;",children:[e("strong",{children:"Sample Items:"}),e("ul",{style:"margin: 4px 0; padding-left: 20px;",children:p.data.items.slice(0,3).map((v,y)=>e("li",{children:[v.name," - ",v.quantity_estimate," ",v.unit]},y))})]})]}),p.type==="building"&&p.data&&e("div",{style:"background: var(--color-primary-bg); padding: 12px; border-radius: 8px; margin-bottom: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Type:"})," ",p.data.building_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Condition:"})," ",p.data.condition]}),p.data.size_estimate&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Size:"})," ",p.data.size_estimate]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Location:"})," ",p.data.location_type]}),p.data.visibility&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Visibility:"})," ",p.data.visibility]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Estimated Value:"})," Rp ",p.data.estimated_value?.toLocaleString("id-ID")]})]}),p.type==="transaction"&&p.data&&e("div",{style:"background: var(--color-neutral-bg); padding: 12px; border-radius: 8px; margin-bottom: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Transaction Count:"})," ",p.data.transaction_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Amount:"})," Rp ",p.data.total_amount?.toLocaleString("id-ID")]})]}),p.source?.image_url&&e("img",{src:p.source.image_url,alt:"BI",style:"width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 8px;"}),p.source?.caption&&e("p",{style:"font-size: 14px; color: var(--color-neutral); font-style: italic; margin: 8px 0 0 0;",children:['"',p.source.caption,'"']})]},p.id))}):e("p",{style:"color: var(--color-neutral);",children:"No business intelligence data"})]})]})]})}function un(){const[t,n]=w("");O(()=>{const i=()=>{n(window.location.pathname)};i(),window.addEventListener("popstate",i);const a=new MutationObserver(i);return a.observe(document.body,{childList:!0,subtree:!0}),()=>{window.removeEventListener("popstate",i),a.disconnect()}},[]);const r=(i,a)=>{i.preventDefault(),window.history.pushState({},"",a),window.dispatchEvent(new PopStateEvent("popstate")),n(a)};return e("div",{class:"header",children:e("div",{class:"header-content",children:[e("div",{children:[e("h1",{style:"display: flex; align-items: center; gap: 10px;",children:[e(at,{size:28})," Amartha Admin Dashboard"]}),e("div",{class:"nav",children:[e("a",{href:"/",class:t==="/"?"active":"",onClick:i=>r(i,"/"),children:[e(X,{size:16})," Users"]}),e("a",{href:"/majelis",class:t==="/majelis"?"active":"",onClick:i=>r(i,"/majelis"),children:[e(nn,{size:16})," Majelis"]}),e("a",{href:"/business-types",class:t==="/business-types"?"active":"",onClick:i=>r(i,"/business-types"),children:[e(lt,{size:16})," Business Types"]}),e("a",{href:"/financial-literacy",class:t==="/financial-literacy"?"active":"",onClick:i=>r(i,"/financial-literacy"),children:[e(Se,{size:16})," Financial Literacy"]})]})]}),e("div",{class:"admin-badge",style:"display: flex; align-items: center; gap: 6px;",children:[e(Vt,{size:18})," Admin: ",e("strong",{children:"Petugas Lapangan"})]})]})})}function fn(){return e("div",{class:"container",children:[e(un,{}),e(ot,{children:[e(on,{path:"/"}),e(ln,{path:"/majelis"}),e(sn,{path:"/business-types"}),e(pn,{path:"/financial-literacy"}),e(hn,{path:"/user-profile/:phone"})]})]})}vt(e(fn,{}),document.getElementById("app"));
