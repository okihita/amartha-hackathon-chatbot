(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var ne,S,Oe,J,je,Fe,Ke,Ve,be,ue,fe,qe,Z={},Je=[],ft=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ie=Array.isArray;function R(e,n){for(var i in n)e[i]=n[i];return e}function ke(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ee(e,n,i){var r,a,l,c={};for(l in n)l=="key"?r=n[l]:l=="ref"?a=n[l]:c[l]=n[l];if(arguments.length>2&&(c.children=arguments.length>3?ne.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)c[l]===void 0&&(c[l]=e.defaultProps[l]);return X(e,c,r,a,null)}function X(e,n,i,r,a){var l={type:e,props:n,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++Oe,__i:-1,__u:0};return a==null&&S.vnode!=null&&S.vnode(l),l}function N(e){return e.children}function Y(e,n){this.props=e,this.context=n}function Q(e,n){if(n==null)return e.__?Q(e.__,e.__i+1):null;for(var i;n<e.__k.length;n++)if((i=e.__k[n])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?Q(e):null}function Ge(e){var n,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((i=e.__k[n])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return Ge(e)}}function _e(e){(!e.__d&&(e.__d=!0)&&J.push(e)&&!oe.__r++||je!=S.debounceRendering)&&((je=S.debounceRendering)||Fe)(oe)}function oe(){for(var e,n,i,r,a,l,c,o=1;J.length;)J.length>o&&J.sort(Ke),e=J.shift(),o=J.length,e.__d&&(i=void 0,r=void 0,a=(r=(n=e).__v).__e,l=[],c=[],n.__P&&((i=R({},r)).__v=r.__v+1,S.vnode&&S.vnode(i),xe(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[a]:null,l,a??Q(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,Ye(l,i,c),r.__e=r.__=null,i.__e!=a&&Ge(i)));oe.__r=0}function Qe(e,n,i,r,a,l,c,o,p,d,f){var s,u,h,y,k,m,_,v=r&&r.__k||Je,$=n.length;for(p=_t(i,n,v,p,$),s=0;s<$;s++)(h=i.__k[s])!=null&&(u=h.__i==-1?Z:v[h.__i]||Z,h.__i=s,m=xe(e,h,u,a,l,c,o,p,d,f),y=h.__e,h.ref&&u.ref!=h.ref&&(u.ref&&we(u.ref,null,h),f.push(h.ref,h.__c||y,h)),k==null&&y!=null&&(k=y),(_=!!(4&h.__u))||u.__k===h.__k?p=Xe(h,p,e,_):typeof h.type=="function"&&m!==void 0?p=m:y&&(p=y.nextSibling),h.__u&=-7);return i.__e=k,p}function _t(e,n,i,r,a){var l,c,o,p,d,f=i.length,s=f,u=0;for(e.__k=new Array(a),l=0;l<a;l++)(c=n[l])!=null&&typeof c!="boolean"&&typeof c!="function"?(p=l+u,(c=e.__k[l]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?X(null,c,null,null,null):ie(c)?X(N,{children:c},null,null,null):c.constructor==null&&c.__b>0?X(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=e,c.__b=e.__b+1,o=null,(d=c.__i=mt(c,i,p,s))!=-1&&(s--,(o=i[d])&&(o.__u|=2)),o==null||o.__v==null?(d==-1&&(a>f?u--:a<f&&u++),typeof c.type!="function"&&(c.__u|=4)):d!=p&&(d==p-1?u--:d==p+1?u++:(d>p?u--:u++,c.__u|=4))):e.__k[l]=null;if(s)for(l=0;l<f;l++)(o=i[l])!=null&&(2&o.__u)==0&&(o.__e==r&&(r=Q(o)),et(o,o));return r}function Xe(e,n,i,r){var a,l;if(typeof e.type=="function"){for(a=e.__k,l=0;a&&l<a.length;l++)a[l]&&(a[l].__=e,n=Xe(a[l],n,i,r));return n}e.__e!=n&&(r&&(n&&e.type&&!n.parentNode&&(n=Q(e)),i.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function ce(e,n){return n=n||[],e==null||typeof e=="boolean"||(ie(e)?e.some(function(i){ce(i,n)}):n.push(e)),n}function mt(e,n,i,r){var a,l,c,o=e.key,p=e.type,d=n[i],f=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||f&&o==d.key&&p==d.type)return i;if(r>(f?1:0)){for(a=i-1,l=i+1;a>=0||l<n.length;)if((d=n[c=a>=0?a--:l++])!=null&&(2&d.__u)==0&&o==d.key&&p==d.type)return c}return-1}function $e(e,n,i){n[0]=="-"?e.setProperty(n,i??""):e[n]=i==null?"":typeof i!="number"||ft.test(n)?i:i+"px"}function re(e,n,i,r,a){var l,c;e:if(n=="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(n in r)i&&n in i||$e(e.style,n,"");if(i)for(n in i)r&&i[n]==r[n]||$e(e.style,n,i[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(Ve,"$1")),c=n.toLowerCase(),n=c in e||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=i,i?r?i.u=r.u:(i.u=be,e.addEventListener(n,l?fe:ue,l)):e.removeEventListener(n,l?fe:ue,l);else{if(a=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&i==1?"":i))}}function Te(e){return function(n){if(this.l){var i=this.l[n.type+e];if(n.t==null)n.t=be++;else if(n.t<i.u)return;return i(S.event?S.event(n):n)}}}function xe(e,n,i,r,a,l,c,o,p,d){var f,s,u,h,y,k,m,_,v,$,C,P,I,U,H,A,b,x=n.type;if(n.constructor!=null)return null;128&i.__u&&(p=!!(32&i.__u),l=[o=n.__e=i.__e]),(f=S.__b)&&f(n);e:if(typeof x=="function")try{if(_=n.props,v="prototype"in x&&x.prototype.render,$=(f=x.contextType)&&r[f.__c],C=f?$?$.props.value:f.__:r,i.__c?m=(s=n.__c=i.__c).__=s.__E:(v?n.__c=s=new x(_,C):(n.__c=s=new Y(_,C),s.constructor=x,s.render=gt),$&&$.sub(s),s.props=_,s.state||(s.state={}),s.context=C,s.__n=r,u=s.__d=!0,s.__h=[],s._sb=[]),v&&s.__s==null&&(s.__s=s.state),v&&x.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=R({},s.__s)),R(s.__s,x.getDerivedStateFromProps(_,s.__s))),h=s.props,y=s.state,s.__v=n,u)v&&x.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),v&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(v&&x.getDerivedStateFromProps==null&&_!==h&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(_,C),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(_,s.__s,C)===!1||n.__v==i.__v){for(n.__v!=i.__v&&(s.props=_,s.state=s.__s,s.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.some(function(z){z&&(z.__=n)}),P=0;P<s._sb.length;P++)s.__h.push(s._sb[P]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(_,s.__s,C),v&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(h,y,k)})}if(s.context=C,s.props=_,s.__P=e,s.__e=!1,I=S.__r,U=0,v){for(s.state=s.__s,s.__d=!1,I&&I(n),f=s.render(s.props,s.state,s.context),H=0;H<s._sb.length;H++)s.__h.push(s._sb[H]);s._sb=[]}else do s.__d=!1,I&&I(n),f=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++U<25);s.state=s.__s,s.getChildContext!=null&&(r=R(R({},r),s.getChildContext())),v&&!u&&s.getSnapshotBeforeUpdate!=null&&(k=s.getSnapshotBeforeUpdate(h,y)),A=f,f!=null&&f.type===N&&f.key==null&&(A=Ze(f.props.children)),o=Qe(e,ie(A)?A:[A],n,i,r,a,l,c,o,p,d),s.base=n.__e,n.__u&=-161,s.__h.length&&c.push(s),m&&(s.__E=s.__=null)}catch(z){if(n.__v=null,p||l!=null)if(z.then){for(n.__u|=p?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;l[l.indexOf(o)]=null,n.__e=o}else{for(b=l.length;b--;)ke(l[b]);me(n)}else n.__e=i.__e,n.__k=i.__k,z.then||me(n);S.__e(z,n,i)}else l==null&&n.__v==i.__v?(n.__k=i.__k,n.__e=i.__e):o=n.__e=yt(i.__e,n,i,r,a,l,c,p,d);return(f=S.diffed)&&f(n),128&n.__u?void 0:o}function me(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(me)}function Ye(e,n,i){for(var r=0;r<i.length;r++)we(i[r],i[++r],i[++r]);S.__c&&S.__c(n,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(l){l.call(a)})}catch(l){S.__e(l,a.__v)}})}function Ze(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ie(e)?e.map(Ze):R({},e)}function yt(e,n,i,r,a,l,c,o,p){var d,f,s,u,h,y,k,m=i.props,_=n.props,v=n.type;if(v=="svg"?a="http://www.w3.org/2000/svg":v=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),l!=null){for(d=0;d<l.length;d++)if((h=l[d])&&"setAttribute"in h==!!v&&(v?h.localName==v:h.nodeType==3)){e=h,l[d]=null;break}}if(e==null){if(v==null)return document.createTextNode(_);e=document.createElementNS(a,v,_.is&&_),o&&(S.__m&&S.__m(n,l),o=!1),l=null}if(v==null)m===_||o&&e.data==_||(e.data=_);else{if(l=l&&ne.call(e.childNodes),m=i.props||Z,!o&&l!=null)for(m={},d=0;d<e.attributes.length;d++)m[(h=e.attributes[d]).name]=h.value;for(d in m)if(h=m[d],d!="children"){if(d=="dangerouslySetInnerHTML")s=h;else if(!(d in _)){if(d=="value"&&"defaultValue"in _||d=="checked"&&"defaultChecked"in _)continue;re(e,d,null,h,a)}}for(d in _)h=_[d],d=="children"?u=h:d=="dangerouslySetInnerHTML"?f=h:d=="value"?y=h:d=="checked"?k=h:o&&typeof h!="function"||m[d]===h||re(e,d,h,m[d],a);if(f)o||s&&(f.__html==s.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),n.__k=[];else if(s&&(e.innerHTML=""),Qe(n.type=="template"?e.content:e,ie(u)?u:[u],n,i,r,v=="foreignObject"?"http://www.w3.org/1999/xhtml":a,l,c,l?l[0]:i.__k&&Q(i,0),o,p),l!=null)for(d=l.length;d--;)ke(l[d]);o||(d="value",v=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[d]||v=="progress"&&!y||v=="option"&&y!=m[d])&&re(e,d,y,m[d],a),d="checked",k!=null&&k!=e[d]&&re(e,d,k,m[d],a))}return e}function we(e,n,i){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&n==null||(e.__u=e(n))}else e.current=n}catch(a){S.__e(a,i)}}function et(e,n,i){var r,a;if(S.unmount&&S.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||we(r,null,n)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){S.__e(l,n)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&et(r[a],n,i||typeof e.type!="function");i||ke(e.__e),e.__c=e.__=e.__e=void 0}function gt(e,n,i){return this.constructor(e,i)}function vt(e,n,i){var r,a,l,c;n==document&&(n=document.documentElement),S.__&&S.__(e,n),a=(r=!1)?null:n.__k,l=[],c=[],xe(n,e=n.__k=ee(N,null,[e]),a||Z,Z,n.namespaceURI,a?null:n.firstChild?ne.call(n.childNodes):null,l,a?a.__e:n.firstChild,r,c),Ye(l,e,c)}function bt(e,n,i){var r,a,l,c,o=R({},e.props);for(l in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),n)l=="key"?r=n[l]:l=="ref"?a=n[l]:o[l]=n[l]===void 0&&c!=null?c[l]:n[l];return arguments.length>2&&(o.children=arguments.length>3?ne.call(arguments,2):i),X(e.type,o,r||e.key,a||e.ref,null)}function kt(e){function n(i){var r,a;return this.getChildContext||(r=new Set,(a={})[n.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(c){c.__e=!0,_e(c)})},this.sub=function(l){r.add(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),c&&c.call(l)}}),i.children}return n.__c="__cC"+qe++,n.__=e,n.Provider=n.__l=(n.Consumer=function(i,r){return i.children(r)}).contextType=n,n}ne=Je.slice,S={__e:function(e,n,i,r){for(var a,l,c;n=n.__;)if((a=n.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(e)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),c=a.__d),c)return a.__E=a}catch(o){e=o}throw e}},Oe=0,Y.prototype.setState=function(e,n){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=R({},this.state),typeof e=="function"&&(e=e(R({},i),this.props)),e&&R(i,e),e!=null&&this.__v&&(n&&this._sb.push(n),_e(this))},Y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_e(this))},Y.prototype.render=N,J=[],Fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ke=function(e,n){return e.__v.__b-n.__v.__b},oe.__r=0,Ve=/(PointerCapture)$|Capture$/i,be=0,ue=Te(!1),fe=Te(!0),qe=0;var xt=0;function t(e,n,i,r,a,l){n||(n={});var c,o,p=n;if("ref"in p)for(o in p={},n)o=="ref"?c=n[o]:p[o]=n[o];var d={type:e,props:p,key:i,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--xt,__i:-1,__u:0,__source:a,__self:l};if(typeof e=="function"&&(c=e.defaultProps))for(o in c)p[o]===void 0&&(p[o]=c[o]);return S.vnode&&S.vnode(d),d}var de,T,he,Le,ye=0,tt=[],L=S,ze=L.__b,Pe=L.__r,De=L.diffed,Ae=L.__c,Be=L.unmount,Ue=L.__;function nt(e,n){L.__h&&L.__h(T,e,ye||n),ye=0;var i=T.__H||(T.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function w(e){return ye=1,wt(it,e)}function wt(e,n,i){var r=nt(de++,2);if(r.t=e,!r.__c&&(r.__=[it(void 0,n),function(o){var p=r.__N?r.__N[0]:r.__[0],d=r.t(p,o);p!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=T,!T.__f)){var a=function(o,p,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(u){return!!u.__c});if(f.every(function(u){return!u.__N}))return!l||l.call(this,o,p,d);var s=r.__c.props!==o;return f.forEach(function(u){if(u.__N){var h=u.__[0];u.__=u.__N,u.__N=void 0,h!==u.__[0]&&(s=!0)}}),l&&l.call(this,o,p,d)||s};T.__f=!0;var l=T.shouldComponentUpdate,c=T.componentWillUpdate;T.componentWillUpdate=function(o,p,d){if(this.__e){var f=l;l=void 0,a(o,p,d),l=f}c&&c.call(this,o,p,d)},T.shouldComponentUpdate=a}return r.__N||r.__}function O(e,n){var i=nt(de++,3);!L.__s&&Mt(i.__H,n)&&(i.__=e,i.u=n,T.__H.__h.push(i))}function Ct(){for(var e;e=tt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(se),e.__H.__h.forEach(ge),e.__H.__h=[]}catch(n){e.__H.__h=[],L.__e(n,e.__v)}}L.__b=function(e){T=null,ze&&ze(e)},L.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),Ue&&Ue(e,n)},L.__r=function(e){Pe&&Pe(e),de=0;var n=(T=e.__c).__H;n&&(he===T?(n.__h=[],T.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(n.__h.forEach(se),n.__h.forEach(ge),n.__h=[],de=0)),he=T},L.diffed=function(e){De&&De(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(tt.push(n)!==1&&Le===L.requestAnimationFrame||((Le=L.requestAnimationFrame)||St)(Ct)),n.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),he=T=null},L.__c=function(e,n){n.some(function(i){try{i.__h.forEach(se),i.__h=i.__h.filter(function(r){return!r.__||ge(r)})}catch(r){n.some(function(a){a.__h&&(a.__h=[])}),n=[],L.__e(r,i.__v)}}),Ae&&Ae(e,n)},L.unmount=function(e){Be&&Be(e);var n,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{se(r)}catch(a){n=a}}),i.__H=void 0,n&&L.__e(n,i.__v))};var Ie=typeof requestAnimationFrame=="function";function St(e){var n,i=function(){clearTimeout(r),Ie&&cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(i,35);Ie&&(n=requestAnimationFrame(i))}function se(e){var n=T,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),T=n}function ge(e){var n=T;e.__c=e.__(),T=n}function Mt(e,n){return!e||e.length!==n.length||n.some(function(i,r){return i!==e[r]})}function it(e,n){return typeof n=="function"?n(e):n}var jt={};function le(e,n){for(var i in n)e[i]=n[i];return e}function $t(e,n,i){var r,a=/(?:\?([^#]*))?(#.*)?$/,l=e.match(a),c={};if(l&&l[1])for(var o=l[1].split("&"),p=0;p<o.length;p++){var d=o[p].split("=");c[decodeURIComponent(d[0])]=decodeURIComponent(d.slice(1).join("="))}e=ve(e.replace(a,"")),n=ve(n||"");for(var f=Math.max(e.length,n.length),s=0;s<f;s++)if(n[s]&&n[s].charAt(0)===":"){var u=n[s].replace(/(^:|[+*?]+$)/g,""),h=(n[s].match(/[+*?]+$/)||jt)[0]||"",y=~h.indexOf("+"),k=~h.indexOf("*"),m=e[s]||"";if(!m&&!k&&(h.indexOf("?")<0||y)){r=!1;break}if(c[u]=decodeURIComponent(m),y||k){c[u]=e.slice(s).map(decodeURIComponent).join("/");break}}else if(n[s]!==e[s]){r=!1;break}return(i.default===!0||r!==!1)&&c}function Tt(e,n){return e.rank<n.rank?1:e.rank>n.rank?-1:e.index-n.index}function Lt(e,n){return e.index=n,e.rank=(function(i){return i.props.default?0:ve(i.props.path).map(zt).join("")})(e),e.props}function ve(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function zt(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var Pt={},G=[],Ee=[],B=null,rt={url:Ce()},Dt=kt(rt);function Ce(){var e;return""+((e=B&&B.location?B.location:B&&B.getCurrentLocation?B.getCurrentLocation():typeof location<"u"?location:Pt).pathname||"")+(e.search||"")}function lt(e,n){return n===void 0&&(n=!1),typeof e!="string"&&e.url&&(n=e.replace,e=e.url),(function(i){for(var r=G.length;r--;)if(G[r].canRoute(i))return!0;return!1})(e)&&(function(i,r){r===void 0&&(r="push"),B&&B[r]?B[r](i):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,i)})(e,n?"replace":"push"),st(e)}function st(e){for(var n=!1,i=0;i<G.length;i++)G[i].routeTo(e)&&(n=!0);return n}function At(e){if(e&&e.getAttribute){var n=e.getAttribute("href"),i=e.getAttribute("target");if(n&&n.match(/^\//g)&&(!i||i.match(/^_?self$/i)))return lt(n)}}function Bt(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function Ut(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var n=e.target;do if(n.localName==="a"&&n.getAttribute("href")){if(n.hasAttribute("data-native")||n.hasAttribute("native"))return;if(At(n))return Bt(e)}while(n=n.parentNode)}}var Ne=!1;function at(e){e.history&&(B=e.history),this.state={url:e.url||Ce()}}le(at.prototype=new Y,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var n=ce(this.props.children);return this.g(n,e)!==void 0},routeTo:function(e){this.setState({url:e});var n=this.canRoute(e);return this.p||this.forceUpdate(),n},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Ne||(Ne=!0,B||addEventListener("popstate",function(){st(Ce())}),addEventListener("click",Ut)),G.push(this),B&&(this.u=B.listen(function(n){var i=n.location||n;e.routeTo(""+(i.pathname||"")+(i.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),G.splice(G.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,n){e=e.filter(Lt).sort(Tt);for(var i=0;i<e.length;i++){var r=e[i],a=$t(n,r.props.path,r.props);if(a)return[r,a]}},render:function(e,n){var i,r,a=e.onChange,l=n.url,c=this.c,o=this.g(ce(e.children),l);if(o&&(r=bt(o[0],le(le({url:l,matches:i=o[1]},i),{key:void 0,ref:void 0}))),l!==(c&&c.url)){le(rt,c=this.c={url:l,previous:c&&c.url,current:r,path:r?r.props.path:null,matches:i}),c.router=this,c.active=r?[r]:[];for(var p=Ee.length;p--;)Ee[p]({});typeof a=="function"&&a(c)}return ee(Dt.Provider,{value:c},r)}});const Re=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),It=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),He=e=>{const n=It(e);return n.charAt(0).toUpperCase()+n.slice(1)},Et=(...e)=>e.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim();var Nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const Rt=({color:e="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,children:a,iconNode:l,class:c="",...o})=>ee("svg",{...Nt,width:String(n),height:n,stroke:e,"stroke-width":r?Number(i)*24/Number(n):i,class:["lucide",c].join(" "),...o},[...l.map(([p,d])=>ee(p,d)),...ce(a)]);const M=(e,n)=>{const i=({class:r="",className:a="",children:l,...c})=>ee(Rt,{...c,iconNode:n,class:Et(`lucide-${Re(He(e))}`,`lucide-${Re(e)}`,r,a)},l);return i.displayName=He(e),i};const Se=M("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Me=M("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const Ht=M("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);const Wt=M("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Ot=M("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ft=M("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Kt=M("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const Vt=M("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ot=M("dice-5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);const qt=M("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Jt=M("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Gt=M("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Qt=M("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Xt=M("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const ct=M("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const dt=M("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Yt=M("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const Zt=M("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const en=M("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const tn=M("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const nn=M("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);const te=M("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const rn=M("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function pt({message:e,type:n="success",onClose:i}){O(()=>{const a=setTimeout(i,3e3);return()=>clearTimeout(a)},[i]);const r={success:t(Ft,{size:20}),error:t(Vt,{size:20}),info:t(qt,{size:20})};return t("div",{class:`toast toast-${n}`,children:[r[n],t("span",{children:e})]})}function ht({title:e,message:n,onConfirm:i,onCancel:r,confirmText:a="Confirm",cancelText:l="Cancel",type:c="danger"}){return t("div",{class:"modal-overlay",onClick:r,children:t("div",{class:"confirm-dialog",onClick:o=>o.stopPropagation(),children:[t("div",{class:"confirm-icon",children:t(Zt,{size:48})}),t("h3",{children:e}),t("p",{children:n}),t("div",{class:"confirm-actions",children:[t("button",{class:"btn btn-secondary",onClick:r,children:l}),t("button",{class:`btn btn-${c}`,onClick:i,children:a})]})]})})}function ut(){const[e,n]=w(null),[i,r]=w(null);return{toast:e,confirmDialog:i,showToast:(c,o="success")=>{n({message:c,type:o})},showConfirm:c=>new Promise(o=>{r({...c,onConfirm:()=>{r(null),o(!0)},onCancel:()=>{r(null),o(!1)}})}),clearToast:()=>n(null)}}const E=async(e,n={})=>{const i=await fetch(e,n);if(!i.ok){const r=await i.json().catch(()=>({error:"Request failed"}));throw new Error(r.error||"Request failed")}return i.json()},ae={getAll:()=>fetch("/api/users").then(e=>e.json()),verify:(e,n)=>E("/api/users/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,status:n})}),delete:e=>E(`/api/users/${e}`,{method:"DELETE"})},q={getAll:()=>fetch("/api/majelis").then(e=>e.json()),create:e=>E("/api/majelis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),update:(e,n)=>E(`/api/majelis/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),delete:e=>E(`/api/majelis/${e}`,{method:"DELETE"}),addMember:(e,n)=>E(`/api/majelis/${e}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n})}),removeMember:(e,n)=>E(`/api/majelis/${e}/members/${n}`,{method:"DELETE"})},pe={populateMockUsers:()=>E("/api/superadmin/populate-mock",{method:"POST"}),deleteAllMockUsers:()=>E("/api/superadmin/delete-all-mock",{method:"DELETE"}),populateMockMajelis:()=>E("/api/superadmin/populate-mock-majelis",{method:"POST"}),deleteAllMockMajelis:()=>E("/api/superadmin/delete-all-mock-majelis",{method:"DELETE"})};function ln(){const[e,n]=w([]),[i,r]=w([]),[a,l]=w(null),[c,o]=w({key:null,direction:"asc"}),[p,d]=w(!1),[f,s]=w(""),{toast:u,confirmDialog:h,showToast:y,showConfirm:k,clearToast:m}=ut();O(()=>{_()},[]);const _=async()=>{try{const[b,x]=await Promise.all([ae.getAll(),q.getAll()]);n(b),r(x)}catch{y("Failed to fetch data","error")}},v=b=>{let x="asc";c.key===b&&c.direction==="asc"&&(x="desc"),o({key:b,direction:x})},$=[...e].sort((b,x)=>{if(!c.key)return 0;let z,F;if(c.key==="majelis_name"){const g=b.majelis_id?i.find(D=>D.id===b.majelis_id):null,j=x.majelis_id?i.find(D=>D.id===x.majelis_id):null;z=g?.name||"",F=j?.name||""}else z=b[c.key]||"",F=x[c.key]||"";return z<F?c.direction==="asc"?-1:1:z>F?c.direction==="asc"?1:-1:0}),C=async(b,x)=>{l(b);try{await ae.verify(b,x),await _(),y("User verified successfully")}catch(z){y(z.message,"error")}finally{l(null)}},P=async(b,x)=>{if(await k({title:"Delete User",message:`Are you sure you want to delete ${x}? This action cannot be undone.`})){l(b);try{await ae.delete(b),await _(),y("User deleted successfully")}catch(F){y(F.message,"error")}finally{l(null)}}},I=async()=>{if(await k({title:"Populate Mock Data",message:"This will create 8 mock users in the database. Continue?",confirmText:"Populate",type:"primary"})){l("mock");try{await pe.populateMockUsers(),await _(),y("Mock data populated successfully!")}catch(x){y(x.message,"error")}finally{l(null)}}},U=()=>{d(!0),s("")},H=async()=>{if(f!=="delete"){alert('Please type "delete" to confirm');return}l("delete-all"),d(!1);try{await pe.deleteAllMockUsers(),await _(),y("All mock users deleted successfully!")}catch(b){y(b.message,"error")}finally{l(null),s("")}},A=b=>c.key!==b?"‚áÖ":c.direction==="asc"?"‚Üë":"‚Üì";return t(N,{children:[t("div",{class:"card",children:[t("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;",children:[t("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[t(te,{size:24})," User Management (",e.length,")"]}),t("div",{style:"display: flex; gap: 0.5rem;",children:[t("button",{class:"btn btn-primary",onClick:I,disabled:a==="mock",children:[t(ot,{size:16})," Populate Mock Data"]}),t("button",{class:"btn btn-danger",onClick:U,disabled:a==="delete-all",children:[t(dt,{size:16})," Delete All Mock"]})]})]}),t("table",{children:[t("thead",{children:t("tr",{children:[t("th",{onClick:()=>v("name"),style:"cursor: pointer;",children:["Name ",A("name")]}),t("th",{onClick:()=>v("phone"),style:"cursor: pointer;",children:["Phone ",A("phone")]}),t("th",{onClick:()=>v("business_type"),style:"cursor: pointer;",children:["Business ",A("business_type")]}),t("th",{onClick:()=>v("location"),style:"cursor: pointer;",children:["Location ",A("location")]}),t("th",{onClick:()=>v("majelis_name"),style:"cursor: pointer;",children:["Majelis ",A("majelis_name")]}),t("th",{onClick:()=>v("is_verified"),style:"cursor: pointer;",children:["Status ",A("is_verified")]}),t("th",{children:"Actions"})]})}),t("tbody",{children:$.map(b=>{const x=b.majelis_id?i.find(z=>z.id===b.majelis_id):null;return t("tr",{children:[t("td",{children:t("strong",{children:t("a",{href:`/user-profile/${b.phone}`,class:"user-link",children:b.name})})}),t("td",{children:b.phone}),t("td",{children:b.business_type}),t("td",{children:b.location}),t("td",{children:t("span",{class:`status ${x?"verified":"unassigned"}`,children:x?t(N,{children:[t(te,{size:14,style:"display: inline; vertical-align: middle; margin-right: 4px;"}),x.name]}):"‚Äî"})}),t("td",{children:t("span",{class:`status ${b.is_verified?"verified":"pending"}`,children:b.is_verified?"Verified":"Pending"})}),t("td",{children:t("div",{class:"actions",children:[t("button",{class:"btn btn-icon btn-success",onClick:()=>C(b.phone,!0),disabled:a===b.phone||b.is_verified===!0,title:"Verify user",children:t(Ot,{size:16})}),t("button",{class:"btn btn-icon btn-secondary",onClick:()=>P(b.phone,b.name),disabled:a===b.phone,title:"Delete user",children:t(ct,{size:16})})]})})]},b.phone)})})]})]}),p&&t("div",{class:"modal-overlay",onClick:()=>d(!1),children:t("div",{class:"modal-content",onClick:b=>b.stopPropagation(),children:[t("h3",{children:"‚ö†Ô∏è Delete All Mock Users"}),t("p",{children:"This will permanently delete all mock users from the database."}),t("p",{children:t("strong",{children:'Type "delete" to confirm:'})}),t("input",{type:"text",value:f,onInput:b=>s(b.target.value),placeholder:"Type delete here",style:"width: 100%; padding: 0.5rem; margin: 1rem 0;"}),t("div",{style:"display: flex; gap: 0.5rem; justify-content: flex-end;",children:[t("button",{class:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),t("button",{class:"btn btn-danger",onClick:H,disabled:f!=="delete",children:"Delete All"})]})]})}),u&&t(pt,{message:u.message,type:u.type,onClose:m}),h&&t(ht,{...h})]})}function sn(){const[e,n]=w([]),[i,r]=w([]),[a,l]=w(!1),[c,o]=w(null),[p,d]=w({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),[f,s]=w(null),[u,h]=w(""),[y,k]=w([]),[m,_]=w(null),{toast:v,confirmDialog:$,showToast:C,showConfirm:P,clearToast:I}=ut();O(()=>{U()},[]),O(()=>{if(!u.trim()||!f){k([]);return}const g=u.toLowerCase(),D=e.find(W=>W.id===f)?.members||[],V=i.filter(W=>W.is_verified===!0&&!D.includes(W.phone)&&!W.majelis_id).filter(W=>W.name?.toLowerCase().includes(g)||W.phone?.includes(g)).slice(0,5);k(V)},[u,i,f,e]);const U=async()=>{try{const[g,j]=await Promise.all([q.getAll(),ae.getAll()]);n(g),r(j)}catch{C("Failed to fetch data","error")}},H=async g=>{g.preventDefault();try{c?await q.update(c,p):await q.create(p),l(!1),o(null),d({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),U(),C(`Majelis ${c?"updated":"created"} successfully`)}catch(j){C(j.message,"error")}},A=async(g,j)=>{if(await P({title:"Delete Majelis",message:`Are you sure you want to delete "${j}"? All member associations will be cleared.`}))try{await q.delete(g),U(),C("Majelis deleted successfully")}catch(K){C(K.message,"error")}},b=async(g,j)=>{try{await q.addMember(g,j),s(null),h(""),U(),C("Member added successfully")}catch(D){C(D.message,"error")}},x=async(g,j)=>{const D=i.find(V=>V.phone===j);if(await P({title:"Remove Member",message:`Remove ${D?.name||j} from this majelis?`,confirmText:"Remove"}))try{await q.removeMember(g,j),U(),C("Member removed successfully")}catch(V){C(V.message,"error")}};return t(N,{children:[t("div",{class:"card",children:[t("div",{class:"card-header-actions",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(te,{size:24})," Majelis Groups"]}),t("div",{style:"display: flex; gap: 8px;",children:[t("button",{class:"btn btn-primary",onClick:()=>l(!0),children:[t(Qt,{size:16})," Create Majelis"]}),t("button",{class:"btn btn-secondary",onClick:async()=>{if(await P({title:"Populate Mock Majelis",message:"This will create 3 mock majelis groups. Continue?",confirmText:"Populate",type:"primary"})){_("mock");try{await pe.populateMockMajelis(),U(),C("Mock majelis populated!")}catch(j){C(j.message,"error")}finally{_(null)}}},disabled:m==="mock",children:[t(ot,{size:16})," Populate Mock"]}),t("button",{class:"btn btn-danger",onClick:async()=>{if(await P({title:"Delete All Mock Majelis",message:"This will permanently delete all mock majelis groups. Continue?",confirmText:"Delete All"})){_("delete-all");try{await pe.deleteAllMockMajelis(),U(),C("All mock majelis deleted!")}catch(j){C(j.message,"error")}finally{_(null)}}},disabled:m==="delete-all",children:[t(dt,{size:16})," Delete All Mock"]})]})]}),t("div",{class:"majelis-grid",children:e.length===0?t("div",{class:"empty-state",children:t("p",{children:"No majelis yet. Create one!"})}):e.map(g=>{const j=g.members?.length||0;return t("div",{class:"majelis-card",children:[t("h3",{children:g.name}),t("div",{class:"info-row",children:[t("span",{children:[t(Wt,{size:14})," ",g.schedule_day," ",g.schedule_time]}),t("span",{children:[t(Jt,{size:14})," ",g.location||"No location"]})]}),g.description&&t("p",{class:"majelis-description",children:g.description}),t("div",{class:"member-section",children:[t("div",{class:"member-header",children:[t("span",{class:"member-count",children:[t(te,{size:14})," ",j," member",j!==1?"s":""]}),t("button",{class:"btn btn-primary btn-icon",onClick:()=>s(g.id),title:"Add member",children:t(en,{size:14})})]}),j===0?t("div",{class:"no-members",children:"No members yet. Click + to add."}):t("div",{class:"member-list",children:g.members.map(D=>{const K=i.find(V=>V.phone===D);return t("div",{class:"member-item",children:[t("div",{class:"member-info",children:[t("div",{class:"member-name",children:K?.name||D}),K&&t("div",{class:"member-business",children:K.business_type})]}),t("button",{class:"btn-remove",onClick:()=>x(g.id,D),title:"Remove member",children:t(rn,{size:14})})]},D)})})]}),t("div",{class:"actions",children:[t("button",{class:"btn btn-secondary",onClick:()=>{o(g.id),d(g),l(!0)},children:[t(Gt,{size:14})," ",t("span",{class:"btn-text",children:"Edit"})]}),t("button",{class:"btn btn-danger",onClick:()=>A(g.id,g.name),children:[t(ct,{size:14})," ",t("span",{class:"btn-text",children:"Delete"})]})]})]},g.id)})})]}),a&&t("div",{class:"modal active",children:t("div",{class:"modal-content",children:[t("h2",{children:[c?"Edit":"Create"," Majelis"]}),t("form",{onSubmit:H,children:[t("div",{class:"form-group",children:[t("label",{children:"Name *"}),t("input",{type:"text",value:p.name,onInput:g=>d({...p,name:g.target.value}),required:!0})]}),t("div",{class:"form-group",children:[t("label",{children:"Description"}),t("textarea",{value:p.description,onInput:g=>d({...p,description:g.target.value})})]}),t("div",{class:"form-group",children:[t("label",{children:"Schedule Day *"}),t("select",{value:p.schedule_day,onChange:g=>d({...p,schedule_day:g.target.value}),required:!0,children:[t("option",{value:"",children:"Select day"}),t("option",{value:"Senin",children:"Senin"}),t("option",{value:"Selasa",children:"Selasa"}),t("option",{value:"Rabu",children:"Rabu"}),t("option",{value:"Kamis",children:"Kamis"}),t("option",{value:"Jumat",children:"Jumat"}),t("option",{value:"Sabtu",children:"Sabtu"})]})]}),t("div",{class:"form-group",children:[t("label",{children:"Schedule Time"}),t("input",{type:"time",value:p.schedule_time,onInput:g=>d({...p,schedule_time:g.target.value})})]}),t("div",{class:"form-group",children:[t("label",{children:"Location"}),t("input",{type:"text",value:p.location,onInput:g=>d({...p,location:g.target.value})})]}),t("div",{class:"form-actions",children:[t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{l(!1),o(null),d({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""})},children:"Cancel"}),t("button",{type:"submit",class:"btn btn-primary",children:"Save"})]})]})]})}),f&&t("div",{class:"modal active",onClick:g=>{g.target.className==="modal active"&&(s(null),h(""))},children:t("div",{class:"modal-content modal-sm",children:[t("h2",{children:"Add Member"}),t("div",{class:"form-group",children:[t("label",{children:"Search by name or phone"}),t("input",{type:"text",value:u,onInput:g=>h(g.target.value),placeholder:"Type to search...",autoFocus:!0}),y.length>0&&t("div",{class:"autocomplete-results",children:y.map(g=>t("div",{class:"autocomplete-item",onClick:()=>b(f,g.phone),children:[t("div",{class:"autocomplete-name",children:g.name}),t("div",{class:"autocomplete-details",children:[g.phone," ‚Ä¢ ",g.business_type]})]},g.phone))}),u&&y.length===0&&t("div",{class:"autocomplete-empty",children:"No verified users found"})]}),t("div",{class:"form-actions",children:t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{s(null),h("")},children:"Cancel"})})]})}),v&&t(pt,{message:v.message,type:v.type,onClose:I}),$&&t(ht,{...$})]})}const an={"warung sembako":"üè™",kelontong:"üè™","warung makan":"üçΩÔ∏è",coffee:"‚òï",jajanan:"üç™",camilan:"üç™",minuman:"üßã",fashion:"üëó",hijab:"üëó",elektronik:"üì±",gadget:"üì±","pet shop":"üêæ","bahan bangunan":"üß±",mainan:"üéÆ",hobi:"üéÆ",laundry:"üëï","bengkel motor":"üèçÔ∏è",kecantikan:"üíá",salon:"üíá",penjahit:"‚úÇÔ∏è",permak:"‚úÇÔ∏è","kos-kosan":"üè†",penginapan:"üè†",logistik:"üì¶",ekspedisi:"üì¶","sewa kendaraan":"üöó","cuci steam":"üöø",detailing:"üöø",apotek:"üíä",obat:"üíä",event:"üéâ",wedding:"üéâ","bengkel las":"üîß",bubut:"üîß",kontraktor:"üèóÔ∏è",renovasi:"üèóÔ∏è",kriya:"üé®",kerajinan:"üé®",petani:"üå±",holtikultura:"üå±",nelayan:"üêü",ikan:"üêü"};function We(e){const n=e.toLowerCase();for(const[i,r]of Object.entries(an))if(n.includes(i))return r;return"üè¢"}function on(){const[e,n]=w(null),[i,r]=w([]),[a,l]=w(!0);O(()=>{c()},[]);const c=async()=>{const o="businessTypes";try{const d=localStorage.getItem(o);if(d){const{data:h,timestamp:y}=JSON.parse(d);if(Date.now()-y<864e5){r(h),l(!1);return}}const u=(await(await fetch("/api/knowledge/business-types")).json()).sort((h,y)=>(h.category_number||999)-(y.category_number||999));localStorage.setItem(o,JSON.stringify({data:u,timestamp:Date.now()})),r(u)}catch(d){console.error("Failed to fetch business types",d)}finally{l(!1)}};return a?t("div",{class:"loading",children:"Loading business types..."}):i.length===0?t("div",{class:"card",children:t("div",{class:"empty-state",children:[t("div",{class:"empty-state-icon",children:"üì¶"}),t("h3",{children:"No Business Types Found"}),t("p",{children:"Business classifications haven't been imported yet."})]})}):t(N,{children:[t("div",{class:"card",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(Me,{size:20})," Business Classifications & Maturity Levels"]}),t("div",{class:"business-grid",children:i.map(o=>{const p=o.category_number?`Kategori ${o.category_number}`:"Mikro",d=We(o.business_type),f=(o.maturity_levels||[]).filter(s=>s.goal).map(s=>`Level ${s.level}: ${s.goal}`);return t("div",{class:"business-card",onClick:()=>n(o),style:{cursor:"pointer"},children:[t("div",{class:"card-header",children:[t("div",{class:"card-icon",children:d}),t("div",{class:"card-title-section",children:[t("div",{class:"category",children:p}),t("h3",{children:o.business_type})]})]}),f.length>0&&t("div",{class:"goals",children:[t("strong",{class:"business-type-header",children:"Level Up Goals:"}),f.map((s,u)=>t("div",{class:"goal-item",children:s},u))]})]},o.id)})})]}),e&&t("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>n(null),children:t("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:o=>o.stopPropagation(),children:[t("div",{style:{position:"sticky",top:0,background:"white",zIndex:1,padding:"24px 24px 16px",borderBottom:"1px solid #eee"},children:[t("button",{onClick:()=>n(null),style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",lineHeight:1},children:"√ó"}),t("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[t("div",{style:{fontSize:"40px",width:"60px",height:"60px",background:"#f5f5f5",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:We(e.business_type)}),t("div",{children:[t("div",{style:{display:"inline-block",padding:"4px 12px",background:"#e3f2fd",color:"#1976d2",borderRadius:"12px",fontSize:"12px",fontWeight:600,marginBottom:"4px"},children:e.category_number?`Kategori ${e.category_number}`:"Mikro"}),t("h2",{style:{margin:0,fontSize:"24px"},children:e.business_type})]})]})]}),t("div",{style:{padding:"24px"},children:[e.description&&t("div",{style:{marginBottom:"24px",color:"#555",lineHeight:1.6},children:e.description}),t("h3",{style:{fontSize:"18px",marginBottom:"16px",color:"#333",borderBottom:"2px solid #f0f0f0",paddingBottom:"8px"},children:"üìà Maturity Levels & Roadmap"}),(e.maturity_levels||[]).sort((o,p)=>o.level-p.level).map((o,p)=>t("div",{style:{marginBottom:"24px",padding:"20px",background:"#fafafa",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[t("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #ddd"},children:[t("div",{style:{fontWeight:800,color:"#007bff",fontSize:"16px"},children:["LEVEL ",o.level]}),t("div",{style:{fontWeight:600,color:"#333",fontSize:"16px"},children:o.name||o.goal})]}),o.character?.length>0&&t("div",{style:{marginBottom:"16px"},children:[t("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"üîç Karakteristik"}),t("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#555"},children:o.character.map((d,f)=>t("li",{children:d},f))})]}),(o.swot?.strengths?.length>0||o.swot?.weaknesses?.length>0||o.swot?.opportunities?.length>0||o.swot?.threats?.length>0)&&t("div",{style:{marginBottom:"16px"},children:[t("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"12px"},children:"üìä SWOT Analysis"}),t("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[o.swot?.strengths?.length>0&&t("div",{style:{background:"#e3f2fd",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[t("strong",{style:{color:"#1976d2",display:"block",marginBottom:"6px",fontSize:"13px"},children:"üí™ Strengths"}),t("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:o.swot.strengths.map((d,f)=>t("li",{children:d},f))})]}),o.swot?.weaknesses?.length>0&&t("div",{style:{background:"#ffebee",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #f44336"},children:[t("strong",{style:{color:"#c62828",display:"block",marginBottom:"6px",fontSize:"13px"},children:"‚ö†Ô∏è Weaknesses"}),t("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:o.swot.weaknesses.map((d,f)=>t("li",{children:d},f))})]}),o.swot?.opportunities?.length>0&&t("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #4caf50"},children:[t("strong",{style:{color:"#2e7d32",display:"block",marginBottom:"6px",fontSize:"13px"},children:"üéØ Opportunities"}),t("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:o.swot.opportunities.map((d,f)=>t("li",{children:d},f))})]}),o.swot?.threats?.length>0&&t("div",{style:{background:"#fff8e1",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #ff9800"},children:[t("strong",{style:{color:"#e65100",display:"block",marginBottom:"6px",fontSize:"13px"},children:"‚ö° Threats"}),t("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:o.swot.threats.map((d,f)=>t("li",{children:d},f))})]})]})]}),(o.roadmap?.description||o.roadmap?.kpis?.length>0)&&t("div",{style:{background:"white",padding:"15px",borderRadius:"8px",border:"1px dashed #ccc"},children:[t("h4",{style:{fontSize:"14px",color:"#333",marginBottom:"8px"},children:"üöÄ How to Level Up"}),o.roadmap?.description&&t("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px",fontStyle:"italic"},children:o.roadmap.description}),o.roadmap?.kpis?.length>0&&t("div",{children:[t("strong",{style:{fontSize:"13px",color:"#666"},children:"Target KPIs:"}),t("ul",{style:{margin:"5px 0 0",paddingLeft:"20px",fontSize:"12px"},children:o.roadmap.kpis.map((d,f)=>t("li",{children:d},f))})]})]})]},p))]})]})})]})}const cn={"warung sembako":"üè™",kelontong:"üè™","warung makan":"üçΩÔ∏è",coffee:"‚òï",jajanan:"üç™",camilan:"üç™",minuman:"üßã",fashion:"üëó",hijab:"üëó",elektronik:"üì±",gadget:"üì±","pet shop":"üêæ","bahan bangunan":"üß±",mainan:"üéÆ",hobi:"üéÆ",laundry:"üëï","bengkel motor":"üèçÔ∏è",kecantikan:"üíá",salon:"üíá",penjahit:"‚úÇÔ∏è",permak:"‚úÇÔ∏è","kos-kosan":"üè†",penginapan:"üè†",logistik:"üì¶",ekspedisi:"üì¶","sewa kendaraan":"üöó","cuci steam":"üöø",detailing:"üöø",apotek:"üíä",obat:"üíä",event:"üéâ",wedding:"üéâ","bengkel las":"üîß",bubut:"üîß",kontraktor:"üèóÔ∏è",renovasi:"üèóÔ∏è",kriya:"üé®",kerajinan:"üé®",petani:"üå±",holtikultura:"üå±",nelayan:"üêü",ikan:"üêü"};function dn(e){const n=(e||"").toLowerCase();for(const[i,r]of Object.entries(cn))if(n.includes(i))return r;return"üìö"}function pn(){const[e,n]=w(null),[i,r]=w([]),[a,l]=w(!0);O(()=>{c()},[]);const c=async()=>{const s="financialLiteracy";try{const h=localStorage.getItem(s);if(h){const{data:_,timestamp:v}=JSON.parse(h);if(Date.now()-v<864e5){r(_),l(!1);return}}const m=(await(await fetch("/api/knowledge/financial-literacy")).json()).filter(_=>_.week_number&&_.bank_soal&&_.bank_soal.length>0).sort((_,v)=>_.week_number-v.week_number);localStorage.setItem(s,JSON.stringify({data:m,timestamp:Date.now()})),r(m),r(m)}catch(h){console.error("Failed to fetch course:",h)}finally{l(!1)}},o=s=>!s||typeof s!="string"?s:s.replace(/\[Sapaan\]/gi,"Anda"),p=s=>({1:"Fondasi Keuangan dan Pencatatan",2:"Pengelolaan Arus Kas",3:"Perencanaan Usaha",4:"Literasi Digital dan Keamanan"})[s]||`Module ${s}`;if(a)return t("div",{class:"loading",children:"Loading..."});const d=i.reduce((s,u)=>{const h=u.module_number||0;return s[h]||(s[h]=[]),s[h].push(u),s},{}),f=Object.keys(d).sort((s,u)=>s-u);return t(N,{children:[t("div",{class:"card",children:t("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[t(Se,{size:20})," Financial Literacy Course - 15 Weeks"]})}),f.map(s=>{const u=d[s],h=p(parseInt(s));return t("div",{class:"card",children:[t("h3",{style:{marginBottom:"12px",color:"#212529",fontSize:"16px",fontWeight:600},children:["Modul ",s,": ",h]}),t("div",{class:"weeks-grid",children:u.map(y=>{const k=y.bank_soal?.length||0;let m=y.module_name||`Week ${y.week_number}`;return m=m.replace(/^Modul\s+\d+\s*-\s*/i,""),m=m.replace(/^Minggu\s+\d+:\s*/i,""),t("div",{class:"week-card",onClick:()=>n(y),style:{cursor:"pointer"},children:[t("div",{class:"week-header",children:t("div",{class:"week-number",children:["Week ",y.week_number]})}),t("div",{class:"week-title",children:m}),t("div",{class:"week-quiz-count",children:[k," questions"]})]},y.week_number)})})]},s)}),e&&t("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},onClick:()=>n(null),children:t("div",{style:{background:"white",borderRadius:"8px",maxWidth:"1200px",width:"100%",maxHeight:"92vh",overflow:"auto",position:"relative",boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},onClick:s=>s.stopPropagation(),children:[t("div",{style:{position:"sticky",top:0,background:"#f8f9fa",zIndex:1,padding:"14px 18px",borderBottom:"2px solid #dee2e6"},children:[t("button",{onClick:()=>n(null),style:{position:"absolute",top:"10px",right:"14px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",lineHeight:1,padding:"4px 8px"},children:"√ó"}),t("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[t("div",{style:{fontSize:"28px",width:"44px",height:"44px",background:"#e9ecef",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:dn(e.module_name)}),t("div",{children:[t("div",{style:{fontSize:"10px",fontWeight:600,color:"#6c757d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:["Week ",e.week_number," ‚Ä¢ Module ",e.module_number]}),t("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#212529"},children:e.module_name?.replace(/^Modul\s+\d+\s*-\s*/i,"").replace(/^Minggu\s+\d+:\s*/i,"")})]})]})]}),t("div",{style:{padding:"16px"},children:[t("div",{style:{marginBottom:"20px"},children:[t("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #0d6efd",paddingBottom:"5px",display:"inline-block"},children:["üìù Bank Soal (",e.bank_soal?.length||0,")"]}),t("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",overflow:"hidden"},children:(e.bank_soal||[]).map((s,u)=>t("div",{style:{borderBottom:u<e.bank_soal.length-1?"1px solid #e9ecef":"none",background:u%2===0?"#fff":"#f8f9fa"},children:t("div",{style:{padding:"10px 14px"},children:[t("div",{style:{fontWeight:600,fontSize:"13px",color:"#212529",marginBottom:"6px"},children:[t("span",{style:{display:"inline-block",width:"24px",color:"#6c757d"},children:[u+1,"."]}),o(s.question)]}),t("div",{style:{paddingLeft:"24px"},children:[(s.options||[]).map((h,y)=>{const k=y===s.correct,m=String.fromCharCode(97+y);return t("div",{style:{padding:"5px 8px",marginBottom:"3px",background:k?"#d1e7dd":"white",border:`1px solid ${k?"#198754":"#dee2e6"}`,borderRadius:"4px",fontSize:"12px",color:k?"#0f5132":"#495057",display:"flex",alignItems:"center"},children:[t("strong",{style:{minWidth:"18px",marginRight:"6px"},children:[m,"."]}),t("span",{style:{flex:1},children:o(h)}),k&&t("span",{style:{marginLeft:"6px",fontSize:"13px"},children:"‚úì"})]},y)}),s.explanation&&t("div",{style:{marginTop:"6px",padding:"6px 8px",background:"#fff3cd",borderLeft:"3px solid #ffc107",fontSize:"11px",color:"#664d03"},children:[t("strong",{children:"üí°"})," ",o(s.explanation)]})]})]})},u))})]}),e.indikator_kelulusan&&e.indikator_kelulusan.length>0&&t("div",{style:{marginBottom:"20px"},children:[t("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #198754",paddingBottom:"5px",display:"inline-block"},children:"‚úÖ Indikator Kelulusan"}),t("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 14px",background:"#f8f9fa"},children:e.indikator_kelulusan.map((s,u)=>t("div",{style:{padding:"4px 0",fontSize:"12px",color:"#495057",display:"flex"},children:[t("span",{style:{minWidth:"18px",color:"#198754",fontWeight:600},children:[u+1,"."]}),t("span",{children:s})]},u))})]}),t("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"12px"},children:[e.description&&t("div",{style:{gridColumn:"1 / -1",padding:"10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[t("strong",{style:{color:"#495057",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Description"}),t("div",{style:{marginTop:"4px",color:"#6c757d",fontSize:"12px"},children:e.description})]}),e.source_doc_id&&t("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[t("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Source"}),t("a",{href:`https://docs.google.com/document/d/${e.source_doc_id}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#0d6efd",fontSize:"11px",textDecoration:"none"},children:"View Google Doc ‚Üí"})]}),e.imported_at&&t("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[t("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Imported"}),t("div",{style:{color:"#6c757d",fontSize:"11px"},children:new Date(e.imported_at).toLocaleString()})]})]})]})]})})]})}function hn({phone:e}){const[n,i]=w(null),[r,a]=w([]),[l,c]=w([]),[o,p]=w([]),[d,f]=w(!0);O(()=>{e&&s()},[e]);const s=async()=>{try{const[m,_,v,$]=await Promise.all([fetch("/api/users"),fetch(`/api/users/${e}/images`),fetch(`/api/users/${e}/business-intelligence`),fetch("/api/knowledge/financial-literacy")]),P=(await m.json()).find(I=>I.phone===e);if(!P){alert("User not found"),lt("/");return}i(P),a(await _.json()),c(await v.json()),p(await $.json())}catch(m){console.error("Error loading profile:",m)}finally{f(!1)}},u=async()=>{try{const m=await fetch(`/api/users/${e}/recalculate-credit`,{method:"POST"}),_=await m.json();m.ok?(alert(`‚úÖ Credit score recalculated!

Score: ${_.credit_score}/100
Risk Level: ${_.credit_metrics?.risk_level}
Data Points: ${_.data_points} images`),s()):alert(`‚ùå ${_.error}

${_.message||""}`)}catch{alert("‚ùå Failed to recalculate credit score")}};if(d)return t("div",{class:"loading",children:"Loading user profile..."});if(!n)return t("div",{class:"loading",children:"User not found"});const h=n.majelis_name||"Not assigned",y=n.credit_score&&n.credit_metrics,k=n.credit_metrics||{};return t(N,{children:[t("div",{class:"profile-header",children:[t("a",{href:"/",class:"back-btn",children:"‚Üê Back to Users"}),l.length>0&&t("button",{class:"btn btn-primary",onClick:u,children:"üîÑ Recalculate Credit Score"})]}),t("div",{class:"profile-grid",children:[t("div",{class:"card",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(tn,{size:20})," Personal Information"]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Name"}),t("span",{class:"profile-value",children:n.name})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Phone"}),t("span",{class:"profile-value",children:n.phone})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Business"}),t("span",{class:"profile-value",children:n.business_type})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Location"}),t("span",{class:"profile-value",children:n.location})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Majelis"}),t("span",{class:"profile-value",children:h})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Status"}),t("span",{class:"profile-value",children:t("span",{class:`status ${n.is_verified?"verified":"pending"}`,children:n.is_verified?"Verified":"Pending"})})]})]}),t("div",{class:"card",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(Se,{size:20})," Financial Literacy Progress"]}),o.length>0?t("div",{class:"literacy-grid",children:o.map(m=>{const _=m.week_number,v=`week_${String(_).padStart(2,"0")}`,$=n.literacy?.[v],C=$?.score||0,P=$?.last_updated?new Date($.last_updated).toLocaleDateString("id-ID"):"N/A";return t("div",{class:"literacy-week",children:[t("div",{class:"literacy-week-header",children:[t("span",{class:"literacy-week-number",children:["Week ",_]}),t("span",{class:`literacy-score ${C>=70?"score-pass":"score-pending"}`,children:[C,"%"]})]}),t("div",{class:"literacy-week-date",children:["Completed: ",P]})]},v)})}):t("p",{class:"empty-data-message",children:"No literacy courses available"})]}),t("div",{class:"card",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(Yt,{size:20})," Credit Score"]}),y?t(N,{children:[t("div",{class:"score-display",children:[t("div",{class:"score-label",children:"Overall Credit Score"}),t("div",{class:`score-number score-color-${n.credit_score>=70?"success":n.credit_score>=50?"warning":"danger"}`,children:n.credit_score}),t("div",{class:"score-label",children:"out of 100"})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Risk Level"}),t("span",{class:`profile-value risk-level-${k.risk_level==="rendah"?"low":k.risk_level==="sedang"?"medium":"high"}`,children:k.risk_level||"N/A"})]}),t("div",{class:"profile-row",children:[t("span",{class:"profile-label",children:"Data Points"}),t("span",{class:"profile-value",children:[k.data_points||0," images analyzed"]})]})]}):t("p",{class:"empty-data-message",children:"No credit data available yet"})]}),y&&t("div",{class:"card full-width",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(Me,{size:20})," Business Metrics"]}),t("div",{class:"metric-grid",children:[t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:k.business_health_score||0}),t("div",{class:"metric-label",children:"Business Health"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:k.asset_score||0}),t("div",{class:"metric-label",children:"Asset Score"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:k.cashflow_score||0}),t("div",{class:"metric-label",children:"Cashflow Score"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:k.management_score||0}),t("div",{class:"metric-label",children:"Management Score"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:k.growth_potential||0}),t("div",{class:"metric-label",children:"Growth Potential"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:["Rp ",(k.total_asset_value||0).toLocaleString("id-ID")]}),t("div",{class:"metric-label",children:"Total Assets"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:["Rp ",(k.total_inventory_value||0).toLocaleString("id-ID")]}),t("div",{class:"metric-label",children:"Inventory Value"})]}),t("div",{class:"metric-item",children:[t("div",{class:"metric-value",children:["Rp ",(k.estimated_monthly_cashflow||0).toLocaleString("id-ID")]}),t("div",{class:"metric-label",children:"Monthly Cashflow"})]}),t("div",{class:"metric-item metric-full-width",children:[t("div",{class:"metric-value metric-value-highlight",children:["Rp ",(k.recommended_loan_amount||0).toLocaleString("id-ID")]}),t("div",{class:"metric-label",children:"Recommended Loan Amount"})]})]})]})]}),l.length>0&&t("div",{class:"card",children:[t("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[t(Xt,{size:20})," Business Intelligence Analysis"]}),l.map((m,_)=>t("div",{class:"bi-card",children:[t("div",{class:"bi-header",children:[t("div",{children:[t("div",{class:"bi-category",children:m.category}),t("div",{class:"bi-date",children:["üìÖ ",new Date(m.analyzed_at).toLocaleString("id-ID")]})]}),t("div",{class:"bi-tag",children:["#",_+1]})]}),m.insights&&m.insights.length>0&&t("div",{class:"bi-insights",children:[t("strong",{class:"bi-insights-title",children:"Insights:"}),t("ul",{class:"bi-insights-list",children:m.insights.map((v,$)=>t("li",{children:v},$))})]})]},m.id||_))]})]})}function un(){const[e,n]=w("");O(()=>{const r=()=>{n(window.location.pathname)};r(),window.addEventListener("popstate",r);const a=new MutationObserver(r);return a.observe(document.body,{childList:!0,subtree:!0}),()=>{window.removeEventListener("popstate",r),a.disconnect()}},[]);const i=(r,a)=>{r.preventDefault(),window.history.pushState({},"",a),window.dispatchEvent(new PopStateEvent("popstate")),n(a)};return t("div",{class:"header",children:t("div",{class:"header-content",children:[t("div",{children:[t("h1",{style:"display: flex; align-items: center; gap: 10px;",children:[t(Ht,{size:28})," Amartha Admin Dashboard"]}),t("div",{class:"nav",children:[t("a",{href:"/",class:e==="/"?"active":"",onClick:r=>i(r,"/"),children:[t(te,{size:16})," Users"]}),t("a",{href:"/majelis",class:e==="/majelis"?"active":"",onClick:r=>i(r,"/majelis"),children:[t(nn,{size:16})," Majelis"]}),t("a",{href:"/business-types",class:e==="/business-types"?"active":"",onClick:r=>i(r,"/business-types"),children:[t(Me,{size:16})," Business Types"]}),t("a",{href:"/financial-literacy",class:e==="/financial-literacy"?"active":"",onClick:r=>i(r,"/financial-literacy"),children:[t(Se,{size:16})," Financial Literacy"]})]})]}),t("div",{class:"admin-badge",style:"display: flex; align-items: center; gap: 6px;",children:[t(Kt,{size:18})," Admin: ",t("strong",{children:"Petugas Lapangan"})]})]})})}function fn(){return t("div",{class:"container",children:[t(un,{}),t(at,{children:[t(ln,{path:"/"}),t(sn,{path:"/majelis"}),t(on,{path:"/business-types"}),t(pn,{path:"/financial-literacy"}),t(hn,{path:"/user-profile/:phone"})]})]})}vt(t(fn,{}),document.getElementById("app"));
