(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var ne,M,He,J,Me,Oe,We,Fe,ve,ue,me,Ve,ee={},qe=[],mt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ie=Array.isArray;function U(t,n){for(var i in n)t[i]=n[i];return t}function be(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function te(t,n,i){var r,o,l,c={};for(l in n)l=="key"?r=n[l]:l=="ref"?o=n[l]:c[l]=n[l];if(arguments.length>2&&(c.children=arguments.length>3?ne.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)c[l]===void 0&&(c[l]=t.defaultProps[l]);return X(t,c,r,o,null)}function X(t,n,i,r,o){var l={type:t,props:n,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++He,__i:-1,__u:0};return o==null&&M.vnode!=null&&M.vnode(l),l}function R(t){return t.children}function Z(t,n){this.props=t,this.context=n}function Q(t,n){if(n==null)return t.__?Q(t.__,t.__i+1):null;for(var i;n<t.__k.length;n++)if((i=t.__k[n])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?Q(t):null}function Je(t){var n,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((i=t.__k[n])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return Je(t)}}function fe(t){(!t.__d&&(t.__d=!0)&&J.push(t)&&!se.__r++||Me!=M.debounceRendering)&&((Me=M.debounceRendering)||Oe)(se)}function se(){for(var t,n,i,r,o,l,c,s=1;J.length;)J.length>s&&J.sort(We),t=J.shift(),s=J.length,t.__d&&(i=void 0,r=void 0,o=(r=(n=t).__v).__e,l=[],c=[],n.__P&&((i=U({},r)).__v=r.__v+1,M.vnode&&M.vnode(i),ke(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,l,o??Q(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,Ye(l,i,c),r.__e=r.__=null,i.__e!=o&&Je(i)));se.__r=0}function Ge(t,n,i,r,o,l,c,s,h,p,f){var a,m,u,y,k,v,x,d=r&&r.__k||qe,C=n.length;for(h=ft(i,n,d,h,C),a=0;a<C;a++)(u=i.__k[a])!=null&&(m=u.__i==-1?ee:d[u.__i]||ee,u.__i=a,v=ke(t,u,m,o,l,c,s,h,p,f),y=u.__e,u.ref&&m.ref!=u.ref&&(m.ref&&we(m.ref,null,u),f.push(u.ref,u.__c||y,u)),k==null&&y!=null&&(k=y),(x=!!(4&u.__u))||m.__k===u.__k?h=Qe(u,h,t,x):typeof u.type=="function"&&v!==void 0?h=v:y&&(h=y.nextSibling),u.__u&=-7);return i.__e=k,h}function ft(t,n,i,r,o){var l,c,s,h,p,f=i.length,a=f,m=0;for(t.__k=new Array(o),l=0;l<o;l++)(c=n[l])!=null&&typeof c!="boolean"&&typeof c!="function"?(h=l+m,(c=t.__k[l]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?X(null,c,null,null,null):ie(c)?X(R,{children:c},null,null,null):c.constructor==null&&c.__b>0?X(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,s=null,(p=c.__i=gt(c,i,h,a))!=-1&&(a--,(s=i[p])&&(s.__u|=2)),s==null||s.__v==null?(p==-1&&(o>f?m--:o<f&&m++),typeof c.type!="function"&&(c.__u|=4)):p!=h&&(p==h-1?m--:p==h+1?m++:(p>h?m--:m++,c.__u|=4))):t.__k[l]=null;if(a)for(l=0;l<f;l++)(s=i[l])!=null&&(2&s.__u)==0&&(s.__e==r&&(r=Q(s)),Ze(s,s));return r}function Qe(t,n,i,r){var o,l;if(typeof t.type=="function"){for(o=t.__k,l=0;o&&l<o.length;l++)o[l]&&(o[l].__=t,n=Qe(o[l],n,i,r));return n}t.__e!=n&&(r&&(n&&t.type&&!n.parentNode&&(n=Q(t)),i.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function ce(t,n){return n=n||[],t==null||typeof t=="boolean"||(ie(t)?t.some(function(i){ce(i,n)}):n.push(t)),n}function gt(t,n,i,r){var o,l,c,s=t.key,h=t.type,p=n[i],f=p!=null&&(2&p.__u)==0;if(p===null&&t.key==null||f&&s==p.key&&h==p.type)return i;if(r>(f?1:0)){for(o=i-1,l=i+1;o>=0||l<n.length;)if((p=n[c=o>=0?o--:l++])!=null&&(2&p.__u)==0&&s==p.key&&h==p.type)return c}return-1}function Ae(t,n,i){n[0]=="-"?t.setProperty(n,i??""):t[n]=i==null?"":typeof i!="number"||mt.test(n)?i:i+"px"}function re(t,n,i,r,o){var l,c;e:if(n=="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)i&&n in i||Ae(t.style,n,"");if(i)for(n in i)r&&i[n]==r[n]||Ae(t.style,n,i[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(Fe,"$1")),c=n.toLowerCase(),n=c in t||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+l]=i,i?r?i.u=r.u:(i.u=ve,t.addEventListener(n,l?me:ue,l)):t.removeEventListener(n,l?me:ue,l);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&i==1?"":i))}}function Ie(t){return function(n){if(this.l){var i=this.l[n.type+t];if(n.t==null)n.t=ve++;else if(n.t<i.u)return;return i(M.event?M.event(n):n)}}}function ke(t,n,i,r,o,l,c,s,h,p){var f,a,m,u,y,k,v,x,d,C,b,z,D,P,K,E,g,w=n.type;if(n.constructor!=null)return null;128&i.__u&&(h=!!(32&i.__u),l=[s=n.__e=i.__e]),(f=M.__b)&&f(n);e:if(typeof w=="function")try{if(x=n.props,d="prototype"in w&&w.prototype.render,C=(f=w.contextType)&&r[f.__c],b=f?C?C.props.value:f.__:r,i.__c?v=(a=n.__c=i.__c).__=a.__E:(d?n.__c=a=new w(x,b):(n.__c=a=new Z(x,b),a.constructor=w,a.render=_t),C&&C.sub(a),a.props=x,a.state||(a.state={}),a.context=b,a.__n=r,m=a.__d=!0,a.__h=[],a._sb=[]),d&&a.__s==null&&(a.__s=a.state),d&&w.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=U({},a.__s)),U(a.__s,w.getDerivedStateFromProps(x,a.__s))),u=a.props,y=a.state,a.__v=n,m)d&&w.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),d&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(d&&w.getDerivedStateFromProps==null&&x!==u&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(x,b),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(x,a.__s,b)===!1||n.__v==i.__v){for(n.__v!=i.__v&&(a.props=x,a.state=a.__s,a.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.some(function(L){L&&(L.__=n)}),z=0;z<a._sb.length;z++)a.__h.push(a._sb[z]);a._sb=[],a.__h.length&&c.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(x,a.__s,b),d&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(u,y,k)})}if(a.context=b,a.props=x,a.__P=t,a.__e=!1,D=M.__r,P=0,d){for(a.state=a.__s,a.__d=!1,D&&D(n),f=a.render(a.props,a.state,a.context),K=0;K<a._sb.length;K++)a.__h.push(a._sb[K]);a._sb=[]}else do a.__d=!1,D&&D(n),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++P<25);a.state=a.__s,a.getChildContext!=null&&(r=U(U({},r),a.getChildContext())),d&&!m&&a.getSnapshotBeforeUpdate!=null&&(k=a.getSnapshotBeforeUpdate(u,y)),E=f,f!=null&&f.type===R&&f.key==null&&(E=Xe(f.props.children)),s=Ge(t,ie(E)?E:[E],n,i,r,o,l,c,s,h,p),a.base=n.__e,n.__u&=-161,a.__h.length&&c.push(a),v&&(a.__E=a.__=null)}catch(L){if(n.__v=null,h||l!=null)if(L.then){for(n.__u|=h?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;l[l.indexOf(s)]=null,n.__e=s}else{for(g=l.length;g--;)be(l[g]);ge(n)}else n.__e=i.__e,n.__k=i.__k,L.then||ge(n);M.__e(L,n,i)}else l==null&&n.__v==i.__v?(n.__k=i.__k,n.__e=i.__e):s=n.__e=yt(i.__e,n,i,r,o,l,c,h,p);return(f=M.diffed)&&f(n),128&n.__u?void 0:s}function ge(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ge)}function Ye(t,n,i){for(var r=0;r<i.length;r++)we(i[r],i[++r],i[++r]);M.__c&&M.__c(n,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(l){l.call(o)})}catch(l){M.__e(l,o.__v)}})}function Xe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ie(t)?t.map(Xe):U({},t)}function yt(t,n,i,r,o,l,c,s,h){var p,f,a,m,u,y,k,v=i.props,x=n.props,d=n.type;if(d=="svg"?o="http://www.w3.org/2000/svg":d=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(p=0;p<l.length;p++)if((u=l[p])&&"setAttribute"in u==!!d&&(d?u.localName==d:u.nodeType==3)){t=u,l[p]=null;break}}if(t==null){if(d==null)return document.createTextNode(x);t=document.createElementNS(o,d,x.is&&x),s&&(M.__m&&M.__m(n,l),s=!1),l=null}if(d==null)v===x||s&&t.data==x||(t.data=x);else{if(l=l&&ne.call(t.childNodes),v=i.props||ee,!s&&l!=null)for(v={},p=0;p<t.attributes.length;p++)v[(u=t.attributes[p]).name]=u.value;for(p in v)if(u=v[p],p!="children"){if(p=="dangerouslySetInnerHTML")a=u;else if(!(p in x)){if(p=="value"&&"defaultValue"in x||p=="checked"&&"defaultChecked"in x)continue;re(t,p,null,u,o)}}for(p in x)u=x[p],p=="children"?m=u:p=="dangerouslySetInnerHTML"?f=u:p=="value"?y=u:p=="checked"?k=u:s&&typeof u!="function"||v[p]===u||re(t,p,u,v[p],o);if(f)s||a&&(f.__html==a.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),n.__k=[];else if(a&&(t.innerHTML=""),Ge(n.type=="template"?t.content:t,ie(m)?m:[m],n,i,r,d=="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,c,l?l[0]:i.__k&&Q(i,0),s,h),l!=null)for(p=l.length;p--;)be(l[p]);s||(p="value",d=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[p]||d=="progress"&&!y||d=="option"&&y!=v[p])&&re(t,p,y,v[p],o),p="checked",k!=null&&k!=t[p]&&re(t,p,k,v[p],o))}return t}function we(t,n,i){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&n==null||(t.__u=t(n))}else t.current=n}catch(o){M.__e(o,i)}}function Ze(t,n,i){var r,o;if(M.unmount&&M.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||we(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){M.__e(l,n)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Ze(r[o],n,i||typeof t.type!="function");i||be(t.__e),t.__c=t.__=t.__e=void 0}function _t(t,n,i){return this.constructor(t,i)}function xt(t,n,i){var r,o,l,c;n==document&&(n=document.documentElement),M.__&&M.__(t,n),o=(r=!1)?null:n.__k,l=[],c=[],ke(n,t=n.__k=te(R,null,[t]),o||ee,ee,n.namespaceURI,o?null:n.firstChild?ne.call(n.childNodes):null,l,o?o.__e:n.firstChild,r,c),Ye(l,t,c)}function vt(t,n,i){var r,o,l,c,s=U({},t.props);for(l in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),n)l=="key"?r=n[l]:l=="ref"?o=n[l]:s[l]=n[l]===void 0&&c!=null?c[l]:n[l];return arguments.length>2&&(s.children=arguments.length>3?ne.call(arguments,2):i),X(t.type,s,r||t.key,o||t.ref,null)}function bt(t){function n(i){var r,o;return this.getChildContext||(r=new Set,(o={})[n.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(c){c.__e=!0,fe(c)})},this.sub=function(l){r.add(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),c&&c.call(l)}}),i.children}return n.__c="__cC"+Ve++,n.__=t,n.Provider=n.__l=(n.Consumer=function(i,r){return i.children(r)}).contextType=n,n}ne=qe.slice,M={__e:function(t,n,i,r){for(var o,l,c;n=n.__;)if((o=n.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(t)),c=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),c=o.__d),c)return o.__E=o}catch(s){t=s}throw t}},He=0,Z.prototype.setState=function(t,n){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},i),this.props)),t&&U(i,t),t!=null&&this.__v&&(n&&this._sb.push(n),fe(this))},Z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fe(this))},Z.prototype.render=R,J=[],Oe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,We=function(t,n){return t.__v.__b-n.__v.__b},se.__r=0,Fe=/(PointerCapture)$|Capture$/i,ve=0,ue=Ie(!1),me=Ie(!0),Ve=0;var kt=0;function e(t,n,i,r,o,l){n||(n={});var c,s,h=n;if("ref"in h)for(s in h={},n)s=="ref"?c=n[s]:h[s]=n[s];var p={type:t,props:h,key:i,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kt,__i:-1,__u:0,__source:o,__self:l};if(typeof t=="function"&&(c=t.defaultProps))for(s in c)h[s]===void 0&&(h[s]=c[s]);return M.vnode&&M.vnode(p),p}var de,j,he,je,ye=0,et=[],T=M,Te=T.__b,Le=T.__r,ze=T.diffed,De=T.__c,Be=T.unmount,Pe=T.__;function tt(t,n){T.__h&&T.__h(j,t,ye||n),ye=0;var i=j.__H||(j.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function S(t){return ye=1,wt(nt,t)}function wt(t,n,i){var r=tt(de++,2);if(r.t=t,!r.__c&&(r.__=[nt(void 0,n),function(s){var h=r.__N?r.__N[0]:r.__[0],p=r.t(h,s);h!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=j,!j.__f)){var o=function(s,h,p){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(m){return!!m.__c});if(f.every(function(m){return!m.__N}))return!l||l.call(this,s,h,p);var a=r.__c.props!==s;return f.forEach(function(m){if(m.__N){var u=m.__[0];m.__=m.__N,m.__N=void 0,u!==m.__[0]&&(a=!0)}}),l&&l.call(this,s,h,p)||a};j.__f=!0;var l=j.shouldComponentUpdate,c=j.componentWillUpdate;j.componentWillUpdate=function(s,h,p){if(this.__e){var f=l;l=void 0,o(s,h,p),l=f}c&&c.call(this,s,h,p)},j.shouldComponentUpdate=o}return r.__N||r.__}function O(t,n){var i=tt(de++,3);!T.__s&&Mt(i.__H,n)&&(i.__=t,i.u=n,j.__H.__h.push(i))}function St(){for(var t;t=et.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(le),t.__H.__h.forEach(_e),t.__H.__h=[]}catch(n){t.__H.__h=[],T.__e(n,t.__v)}}T.__b=function(t){j=null,Te&&Te(t)},T.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),Pe&&Pe(t,n)},T.__r=function(t){Le&&Le(t),de=0;var n=(j=t.__c).__H;n&&(he===j?(n.__h=[],j.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(n.__h.forEach(le),n.__h.forEach(_e),n.__h=[],de=0)),he=j},T.diffed=function(t){ze&&ze(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(et.push(n)!==1&&je===T.requestAnimationFrame||((je=T.requestAnimationFrame)||Ct)(St)),n.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),he=j=null},T.__c=function(t,n){n.some(function(i){try{i.__h.forEach(le),i.__h=i.__h.filter(function(r){return!r.__||_e(r)})}catch(r){n.some(function(o){o.__h&&(o.__h=[])}),n=[],T.__e(r,i.__v)}}),De&&De(t,n)},T.unmount=function(t){Be&&Be(t);var n,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{le(r)}catch(o){n=o}}),i.__H=void 0,n&&T.__e(n,i.__v))};var Ee=typeof requestAnimationFrame=="function";function Ct(t){var n,i=function(){clearTimeout(r),Ee&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(i,35);Ee&&(n=requestAnimationFrame(i))}function le(t){var n=j,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),j=n}function _e(t){var n=j;t.__c=t.__(),j=n}function Mt(t,n){return!t||t.length!==n.length||n.some(function(i,r){return i!==t[r]})}function nt(t,n){return typeof n=="function"?n(t):n}var At={};function ae(t,n){for(var i in n)t[i]=n[i];return t}function It(t,n,i){var r,o=/(?:\?([^#]*))?(#.*)?$/,l=t.match(o),c={};if(l&&l[1])for(var s=l[1].split("&"),h=0;h<s.length;h++){var p=s[h].split("=");c[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=xe(t.replace(o,"")),n=xe(n||"");for(var f=Math.max(t.length,n.length),a=0;a<f;a++)if(n[a]&&n[a].charAt(0)===":"){var m=n[a].replace(/(^:|[+*?]+$)/g,""),u=(n[a].match(/[+*?]+$/)||At)[0]||"",y=~u.indexOf("+"),k=~u.indexOf("*"),v=t[a]||"";if(!v&&!k&&(u.indexOf("?")<0||y)){r=!1;break}if(c[m]=decodeURIComponent(v),y||k){c[m]=t.slice(a).map(decodeURIComponent).join("/");break}}else if(n[a]!==t[a]){r=!1;break}return(i.default===!0||r!==!1)&&c}function jt(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:t.index-n.index}function Tt(t,n){return t.index=n,t.rank=(function(i){return i.props.default?0:xe(i.props.path).map(Lt).join("")})(t),t.props}function xe(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Lt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var zt={},G=[],$e=[],$=null,it={url:Se()},Dt=bt(it);function Se(){var t;return""+((t=$&&$.location?$.location:$&&$.getCurrentLocation?$.getCurrentLocation():typeof location<"u"?location:zt).pathname||"")+(t.search||"")}function Bt(t,n){return n===void 0&&(n=!1),typeof t!="string"&&t.url&&(n=t.replace,t=t.url),(function(i){for(var r=G.length;r--;)if(G[r].canRoute(i))return!0;return!1})(t)&&(function(i,r){r===void 0&&(r="push"),$&&$[r]?$[r](i):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,i)})(t,n?"replace":"push"),rt(t)}function rt(t){for(var n=!1,i=0;i<G.length;i++)G[i].routeTo(t)&&(n=!0);return n}function Pt(t){if(t&&t.getAttribute){var n=t.getAttribute("href"),i=t.getAttribute("target");if(n&&n.match(/^\//g)&&(!i||i.match(/^_?self$/i)))return Bt(n)}}function Et(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function $t(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var n=t.target;do if(n.localName==="a"&&n.getAttribute("href")){if(n.hasAttribute("data-native")||n.hasAttribute("native"))return;if(Pt(n))return Et(t)}while(n=n.parentNode)}}var Ne=!1;function at(t){t.history&&($=t.history),this.state={url:t.url||Se()}}ae(at.prototype=new Z,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var n=ce(this.props.children);return this.g(n,t)!==void 0},routeTo:function(t){this.setState({url:t});var n=this.canRoute(t);return this.p||this.forceUpdate(),n},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;Ne||(Ne=!0,$||addEventListener("popstate",function(){rt(Se())}),addEventListener("click",$t)),G.push(this),$&&(this.u=$.listen(function(n){var i=n.location||n;t.routeTo(""+(i.pathname||"")+(i.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),G.splice(G.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,n){t=t.filter(Tt).sort(jt);for(var i=0;i<t.length;i++){var r=t[i],o=It(n,r.props.path,r.props);if(o)return[r,o]}},render:function(t,n){var i,r,o=t.onChange,l=n.url,c=this.c,s=this.g(ce(t.children),l);if(s&&(r=vt(s[0],ae(ae({url:l,matches:i=s[1]},i),{key:void 0,ref:void 0}))),l!==(c&&c.url)){ae(it,c=this.c={url:l,previous:c&&c.url,current:r,path:r?r.props.path:null,matches:i}),c.router=this,c.active=r?[r]:[];for(var h=$e.length;h--;)$e[h]({});typeof o=="function"&&o(c)}return te(Dt.Provider,{value:c},r)}});const Ue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nt=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),Re=t=>{const n=Nt(t);return n.charAt(0).toUpperCase()+n.slice(1)},Ut=(...t)=>t.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim();var Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const Kt=({color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,children:o,iconNode:l,class:c="",...s})=>te("svg",{...Rt,width:String(n),height:n,stroke:t,"stroke-width":r?Number(i)*24/Number(n):i,class:["lucide",c].join(" "),...s},[...l.map(([h,p])=>te(h,p)),...ce(o)]);const A=(t,n)=>{const i=({class:r="",className:o="",children:l,...c})=>te(Kt,{...c,iconNode:n,class:Ut(`lucide-${Ue(Re(t))}`,`lucide-${Ue(t)}`,r,o)},l);return i.displayName=Re(t),i};const Ht=A("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ce=A("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const lt=A("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const ot=A("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);const Ot=A("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Wt=A("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ft=A("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Vt=A("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qt=A("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const Jt=A("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Gt=A("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const st=A("dice-5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);const Qt=A("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Yt=A("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Xt=A("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Zt=A("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ct=A("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const dt=A("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const en=A("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const tn=A("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const nn=A("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const rn=A("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);const Y=A("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const an=A("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function pt({message:t,type:n="success",onClose:i}){O(()=>{const o=setTimeout(i,3e3);return()=>clearTimeout(o)},[i]);const r={success:e(Ft,{size:20}),error:e(Jt,{size:20}),info:e(Qt,{size:20})};return e("div",{class:`toast toast-${n}`,children:[r[n],e("span",{children:t})]})}function ht({title:t,message:n,onConfirm:i,onCancel:r,confirmText:o="Confirm",cancelText:l="Cancel",type:c="danger"}){return e("div",{class:"modal-overlay",onClick:r,children:e("div",{class:"confirm-dialog",onClick:s=>s.stopPropagation(),children:[e("div",{class:"confirm-icon",children:e(en,{size:48})}),e("h3",{children:t}),e("p",{children:n}),e("div",{class:"confirm-actions",children:[e("button",{class:"btn btn-secondary",onClick:r,children:l}),e("button",{class:`btn btn-${c}`,onClick:i,children:o})]})]})})}function ut(){const[t,n]=S(null),[i,r]=S(null);return{toast:t,confirmDialog:i,showToast:(c,s="success")=>{n({message:c,type:s})},showConfirm:c=>new Promise(s=>{r({...c,onConfirm:()=>{r(null),s(!0)},onCancel:()=>{r(null),s(!1)}})}),clearToast:()=>n(null)}}const N=async(t,n={})=>{const i=await fetch(t,n);if(!i.ok){const r=await i.json().catch(()=>({error:"Request failed"}));throw new Error(r.error||"Request failed")}return i.json()},oe={getAll:()=>fetch("/api/users").then(t=>t.json()),verify:(t,n)=>N("/api/users/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,status:n})}),delete:t=>N(`/api/users/${t}`,{method:"DELETE"})},q={getAll:()=>fetch("/api/majelis").then(t=>t.json()),create:t=>N("/api/majelis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),update:(t,n)=>N(`/api/majelis/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),delete:t=>N(`/api/majelis/${t}`,{method:"DELETE"}),addMember:(t,n)=>N(`/api/majelis/${t}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n})}),removeMember:(t,n)=>N(`/api/majelis/${t}/members/${n}`,{method:"DELETE"})},pe={populateMockUsers:()=>N("/api/superadmin/populate-mock",{method:"POST"}),deleteAllMockUsers:()=>N("/api/superadmin/delete-all-mock",{method:"DELETE"}),populateMockMajelis:()=>N("/api/superadmin/populate-mock-majelis",{method:"POST"}),deleteAllMockMajelis:()=>N("/api/superadmin/delete-all-mock-majelis",{method:"DELETE"})};function ln(){const[t,n]=S([]),[i,r]=S([]),[o,l]=S(null),[c,s]=S({key:null,direction:"asc"}),[h,p]=S(!1),[f,a]=S(""),{toast:m,confirmDialog:u,showToast:y,showConfirm:k,clearToast:v}=ut();O(()=>{x()},[]);const x=async()=>{try{const[g,w]=await Promise.all([oe.getAll(),q.getAll()]);n(g),r(w)}catch{y("Failed to fetch data","error")}},d=g=>{let w="asc";c.key===g&&c.direction==="asc"&&(w="desc"),s({key:g,direction:w})},C=[...t].sort((g,w)=>{if(!c.key)return 0;let L,W;if(c.key==="majelis_name"){const _=g.majelis_id?i.find(B=>B.id===g.majelis_id):null,I=w.majelis_id?i.find(B=>B.id===w.majelis_id):null;L=_?.name||"",W=I?.name||""}else L=g[c.key]||"",W=w[c.key]||"";return L<W?c.direction==="asc"?-1:1:L>W?c.direction==="asc"?1:-1:0}),b=async(g,w)=>{l(g);try{await oe.verify(g,w),await x(),y("User verified successfully")}catch(L){y(L.message,"error")}finally{l(null)}},z=async(g,w)=>{if(await k({title:"Delete User",message:`Are you sure you want to delete ${w}? This action cannot be undone.`})){l(g);try{await oe.delete(g),await x(),y("User deleted successfully")}catch(W){y(W.message,"error")}finally{l(null)}}},D=async()=>{if(await k({title:"Populate Mock Data",message:"This will create 8 mock users in the database. Continue?",confirmText:"Populate",type:"primary"})){l("mock");try{await pe.populateMockUsers(),await x(),y("Mock data populated successfully!")}catch(w){y(w.message,"error")}finally{l(null)}}},P=()=>{p(!0),a("")},K=async()=>{if(f!=="delete"){alert('Please type "delete" to confirm');return}l("delete-all"),p(!1);try{await pe.deleteAllMockUsers(),await x(),y("All mock users deleted successfully!")}catch(g){y(g.message,"error")}finally{l(null),a("")}},E=g=>c.key!==g?"â‡…":c.direction==="asc"?"â†‘":"â†“";return e(R,{children:[e("div",{class:"card",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;",children:[e("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[e(Y,{size:24})," User Management (",t.length,")"]}),e("div",{style:"display: flex; gap: 0.5rem;",children:(()=>{const g=t.filter(w=>w.is_mock).length;return e(R,{children:[e("button",{class:"btn btn-primary",onClick:D,disabled:o==="mock"||g>0,title:g>0?"Mock users already exist":"",children:[e(st,{size:16})," Populate Mock Data"]}),e("button",{class:"btn btn-danger",onClick:P,disabled:o==="delete-all"||g===0,children:[e(dt,{size:16})," Delete All Mock ",g>0&&`(${g})`]})]})})()})]}),e("table",{children:[e("thead",{children:e("tr",{children:[e("th",{onClick:()=>d("name"),style:"cursor: pointer;",children:["Name ",E("name")]}),e("th",{onClick:()=>d("phone"),style:"cursor: pointer;",children:["Phone ",E("phone")]}),e("th",{onClick:()=>d("business_type"),style:"cursor: pointer;",children:["Business ",E("business_type")]}),e("th",{onClick:()=>d("location"),style:"cursor: pointer;",children:["Location ",E("location")]}),e("th",{onClick:()=>d("majelis_name"),style:"cursor: pointer;",children:["Majelis ",E("majelis_name")]}),e("th",{onClick:()=>d("status"),style:"cursor: pointer;",children:["Status ",E("status")]}),e("th",{children:"Actions"})]})}),e("tbody",{children:C.map(g=>{const w=g.majelis_id?i.find(L=>L.id===g.majelis_id):null;return e("tr",{children:[e("td",{children:e("strong",{children:e("a",{href:`/user-profile/${g.phone}`,class:"user-link",children:g.name})})}),e("td",{children:g.phone}),e("td",{children:g.business?.category||g.business_type||"-"}),e("td",{children:g.business?.location||g.location||"-"}),e("td",{children:e("span",{class:`status ${w?"verified":"unassigned"}`,children:w?e(R,{children:[e(Y,{size:14,style:"display: inline; vertical-align: middle; margin-right: 4px;"}),w.name]}):"â€”"})}),e("td",{children:e("span",{class:`status ${g.status==="active"?"verified":"pending"}`,children:g.status==="active"?"Verified":"Pending"})}),e("td",{children:e("div",{class:"actions",children:[e("button",{class:"btn btn-icon btn-success",onClick:()=>b(g.phone,!0),disabled:o===g.phone||g.status==="active",title:"Verify user",children:e(Wt,{size:16})}),e("button",{class:"btn btn-icon btn-secondary",onClick:()=>z(g.phone,g.name),disabled:o===g.phone,title:"Delete user",children:e(ct,{size:16})})]})})]},g.phone)})})]})]}),h&&e("div",{class:"modal-overlay",onClick:()=>p(!1),children:e("div",{class:"modal-content",onClick:g=>g.stopPropagation(),children:[e("h3",{children:"âš ï¸ Delete All Mock Users"}),e("p",{children:"This will permanently delete all mock users from the database."}),e("p",{children:e("strong",{children:'Type "delete" to confirm:'})}),e("input",{type:"text",value:f,onInput:g=>a(g.target.value),placeholder:"Type delete here",style:"width: 100%; padding: 0.5rem; margin: 1rem 0;"}),e("div",{style:"display: flex; gap: 0.5rem; justify-content: flex-end;",children:[e("button",{class:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e("button",{class:"btn btn-danger",onClick:K,disabled:f!=="delete",children:"Delete All"})]})]})}),m&&e(pt,{message:m.message,type:m.type,onClose:v}),u&&e(ht,{...u})]})}function on(){const[t,n]=S([]),[i,r]=S([]),[o,l]=S(!1),[c,s]=S(null),[h,p]=S({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),[f,a]=S(null),[m,u]=S(""),[y,k]=S([]),[v,x]=S(null),{toast:d,confirmDialog:C,showToast:b,showConfirm:z,clearToast:D}=ut();O(()=>{P()},[]),O(()=>{if(!m.trim()||!f){k([]);return}const _=m.toLowerCase(),B=t.find(H=>H.id===f)?.members||[],V=i.filter(H=>H.status==="active"&&!B.includes(H.phone)&&!H.majelis_id).filter(H=>H.name?.toLowerCase().includes(_)||H.phone?.includes(_)).slice(0,5);k(V)},[m,i,f,t]);const P=async()=>{try{const[_,I]=await Promise.all([q.getAll(),oe.getAll()]);n(_),r(I)}catch{b("Failed to fetch data","error")}},K=async _=>{_.preventDefault();try{c?await q.update(c,h):await q.create(h),l(!1),s(null),p({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),P(),b(`Majelis ${c?"updated":"created"} successfully`)}catch(I){b(I.message,"error")}},E=async(_,I)=>{if(await z({title:"Delete Majelis",message:`Are you sure you want to delete "${I}"? All member associations will be cleared.`}))try{await q.delete(_),P(),b("Majelis deleted successfully")}catch(F){b(F.message,"error")}},g=async(_,I)=>{try{await q.addMember(_,I),a(null),u(""),P(),b("Member added successfully")}catch(B){b(B.message,"error")}},w=async(_,I)=>{const B=i.find(V=>V.phone===I);if(await z({title:"Remove Member",message:`Remove ${B?.name||I} from this majelis?`,confirmText:"Remove"}))try{await q.removeMember(_,I),P(),b("Member removed successfully")}catch(V){b(V.message,"error")}};return e(R,{children:[e("div",{class:"card",children:[e("div",{class:"card-header-actions",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(Y,{size:24})," Majelis Groups"]}),e("div",{style:"display: flex; gap: 8px;",children:[e("button",{class:"btn btn-primary",onClick:()=>l(!0),children:[e(Zt,{size:16})," Create Majelis"]}),e("button",{class:"btn btn-secondary",onClick:async()=>{if(await z({title:"Populate Mock Majelis",message:"This will create 3 mock majelis groups. Continue?",confirmText:"Populate",type:"primary"})){x("mock");try{await pe.populateMockMajelis(),P(),b("Mock majelis populated!")}catch(I){b(I.message,"error")}finally{x(null)}}},disabled:v==="mock",children:[e(st,{size:16})," Populate Mock"]}),e("button",{class:"btn btn-danger",onClick:async()=>{if(await z({title:"Delete All Mock Majelis",message:"This will permanently delete all mock majelis groups. Continue?",confirmText:"Delete All"})){x("delete-all");try{await pe.deleteAllMockMajelis(),P(),b("All mock majelis deleted!")}catch(I){b(I.message,"error")}finally{x(null)}}},disabled:v==="delete-all",children:[e(dt,{size:16})," Delete All Mock"]})]})]}),e("div",{class:"majelis-grid",children:t.length===0?e("div",{class:"empty-state",children:e("p",{children:"No majelis yet. Create one!"})}):t.map(_=>{const I=_.members?.length||0;return e("div",{class:"majelis-card",children:[e("h3",{children:_.name}),e("div",{class:"info-row",children:[e("span",{children:[e(Ot,{size:14})," ",_.schedule_day," ",_.schedule_time]}),e("span",{children:[e(Yt,{size:14})," ",_.location||"No location"]})]}),_.description&&e("p",{class:"majelis-description",children:_.description}),e("div",{class:"member-section",children:[e("div",{class:"member-header",children:[e("span",{class:"member-count",children:[e(Y,{size:14})," ",I," member",I!==1?"s":""]}),e("button",{class:"btn btn-primary btn-icon",onClick:()=>a(_.id),title:"Add member",children:e(tn,{size:14})})]}),I===0?e("div",{class:"no-members",children:"No members yet. Click + to add."}):e("div",{class:"member-list",children:_.members.map(B=>{const F=i.find(V=>V.phone===B);return e("div",{class:"member-item",children:[e("div",{class:"member-info",children:[e("div",{class:"member-name",children:F?.name||B}),F&&e("div",{class:"member-business",children:F.business_type})]}),e("button",{class:"btn-remove",onClick:()=>w(_.id,B),title:"Remove member",children:e(an,{size:14})})]},B)})})]}),e("div",{class:"actions",children:[e("button",{class:"btn btn-secondary",onClick:()=>{s(_.id),p(_),l(!0)},children:[e(Xt,{size:14})," ",e("span",{class:"btn-text",children:"Edit"})]}),e("button",{class:"btn btn-danger",onClick:()=>E(_.id,_.name),children:[e(ct,{size:14})," ",e("span",{class:"btn-text",children:"Delete"})]})]})]},_.id)})})]}),o&&e("div",{class:"modal active",children:e("div",{class:"modal-content",children:[e("h2",{children:[c?"Edit":"Create"," Majelis"]}),e("form",{onSubmit:K,children:[e("div",{class:"form-group",children:[e("label",{children:"Name *"}),e("input",{type:"text",value:h.name,onInput:_=>p({...h,name:_.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{children:"Description"}),e("textarea",{value:h.description,onInput:_=>p({...h,description:_.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Day *"}),e("select",{value:h.schedule_day,onChange:_=>p({...h,schedule_day:_.target.value}),required:!0,children:[e("option",{value:"",children:"Select day"}),e("option",{value:"Senin",children:"Senin"}),e("option",{value:"Selasa",children:"Selasa"}),e("option",{value:"Rabu",children:"Rabu"}),e("option",{value:"Kamis",children:"Kamis"}),e("option",{value:"Jumat",children:"Jumat"}),e("option",{value:"Sabtu",children:"Sabtu"})]})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Time"}),e("input",{type:"time",value:h.schedule_time,onInput:_=>p({...h,schedule_time:_.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Location"}),e("input",{type:"text",value:h.location,onInput:_=>p({...h,location:_.target.value})})]}),e("div",{class:"form-actions",children:[e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{l(!1),s(null),p({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""})},children:"Cancel"}),e("button",{type:"submit",class:"btn btn-primary",children:"Save"})]})]})]})}),f&&e("div",{class:"modal active",onClick:_=>{_.target.className==="modal active"&&(a(null),u(""))},children:e("div",{class:"modal-content modal-sm",children:[e("h2",{children:"Add Member"}),e("div",{class:"form-group",children:[e("label",{children:"Search by name or phone"}),e("input",{type:"text",value:m,onInput:_=>u(_.target.value),placeholder:"Type to search...",autoFocus:!0}),y.length>0&&e("div",{class:"autocomplete-results",children:y.map(_=>e("div",{class:"autocomplete-item",onClick:()=>g(f,_.phone),children:[e("div",{class:"autocomplete-name",children:_.name}),e("div",{class:"autocomplete-details",children:[_.phone," â€¢ ",_.business_type]})]},_.phone))}),m&&y.length===0&&e("div",{class:"autocomplete-empty",children:"No verified users found"})]}),e("div",{class:"form-actions",children:e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{a(null),u("")},children:"Cancel"})})]})}),d&&e(pt,{message:d.message,type:d.type,onClose:D}),C&&e(ht,{...C})]})}const sn={"warung sembako":"ðŸª",kelontong:"ðŸª","warung makan":"ðŸ½ï¸",coffee:"â˜•",jajanan:"ðŸª",camilan:"ðŸª",minuman:"ðŸ§‹",fashion:"ðŸ‘—",hijab:"ðŸ‘—",elektronik:"ðŸ“±",gadget:"ðŸ“±","pet shop":"ðŸ¾","bahan bangunan":"ðŸ§±",mainan:"ðŸŽ®",hobi:"ðŸŽ®",laundry:"ðŸ‘•","bengkel motor":"ðŸï¸",kecantikan:"ðŸ’‡",salon:"ðŸ’‡",penjahit:"âœ‚ï¸",permak:"âœ‚ï¸","kos-kosan":"ðŸ ",penginapan:"ðŸ ",logistik:"ðŸ“¦",ekspedisi:"ðŸ“¦","sewa kendaraan":"ðŸš—","cuci steam":"ðŸš¿",detailing:"ðŸš¿",apotek:"ðŸ’Š",obat:"ðŸ’Š",event:"ðŸŽ‰",wedding:"ðŸŽ‰","bengkel las":"ðŸ”§",bubut:"ðŸ”§",kontraktor:"ðŸ—ï¸",renovasi:"ðŸ—ï¸",kriya:"ðŸŽ¨",kerajinan:"ðŸŽ¨",petani:"ðŸŒ±",holtikultura:"ðŸŒ±",nelayan:"ðŸŸ",ikan:"ðŸŸ"};function Ke(t){const n=t.toLowerCase();for(const[i,r]of Object.entries(sn))if(n.includes(i))return r;return"ðŸ¢"}function cn(){const[t,n]=S(null),[i,r]=S([]),[o,l]=S(!0);O(()=>{c()},[]);const c=async()=>{const s="businessTypes";try{const p=localStorage.getItem(s);if(p){const{data:u,timestamp:y}=JSON.parse(p);if(Date.now()-y<864e5){r(u),l(!1);return}}const m=(await(await fetch("/api/knowledge/business-classifications")).json()).sort((u,y)=>(u.category_number||999)-(y.category_number||999));localStorage.setItem(s,JSON.stringify({data:m,timestamp:Date.now()})),r(m)}catch(p){console.error("Failed to fetch business types",p)}finally{l(!1)}};return o?e("div",{class:"loading",children:"Loading business types..."}):i.length===0?e("div",{class:"card",children:e("div",{class:"empty-state",children:[e("div",{class:"empty-state-icon",children:"ðŸ“¦"}),e("h3",{children:"No Business Types Found"}),e("p",{children:"Business classifications haven't been imported yet."})]})}):e(R,{children:[e("div",{class:"card",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(lt,{size:20})," Business Classifications & Maturity Levels"]}),e("div",{class:"business-grid",children:i.map(s=>{const h=s.category_number?`Kategori ${s.category_number}`:"Mikro",p=Ke(s.business_type),f=(s.maturity_levels||[]).filter(a=>a.goal).map(a=>`Level ${a.level}: ${a.goal}`);return e("div",{class:"business-card",onClick:()=>n(s),style:{cursor:"pointer"},children:[e("div",{class:"card-header",children:[e("div",{class:"card-icon",children:p}),e("div",{class:"card-title-section",children:[e("div",{class:"category",children:h}),e("h3",{children:s.business_type})]})]}),f.length>0&&e("div",{class:"goals",children:[e("strong",{class:"business-type-header",children:"Level Up Goals:"}),f.map((a,m)=>e("div",{class:"goal-item",children:a},m))]})]},s.id)})})]}),t&&e("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>n(null),children:e("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:s=>s.stopPropagation(),children:[e("div",{style:{position:"sticky",top:0,background:"white",zIndex:1,padding:"24px 24px 16px",borderBottom:"1px solid #eee"},children:[e("button",{onClick:()=>n(null),style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",lineHeight:1},children:"Ã—"}),e("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e("div",{style:{fontSize:"40px",width:"60px",height:"60px",background:"#f5f5f5",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:Ke(t.business_type)}),e("div",{children:[e("div",{style:{display:"inline-block",padding:"4px 12px",background:"#e3f2fd",color:"#1976d2",borderRadius:"12px",fontSize:"12px",fontWeight:600,marginBottom:"4px"},children:t.category_number?`Kategori ${t.category_number}`:"Mikro"}),e("h2",{style:{margin:0,fontSize:"24px"},children:t.business_type})]})]})]}),e("div",{style:{padding:"24px"},children:[t.description&&e("div",{style:{marginBottom:"24px",color:"#555",lineHeight:1.6},children:t.description}),e("h3",{style:{fontSize:"18px",marginBottom:"16px",color:"#333",borderBottom:"2px solid #f0f0f0",paddingBottom:"8px"},children:"ðŸ“ˆ Maturity Levels & Roadmap"}),(t.maturity_levels||[]).sort((s,h)=>s.level-h.level).map((s,h)=>e("div",{style:{marginBottom:"24px",padding:"20px",background:"#fafafa",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #ddd"},children:[e("div",{style:{fontWeight:800,color:"#007bff",fontSize:"16px"},children:["LEVEL ",s.level]}),e("div",{style:{fontWeight:600,color:"#333",fontSize:"16px"},children:s.name||s.goal})]}),s.character?.length>0&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"ðŸ” Karakteristik"}),e("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#555"},children:s.character.map((p,f)=>e("li",{children:p},f))})]}),(s.swot?.strengths?.length>0||s.swot?.weaknesses?.length>0||s.swot?.opportunities?.length>0||s.swot?.threats?.length>0)&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"12px"},children:"ðŸ“Š SWOT Analysis"}),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.swot?.strengths?.length>0&&e("div",{style:{background:"#e3f2fd",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[e("strong",{style:{color:"#1976d2",display:"block",marginBottom:"6px",fontSize:"13px"},children:"ðŸ’ª Strengths"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.strengths.map((p,f)=>e("li",{children:p},f))})]}),s.swot?.weaknesses?.length>0&&e("div",{style:{background:"#ffebee",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #f44336"},children:[e("strong",{style:{color:"#c62828",display:"block",marginBottom:"6px",fontSize:"13px"},children:"âš ï¸ Weaknesses"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.weaknesses.map((p,f)=>e("li",{children:p},f))})]}),s.swot?.opportunities?.length>0&&e("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #4caf50"},children:[e("strong",{style:{color:"#2e7d32",display:"block",marginBottom:"6px",fontSize:"13px"},children:"ðŸŽ¯ Opportunities"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.opportunities.map((p,f)=>e("li",{children:p},f))})]}),s.swot?.threats?.length>0&&e("div",{style:{background:"#fff8e1",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #ff9800"},children:[e("strong",{style:{color:"#e65100",display:"block",marginBottom:"6px",fontSize:"13px"},children:"âš¡ Threats"}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:s.swot.threats.map((p,f)=>e("li",{children:p},f))})]})]})]}),(s.roadmap?.description||s.roadmap?.kpis?.length>0)&&e("div",{style:{background:"white",padding:"15px",borderRadius:"8px",border:"1px dashed #ccc"},children:[e("h4",{style:{fontSize:"14px",color:"#333",marginBottom:"8px"},children:"ðŸš€ How to Level Up"}),s.roadmap?.description&&e("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px",fontStyle:"italic"},children:s.roadmap.description}),s.roadmap?.kpis?.length>0&&e("div",{children:[e("strong",{style:{fontSize:"13px",color:"#666"},children:"Target KPIs:"}),e("ul",{style:{margin:"5px 0 0",paddingLeft:"20px",fontSize:"12px"},children:s.roadmap.kpis.map((p,f)=>e("li",{children:p},f))})]})]})]},h))]})]})})]})}const dn={"warung sembako":"ðŸª",kelontong:"ðŸª","warung makan":"ðŸ½ï¸",coffee:"â˜•",jajanan:"ðŸª",camilan:"ðŸª",minuman:"ðŸ§‹",fashion:"ðŸ‘—",hijab:"ðŸ‘—",elektronik:"ðŸ“±",gadget:"ðŸ“±","pet shop":"ðŸ¾","bahan bangunan":"ðŸ§±",mainan:"ðŸŽ®",hobi:"ðŸŽ®",laundry:"ðŸ‘•","bengkel motor":"ðŸï¸",kecantikan:"ðŸ’‡",salon:"ðŸ’‡",penjahit:"âœ‚ï¸",permak:"âœ‚ï¸","kos-kosan":"ðŸ ",penginapan:"ðŸ ",logistik:"ðŸ“¦",ekspedisi:"ðŸ“¦","sewa kendaraan":"ðŸš—","cuci steam":"ðŸš¿",detailing:"ðŸš¿",apotek:"ðŸ’Š",obat:"ðŸ’Š",event:"ðŸŽ‰",wedding:"ðŸŽ‰","bengkel las":"ðŸ”§",bubut:"ðŸ”§",kontraktor:"ðŸ—ï¸",renovasi:"ðŸ—ï¸",kriya:"ðŸŽ¨",kerajinan:"ðŸŽ¨",petani:"ðŸŒ±",holtikultura:"ðŸŒ±",nelayan:"ðŸŸ",ikan:"ðŸŸ"};function pn(t){const n=(t||"").toLowerCase();for(const[i,r]of Object.entries(dn))if(n.includes(i))return r;return"ðŸ“š"}function hn(){const[t,n]=S(null),[i,r]=S([]),[o,l]=S(!0);O(()=>{c()},[]);const c=async()=>{const a="financialLiteracy";try{const u=localStorage.getItem(a);if(u){const{data:x,timestamp:d}=JSON.parse(u);if(Date.now()-d<864e5){r(x),l(!1);return}}const v=(await(await fetch("/api/knowledge/financial-literacy")).json()).filter(x=>x.week_number&&x.bank_soal&&x.bank_soal.length>0).sort((x,d)=>x.week_number-d.week_number);localStorage.setItem(a,JSON.stringify({data:v,timestamp:Date.now()})),r(v),r(v)}catch(u){console.error("Failed to fetch course:",u)}finally{l(!1)}},s=a=>!a||typeof a!="string"?a:a.replace(/\[Sapaan\]/gi,"Anda"),h=a=>({1:"Fondasi Keuangan dan Pencatatan",2:"Pengelolaan Arus Kas",3:"Perencanaan Usaha",4:"Literasi Digital dan Keamanan"})[a]||`Module ${a}`;if(o)return e("div",{class:"loading",children:"Loading..."});const p=i.reduce((a,m)=>{const u=m.module_number||0;return a[u]||(a[u]=[]),a[u].push(m),a},{}),f=Object.keys(p).sort((a,m)=>a-m);return e(R,{children:[e("div",{class:"card",children:e("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[e(Ce,{size:20})," Financial Literacy Course - 15 Weeks"]})}),f.map(a=>{const m=p[a],u=h(parseInt(a));return e("div",{class:"card",children:[e("h3",{style:{marginBottom:"12px",color:"#212529",fontSize:"16px",fontWeight:600},children:["Modul ",a,": ",u]}),e("div",{class:"weeks-grid",children:m.map(y=>{const k=y.bank_soal?.length||0;let v=y.module_name||`Week ${y.week_number}`;return v=v.replace(/^Modul\s+\d+\s*-\s*/i,""),v=v.replace(/^Minggu\s+\d+:\s*/i,""),e("div",{class:"week-card",onClick:()=>n(y),style:{cursor:"pointer"},children:[e("div",{class:"week-header",children:e("div",{class:"week-number",children:["Week ",y.week_number]})}),e("div",{class:"week-title",children:v}),e("div",{class:"week-quiz-count",children:[k," questions"]})]},y.week_number)})})]},a)}),t&&e("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},onClick:()=>n(null),children:e("div",{style:{background:"white",borderRadius:"8px",maxWidth:"1200px",width:"100%",maxHeight:"92vh",overflow:"auto",position:"relative",boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},onClick:a=>a.stopPropagation(),children:[e("div",{style:{position:"sticky",top:0,background:"#f8f9fa",zIndex:1,padding:"14px 18px",borderBottom:"2px solid #dee2e6"},children:[e("button",{onClick:()=>n(null),style:{position:"absolute",top:"10px",right:"14px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",lineHeight:1,padding:"4px 8px"},children:"Ã—"}),e("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e("div",{style:{fontSize:"28px",width:"44px",height:"44px",background:"#e9ecef",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:pn(t.module_name)}),e("div",{children:[e("div",{style:{fontSize:"10px",fontWeight:600,color:"#6c757d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:["Week ",t.week_number," â€¢ Module ",t.module_number]}),e("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#212529"},children:t.module_name?.replace(/^Modul\s+\d+\s*-\s*/i,"").replace(/^Minggu\s+\d+:\s*/i,"")})]})]})]}),e("div",{style:{padding:"16px"},children:[e("div",{style:{marginBottom:"20px"},children:[e("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #0d6efd",paddingBottom:"5px",display:"inline-block"},children:["ðŸ“ Bank Soal (",t.bank_soal?.length||0,")"]}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",overflow:"hidden"},children:(t.bank_soal||[]).map((a,m)=>e("div",{style:{borderBottom:m<t.bank_soal.length-1?"1px solid #e9ecef":"none",background:m%2===0?"#fff":"#f8f9fa"},children:e("div",{style:{padding:"10px 14px"},children:[e("div",{style:{fontWeight:600,fontSize:"13px",color:"#212529",marginBottom:"6px"},children:[e("span",{style:{display:"inline-block",width:"24px",color:"#6c757d"},children:[m+1,"."]}),s(a.question)]}),e("div",{style:{paddingLeft:"24px"},children:[(a.options||[]).map((u,y)=>{const k=y===a.correct,v=String.fromCharCode(97+y);return e("div",{style:{padding:"5px 8px",marginBottom:"3px",background:k?"#d1e7dd":"white",border:`1px solid ${k?"#198754":"#dee2e6"}`,borderRadius:"4px",fontSize:"12px",color:k?"#0f5132":"#495057",display:"flex",alignItems:"center"},children:[e("strong",{style:{minWidth:"18px",marginRight:"6px"},children:[v,"."]}),e("span",{style:{flex:1},children:s(u)}),k&&e("span",{style:{marginLeft:"6px",fontSize:"13px"},children:"âœ“"})]},y)}),a.explanation&&e("div",{style:{marginTop:"6px",padding:"6px 8px",background:"#fff3cd",borderLeft:"3px solid #ffc107",fontSize:"11px",color:"#664d03"},children:[e("strong",{children:"ðŸ’¡"})," ",s(a.explanation)]})]})]})},m))})]}),t.indikator_kelulusan&&t.indikator_kelulusan.length>0&&e("div",{style:{marginBottom:"20px"},children:[e("h3",{style:{fontSize:"15px",fontWeight:600,marginBottom:"10px",color:"#212529",borderBottom:"2px solid #198754",paddingBottom:"5px",display:"inline-block"},children:"âœ… Indikator Kelulusan"}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 14px",background:"#f8f9fa"},children:t.indikator_kelulusan.map((a,m)=>e("div",{style:{padding:"4px 0",fontSize:"12px",color:"#495057",display:"flex"},children:[e("span",{style:{minWidth:"18px",color:"#198754",fontWeight:600},children:[m+1,"."]}),e("span",{children:a})]},m))})]}),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"12px"},children:[t.description&&e("div",{style:{gridColumn:"1 / -1",padding:"10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Description"}),e("div",{style:{marginTop:"4px",color:"#6c757d",fontSize:"12px"},children:t.description})]}),t.source_doc_id&&e("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Source"}),e("a",{href:`https://docs.google.com/document/d/${t.source_doc_id}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#0d6efd",fontSize:"11px",textDecoration:"none"},children:"View Google Doc â†’"})]}),t.imported_at&&e("div",{style:{padding:"8px 10px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[e("strong",{style:{color:"#495057",fontSize:"10px",textTransform:"uppercase",display:"block",marginBottom:"3px"},children:"Imported"}),e("div",{style:{color:"#6c757d",fontSize:"11px"},children:new Date(t.imported_at).toLocaleString()})]})]})]})]})})]})}function un({phone:t}){const[n,i]=S(null),[r,o]=S(!0),[l,c]=S(null),[s,h]=S("all"),[p,f]=S(new Set),a=async()=>{try{const d=await fetch(`/api/users/${t}/complete`);if(!d.ok)throw new Error("User not found");i(await d.json())}catch(d){c(d.message)}finally{o(!1)}};O(()=>{a();const d=new EventSource(`/api/events/${t}`);return d.onmessage=C=>{const b=JSON.parse(C.data);b.type==="bi_added"&&(f(z=>new Set([...z,b.data.id])),a(),setTimeout(()=>{f(z=>{const D=new Set(z);return D.delete(b.data.id),D})},5e3))},()=>d.close()},[t]);const m=d=>d?new Date(d).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-";if(r)return e("div",{class:"card",style:"text-align: center; padding: 40px;",children:"Loading..."});if(l)return e("div",{class:"card",style:"text-align: center; padding: 40px; color: var(--color-danger);",children:l});if(!n)return null;const u={active:"var(--color-success)",pending:"var(--color-warning)",suspended:"var(--color-danger)",inactive:"var(--color-neutral)"},y=d=>"â­".repeat(d)+"â˜†".repeat(5-d),k=()=>{if(!n.literacy)return{completed:0,total:15,percentage:0};const C=Object.keys(n.literacy).filter(b=>b.startsWith("week_")).filter(b=>n.literacy[b]?.score>=70).length;return{completed:C,total:15,percentage:Math.round(C/15*100)}},v=n.loan?.history?.length>0?n.loan.history[n.loan.history.length-1].balance_after:0,x=s==="all"?n.business_intelligence:n.business_intelligence?.filter(d=>d.type===s);return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("button",{onClick:()=>window.history.back(),class:"btn",style:"margin-bottom: 16px;",children:[e(Ht,{size:20,style:"margin-right: 8px;"}),"Back"]}),e("div",{style:"display: flex; justify-content: space-between; align-items: start;",children:[e("div",{children:[e("h1",{style:"margin: 0 0 8px 0;",children:n.name}),e("p",{style:"color: var(--color-neutral); margin: 0 0 4px 0;",children:n.phone}),e("p",{style:"color: var(--color-neutral); font-size: 14px; margin: 0;",children:["Joined ",new Date(n.created_at).toLocaleDateString("id-ID")]})]}),e("span",{class:"status",style:`background: ${u[n.status]}; color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px;`,children:n.status})]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;",children:[e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(nn,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Personal Info"})]}),n.profile?e("div",{children:[e("p",{children:[e("strong",{children:"DOB:"})," ",n.profile.dob?new Date(n.profile.dob).toLocaleDateString("id-ID"):"-"]}),e("p",{children:[e("strong",{children:"Gender:"})," ",n.profile.gender||"-"]}),e("p",{children:[e("strong",{children:"Address:"})," ",n.profile.address||"-"]})]}):e("p",{style:"color: var(--color-neutral);",children:"No profile data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(ot,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Business Info"})]}),n.business?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.business.name||"-"]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.business.location||"-"]}),e("p",{children:[e("strong",{children:"Category:"})," ",n.business.category||"-"]}),e("p",{children:[e("strong",{children:"Maturity:"})," ",y(n.business.maturity_level)]})]}):e("p",{style:"color: var(--color-neutral);",children:"No business data"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Gt,{size:24,style:"color: var(--color-success); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Loan Status"})]}),n.loan&&n.loan.limit>0?e("div",{children:[e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 16px;",children:[e("div",{style:"text-align: center; padding: 16px; background: var(--color-primary); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Total Limit"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.limit.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-warning); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Current Debt"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",v.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-success); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Remaining"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.remaining.toLocaleString("id-ID")]})]})]}),n.loan.next_payment_date&&e("div",{style:"padding: 16px; background: var(--color-warning-bg); border-radius: 8px; margin-bottom: 16px;",children:[e("div",{style:"font-weight: bold;",children:"Next Payment"}),e("div",{children:[new Date(n.loan.next_payment_date).toLocaleDateString("id-ID")," - Rp ",n.loan.next_payment_amount.toLocaleString("id-ID")]})]}),n.loan.history?.length>0&&e("div",{children:[e("h3",{children:"Transaction History"}),e("table",{class:"data-table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Type"}),e("th",{style:"text-align: right;",children:"Amount"}),e("th",{style:"text-align: right;",children:"Balance After"})]})}),e("tbody",{children:n.loan.history.map(d=>e("tr",{children:[e("td",{children:new Date(d.date).toLocaleDateString("id-ID")}),e("td",{children:e("span",{class:"status",style:`background: ${d.type==="disbursement"?"var(--color-primary)":"var(--color-success)"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;`,children:d.type})}),e("td",{style:"text-align: right;",children:["Rp ",d.amount.toLocaleString("id-ID")]}),e("td",{style:"text-align: right; font-weight: bold;",children:["Rp ",d.balance_after.toLocaleString("id-ID")]})]},d.id))})]})]})]}):e("p",{style:"color: var(--color-neutral);",children:"No active loan"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Ce,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Literacy Progress"})]}),n.literacy?e("div",{children:[e("div",{style:"margin-bottom: 16px;",children:[e("div",{style:"display: flex; justify-content: space-between; margin-bottom: 4px;",children:[e("span",{style:"font-size: 14px; font-weight: bold;",children:"Progress"}),e("span",{style:"font-size: 14px; font-weight: bold;",children:[k().percentage,"%"]})]}),e("div",{style:"width: 100%; background: #e0e0e0; border-radius: 4px; height: 8px;",children:e("div",{style:`background: var(--color-primary); height: 8px; border-radius: 4px; width: ${k().percentage}%`})}),e("p",{style:"font-size: 14px; color: var(--color-neutral); margin-top: 4px;",children:[k().completed," of ",k().total," weeks completed"]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px;",children:Array.from({length:15},(d,C)=>{const b=`week_${String(C+1).padStart(2,"0")}`,D=n.literacy[b]?.score||0,P=D>=70?"var(--color-success)":D>0?"var(--color-warning)":"#ccc";return e("div",{style:`background: ${P}; color: white; text-align: center; padding: 8px; border-radius: 4px; font-size: 12px; font-weight: bold;`,title:`Week ${C+1}: ${D}`,children:C+1},b)})})]}):e("p",{style:"color: var(--color-neutral);",children:"No literacy data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Y,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Majelis"})]}),n.majelis?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.majelis.name]}),e("p",{children:[e("strong",{children:"Schedule:"})," ",n.majelis.schedule_day,", ",n.majelis.schedule_time]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.majelis.location]}),e("p",{children:[e("strong",{children:"Members:"})," ",n.majelis.member_count]})]}):e("p",{style:"color: var(--color-neutral);",children:"Not in any majelis"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("h2",{children:"Business Intelligence"}),e("div",{style:"display: flex; gap: 8px; margin-bottom: 16px; overflow-x: auto;",children:["all","ledger","inventory","building","transaction"].map(d=>e("button",{onClick:()=>h(d),class:"btn",style:s===d?"background: var(--color-primary); color: white;":"",children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),x?.length>0?e("div",{style:"display: grid; gap: 16px;",children:x.map(d=>e("div",{class:p.has(d.id)?"bi-card-new":"",style:`border: 1px solid ${p.has(d.id)?"#4caf50":"#ddd"}; border-radius: 8px; padding: 16px; ${p.has(d.id)?"animation: blink 1s ease-in-out 3; background: #e8f5e9;":""}`,children:[e("div",{style:"display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;",children:[e("div",{children:[e("span",{style:"font-weight: bold; font-size: 16px;",children:d.type.toUpperCase()}),e("span",{style:"font-size: 14px; color: var(--color-neutral); margin-left: 8px;",children:["(",d.analysis_category,")"]}),p.has(d.id)&&e("span",{style:"margin-left: 8px; background: #4caf50; color: white; padding: 2px 8px; border-radius: 10px; font-size: 11px;",children:"NEW"})]}),e("span",{style:"font-size: 12px; color: var(--color-neutral);",children:m(d.analyzed_at)})]}),e("div",{style:"display: flex; gap: 16px; align-items: flex-start;",children:[d.source?.image_url&&e("div",{style:"flex-shrink: 0;",children:[e("img",{src:d.source.image_url,alt:"BI",style:"max-width: 200px; height: auto; object-fit: contain; border-radius: 8px;"}),d.source?.caption&&e("p",{style:"font-size: 12px; color: var(--color-neutral); font-style: italic; margin: 8px 0 0 0; max-width: 200px;",children:['"',d.source.caption,'"']})]}),e("div",{style:"flex: 1;",children:[d.type==="ledger"&&d.data&&e("div",{style:"background: var(--color-success-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Record Type:"})," ",d.data.record_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Income:"})," Rp ",d.data.daily_income_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Expense:"})," Rp ",d.data.daily_expense_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Profit:"})," Rp ",d.data.daily_profit_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Monthly Cashflow:"})," Rp ",d.data.monthly_cashflow_estimate?.toLocaleString("id-ID")]}),d.data.record_quality&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Quality:"})," ",d.data.record_quality]})]}),d.type==="inventory"&&d.data&&e("div",{style:"background: var(--color-warning-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Items:"})," ",d.data.total_items_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Inventory Value:"})," Rp ",d.data.inventory_value_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Stock Level:"})," ",d.data.stock_level]}),d.data.turnover_indicator&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Turnover:"})," ",d.data.turnover_indicator]}),d.data.items&&d.data.items.length>0&&e("div",{style:"margin-top: 8px;",children:[e("strong",{children:"Sample Items:"}),e("ul",{style:"margin: 4px 0; padding-left: 20px;",children:d.data.items.slice(0,3).map((C,b)=>e("li",{children:[C.name," - ",C.quantity_estimate," ",C.unit]},b))})]})]}),d.type==="building"&&d.data&&e("div",{style:"background: var(--color-primary-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Type:"})," ",d.data.building_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Condition:"})," ",d.data.condition]}),d.data.size_estimate&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Size:"})," ",d.data.size_estimate]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Location:"})," ",d.data.location_type]}),d.data.visibility&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Visibility:"})," ",d.data.visibility]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Estimated Value:"})," Rp ",d.data.estimated_value?.toLocaleString("id-ID")]})]}),d.type==="transaction"&&d.data&&e("div",{style:"background: var(--color-neutral-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Transaction Count:"})," ",d.data.transaction_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Amount:"})," Rp ",d.data.total_amount?.toLocaleString("id-ID")]})]}),!d.source?.image_url&&d.source?.caption&&e("p",{style:"font-size: 14px; color: var(--color-neutral); font-style: italic; margin: 8px 0 0 0;",children:['"',d.source.caption,'"']})]})]})]},d.id))}):e("p",{style:"color: var(--color-neutral);",children:"No business intelligence data"})]})]})]})}function mn(){const t={fontFamily:"monospace",fontSize:"12px",lineHeight:"1.4",background:"#f8f9fa",padding:"16px",borderRadius:"8px",overflowX:"auto",whiteSpace:"pre"},n=(i,r)=>({padding:"12px",background:i,borderRadius:"8px",borderLeft:`4px solid ${r}`});return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h1",{style:"margin: 0 0 8px 0;",children:"ðŸ¤– Cara Kerja Chatbot Amartha"}),e("p",{style:"color: #666; margin: 0;",children:"Panduan lengkap alur percakapan untuk Petugas Lapangan (BP)"})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"âŒ¨ï¸ Kata Kunci Perintah (Quick Reference)"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Kata-kata yang bisa diketik anggota untuk memicu fitur. Case-insensitive."}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px;",children:[e("div",{style:n("#e3f2fd","#2196f3"),children:[e("strong",{children:"ðŸ“‹ MENU / BANTUAN"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"menu, bantuan, help, tolong, bantu, apa saja, bisa apa, halo, hi, hai"})]}),e("div",{style:n("#e8f5e9","#4caf50"),children:[e("strong",{children:"ðŸ“š MULAI KUIS"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"kuis, quiz, belajar, tes, ujian, soal, mulai kuis"})]}),e("div",{style:n("#fff3e0","#ff9800"),children:[e("strong",{children:"ðŸ“Š LIHAT NILAI"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"nilai, hasil, skor, progress, hasil kuis, nilai saya"})]}),e("div",{style:n("#f3e5f5","#9c27b0"),children:[e("strong",{children:"ðŸ‘¤ CEK DATA PROFIL"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"cek data, data saya, profil, info saya, debug, data, cek profil, lihat data"})]}),e("div",{style:n("#e0f7fa","#00bcd4"),children:[e("strong",{children:"ðŸ“… JADWAL MAJELIS"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"jadwal, majelis, pertemuan, kapan ketemu, ketemu kapan, kumpul"})]}),e("div",{style:n("#fce4ec","#e91e63"),children:[e("strong",{children:"ðŸ“¸ KIRIM FOTO"}),e("p",{style:"margin: 8px 0 0 0; font-size: 13px; font-family: monospace;",children:"Langsung kirim gambar (dengan/tanpa caption)"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"1ï¸âƒ£ Pendaftaran Anggota Baru"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Ketika pengguna baru (nomor belum terdaftar) menghubungi chatbot"}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   IBU MENGIRIM  â”‚
    â”‚   PESAN PERTAMA â”‚
    â”‚   (nomor baru)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CHATBOT TANYA: â”‚
    â”‚  "Siapa nama    â”‚
    â”‚   Ibu, usaha    â”‚
    â”‚   apa, dimana?" â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU JAWAB:     â”‚
    â”‚  "Saya Bu Siti, â”‚
    â”‚   warung sembakoâ”‚
    â”‚   di Bogor"     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  AI EKSTRAK:    â”‚
    â”‚  â€¢ name         â”‚
    â”‚  â€¢ business_nameâ”‚
    â”‚  â€¢ location     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… TERDAFTAR   â”‚
    â”‚  Status: PENDINGâ”‚
    â”‚                 â”‚
    â”‚  "Menunggu      â”‚
    â”‚   verifikasi BP"â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  BP VERIFIKASI  â”‚
    â”‚  DI DASHBOARD   â”‚
    â”‚  (klik Verify)  â”‚
    â”‚       â†“         â”‚
    â”‚  Status: ACTIVE â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`}),e("div",{style:"margin-top: 16px; padding: 12px; background: #e8f5e9; border-radius: 8px;",children:[e("strong",{children:"ðŸ“ Data yang disimpan:"}),e("ul",{style:"margin: 8px 0 0 0; padding-left: 20px;",children:[e("li",{children:"phone (dari WhatsApp)"}),e("li",{children:"name, business.name, business.location"}),e("li",{children:"status: 'pending'"}),e("li",{children:"is_mock: false"}),e("li",{children:"created_at, updated_at"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"2ï¸âƒ£ Kuis Literasi Keuangan"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:["15 minggu pembelajaran dengan kuis interaktif. Nilai lulus: ",e("strong",{children:"100% (4/4 benar)"})]}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KETIK:     â”‚
    â”‚  "kuis" / "quiz"â”‚
    â”‚  "belajar"      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SISTEM CEK:    â”‚
    â”‚  Minggu berapa  â”‚
    â”‚  yang belum     â”‚
    â”‚  lulus (< 100%)?â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  KIRIM INTRO:   â”‚
    â”‚  "Quiz Minggu X â”‚
    â”‚   dimulai!      â”‚
    â”‚   Topik: ..."   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  KIRIM SOAL 1/4 â”‚
    â”‚  (List Message) â”‚
    â”‚                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ A. xxx    â”‚  â”‚
    â”‚  â”‚ B. xxx    â”‚  â”‚
    â”‚  â”‚ C. xxx    â”‚  â”‚
    â”‚  â”‚ D. xxx    â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU PILIH      â”‚
    â”‚  JAWABAN        â”‚
    â”‚       â”‚         â”‚
    â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”     â”‚
    â”‚   â–¼       â–¼     â”‚
    â”‚  âœ…      âŒ     â”‚
    â”‚ Benar  Salah    â”‚
    â”‚ +25%  +0% +     â”‚
    â”‚       penjelasanâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ULANGI 4x      â”‚
    â”‚  (4 soal acak)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SETELAH 4 SOAL â”‚
    â”‚                 â”‚
    â”‚  Nilai = 100%?  â”‚
    â”‚  â”Œâ”€â”€â”€â”´â”€â”€â”€â”      â”‚
    â”‚  â–¼       â–¼      â”‚
    â”‚ YA      TIDAK   â”‚
    â”‚ LULUS   ULANG   â”‚
    â”‚ minggu  minggu  â”‚
    â”‚ ini     ini     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`}),e("div",{style:"margin-top: 16px; padding: 12px; background: #fff3e0; border-radius: 8px;",children:[e("strong",{children:"âš™ï¸ Mekanisme Quiz:"}),e("ul",{style:"margin: 8px 0 0 0; padding-left: 20px;",children:[e("li",{children:"4 soal dipilih acak dari bank_soal minggu tersebut"}),e("li",{children:"Setiap jawaban benar = 25%"}),e("li",{children:"Lulus jika 100% (4/4 benar)"}),e("li",{children:"Jawaban salah â†’ tampilkan penjelasan"}),e("li",{children:["Progress disimpan di users/","{phone}","/literacy/data"]})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"3ï¸âƒ£ Analisis Foto Bisnis (Business Intelligence)"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"AI menganalisis foto untuk penilaian kredit. Dashboard update real-time via SSE."}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KIRIM FOTO â”‚
    â”‚  ðŸ“¸             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ADA CAPTION?   â”‚
    â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”     â”‚
    â”‚   â–¼       â–¼     â”‚
    â”‚  YA     TIDAK   â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚       â”‚
        â”‚       â–¼
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  â”‚ CHATBOT:    â”‚
        â”‚  â”‚ "Jelaskan   â”‚
        â”‚  â”‚  foto ini   â”‚
        â”‚  â”‚  ya Bu..."  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚         â”‚
        â”‚         â–¼
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  â”‚ IBU BALAS:  â”‚
        â”‚  â”‚ "Ini warung â”‚
        â”‚  â”‚  saya"      â”‚
        â”‚  â”‚ (5 menit)   â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚         â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  DOWNLOAD FOTO  â”‚
    â”‚  dari WhatsApp  â”‚
    â”‚  (base64)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  GEMINI VISION  â”‚
    â”‚  ANALISIS:      â”‚
    â”‚                 â”‚
    â”‚  Klasifikasi:   â”‚
    â”‚  â€¢ ledger       â”‚
    â”‚  â€¢ inventory    â”‚
    â”‚  â€¢ building     â”‚
    â”‚  â€¢ transaction  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  EKSTRAK DATA   â”‚
    â”‚  sesuai tipe    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SIMPAN KE      â”‚
    â”‚  Firestore +    â”‚
    â”‚  EMIT SSE EVENT â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
        â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚KIRIM  â”‚ â”‚ DASHBOARD â”‚
    â”‚HASIL  â”‚ â”‚ UPDATE    â”‚
    â”‚KE IBU â”‚ â”‚ REAL-TIME â”‚
    â”‚       â”‚ â”‚ âœ¨ BLINK  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`}),e("div",{style:"margin-top: 16px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;",children:[e("div",{style:"padding: 12px; background: #e3f2fd; border-radius: 8px;",children:[e("strong",{children:"ðŸ“’ Ledger"}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px;",children:"Buku kas, nota pembelian/penjualan. Ekstrak: income, expense, profit estimate"})]}),e("div",{style:"padding: 12px; background: #e8f5e9; border-radius: 8px;",children:[e("strong",{children:"ðŸ“¦ Inventory"}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px;",children:"Stok barang. Ekstrak: items, quantity, value estimate"})]}),e("div",{style:"padding: 12px; background: #fff3e0; border-radius: 8px;",children:[e("strong",{children:"ðŸª Building"}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px;",children:"Tempat usaha. Ekstrak: type, condition, size, location"})]}),e("div",{style:"padding: 12px; background: #f3e5f5; border-radius: 8px;",children:[e("strong",{children:"ðŸ§¾ Transaction"}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px;",children:"Bukti transaksi. Ekstrak: amount, date, parties"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"4ï¸âƒ£ Menu Utama"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:'Ketik "menu", "halo", "bantuan" untuk melihat daftar fitur'}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KETIK:     â”‚
    â”‚  "halo" / "menu"â”‚
    â”‚  "bantuan"      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ðŸ“‹ *Menu Utama*        â”‚
    â”‚                         â”‚
    â”‚  Ketik angka atau kata: â”‚
    â”‚                         â”‚
    â”‚  1ï¸âƒ£ *KUIS* - Mulai kuis â”‚
    â”‚  2ï¸âƒ£ *NILAI* - Hasil     â”‚
    â”‚  3ï¸âƒ£ *DATA SAYA* - Profilâ”‚
    â”‚  4ï¸âƒ£ *FOTO* - Kirim foto â”‚
    â”‚  5ï¸âƒ£ *JADWAL* - Majelis  â”‚
    â”‚                         â”‚
    â”‚  Atau langsung tanya    â”‚
    â”‚  soal usaha! ðŸ˜Š         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"5ï¸âƒ£ Cek Data Profil"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Anggota bisa cek semua data mereka sendiri"}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KETIK:     â”‚
    â”‚  "cek data"     â”‚
    â”‚  "data saya"    â”‚
    â”‚  "profil"       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… *PROFIL ANDA*       â”‚
    â”‚                         â”‚
    â”‚  ðŸ‘¤ Nama: Bu Siti       â”‚
    â”‚  ðŸ“± No. HP: 628xxx      â”‚
    â”‚  ðŸª Usaha: Warung       â”‚
    â”‚  ðŸ“ Lokasi: Bogor       â”‚
    â”‚  â­ Tingkat: 1/5        â”‚
    â”‚  ðŸ‘¥ Majelis: Sejahtera  â”‚
    â”‚  âœ… Status: Terverifikasiâ”‚
    â”‚                         â”‚
    â”‚  ðŸ’° *INFORMASI PINJAMAN*â”‚
    â”‚  â€¢ Limit: Rp 5.000.000  â”‚
    â”‚  â€¢ Sisa: Rp 3.000.000   â”‚
    â”‚  â€¢ Hutang: Rp 2.000.000 â”‚
    â”‚  â€¢ Cicilan: 15 Des 2024 â”‚
    â”‚                         â”‚
    â”‚  ðŸ“š *LITERASI KEUANGAN* â”‚
    â”‚  â€¢ Progress: 5/15 (33%) â”‚
    â”‚  â€¢ Status: Sedang       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"6ï¸âƒ£ Jadwal Majelis"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Cek jadwal pertemuan majelis"}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KETIK:     â”‚
    â”‚  "jadwal"       â”‚
    â”‚  "majelis"      â”‚
    â”‚  "pertemuan"    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ðŸ“… *Jadwal Majelis*    â”‚
    â”‚                         â”‚
    â”‚  ðŸ‘¥ Majelis: Sejahtera  â”‚
    â”‚  ðŸ“† Hari: Senin         â”‚
    â”‚  ðŸ• Jam: 09:00          â”‚
    â”‚  ðŸ“ Lokasi: Balai Desa  â”‚
    â”‚                         â”‚
    â”‚  Jangan lupa hadir! ðŸ˜Š  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    âš ï¸ Jika belum terdaftar di Majelis:
    "Hubungi petugas lapangan untuk
     didaftarkan ke Majelis ya."
`})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"7ï¸âƒ£ Lihat Progress Kuis"}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Cek hasil belajar literasi keuangan"}),e("div",{style:t,children:`
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  IBU KETIK:     â”‚
    â”‚  "nilai"        â”‚
    â”‚  "progress"     â”‚
    â”‚  "hasil"        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ðŸ“Š Progress Literasi   â”‚
    â”‚                         â”‚
    â”‚  âœ… Selesai: 5/15 (33%) â”‚
    â”‚                         â”‚
    â”‚  ðŸŽ¯ Minggu yang Lulus:  â”‚
    â”‚  â€¢ Minggu 1: 100%       â”‚
    â”‚  â€¢ Minggu 2: 100%       â”‚
    â”‚  â€¢ Minggu 3: 100%       â”‚
    â”‚  â€¢ Minggu 4: 100%       â”‚
    â”‚  â€¢ Minggu 5: 100%       â”‚
    â”‚                         â”‚
    â”‚  ðŸ’¡ Ketik "quiz" untuk  â”‚
    â”‚     melanjutkan!        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"ðŸ“‹ Keterangan Status User"}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-top: 16px;",children:[e("div",{style:"padding: 12px; background: #fff3cd; border-radius: 8px;",children:[e("strong",{children:"ðŸŸ¡ PENDING"}),e("p",{style:"margin: 8px 0 0 0; font-size: 14px;",children:"Baru daftar, menunggu verifikasi BP di dashboard"})]}),e("div",{style:"padding: 12px; background: #d4edda; border-radius: 8px;",children:[e("strong",{children:"ðŸŸ¢ ACTIVE"}),e("p",{style:"margin: 8px 0 0 0; font-size: 14px;",children:"Sudah diverifikasi, bisa akses semua fitur chatbot"})]}),e("div",{style:"padding: 12px; background: #f8d7da; border-radius: 8px;",children:[e("strong",{children:"ðŸ”´ SUSPENDED"}),e("p",{style:"margin: 8px 0 0 0; font-size: 14px;",children:"Akun dinonaktifkan sementara oleh BP"})]}),e("div",{style:"padding: 12px; background: #e2e3e5; border-radius: 8px;",children:[e("strong",{children:"âš« INACTIVE"}),e("p",{style:"margin: 8px 0 0 0; font-size: 14px;",children:"Akun tidak aktif / keluar dari program"})]})]})]}),e("div",{class:"card",children:[e("h2",{children:"ðŸ”§ Informasi Teknis"}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin-top: 16px;",children:[e("div",{style:"padding: 12px; background: #f8f9fa; border-radius: 8px;",children:[e("strong",{children:"AI Engine"}),e("p",{style:"margin: 4px 0 0 0; font-size: 13px;",children:"Gemini 2.5 Flash (text), Gemini 2.0 Flash (vision)"})]}),e("div",{style:"padding: 12px; background: #f8f9fa; border-radius: 8px;",children:[e("strong",{children:"Database"}),e("p",{style:"margin: 4px 0 0 0; font-size: 13px;",children:"Google Cloud Firestore (NoSQL)"})]}),e("div",{style:"padding: 12px; background: #f8f9fa; border-radius: 8px;",children:[e("strong",{children:"Real-time Updates"}),e("p",{style:"margin: 4px 0 0 0; font-size: 13px;",children:"Server-Sent Events (SSE) untuk dashboard"})]}),e("div",{style:"padding: 12px; background: #f8f9fa; border-radius: 8px;",children:[e("strong",{children:"Image Storage"}),e("p",{style:"margin: 4px 0 0 0; font-size: 13px;",children:"Base64 data URL di Firestore"})]})]})]})]})}function fn(){const[t,n]=S("");O(()=>{const r=()=>{n(window.location.pathname)};r(),window.addEventListener("popstate",r);const o=new MutationObserver(r);return o.observe(document.body,{childList:!0,subtree:!0}),()=>{window.removeEventListener("popstate",r),o.disconnect()}},[]);const i=(r,o)=>{r.preventDefault(),window.history.pushState({},"",o),window.dispatchEvent(new PopStateEvent("popstate")),n(o)};return e("div",{class:"header",children:e("div",{class:"header-content",children:[e("div",{children:[e("h1",{style:"display: flex; align-items: center; gap: 10px;",children:[e(ot,{size:28})," Amartha Admin Dashboard"]}),e("div",{class:"nav",children:[e("a",{href:"/",class:t==="/"?"active":"",onClick:r=>i(r,"/"),children:[e(Y,{size:16})," Users"]}),e("a",{href:"/majelis",class:t==="/majelis"?"active":"",onClick:r=>i(r,"/majelis"),children:[e(rn,{size:16})," Majelis"]}),e("a",{href:"/business-types",class:t==="/business-types"?"active":"",onClick:r=>i(r,"/business-types"),children:[e(lt,{size:16})," Business Types"]}),e("a",{href:"/financial-literacy",class:t==="/financial-literacy"?"active":"",onClick:r=>i(r,"/financial-literacy"),children:[e(Ce,{size:16})," Financial Literacy"]}),e("a",{href:"/how-it-works",class:t==="/how-it-works"?"active":"",onClick:r=>i(r,"/how-it-works"),children:[e(Vt,{size:16})," Cara Kerja"]})]})]}),e("div",{class:"admin-badge",style:"display: flex; align-items: center; gap: 6px;",children:[e(qt,{size:18})," Admin: ",e("strong",{children:"Petugas Lapangan"})]})]})})}function gn(){return e("div",{class:"container",children:[e(fn,{}),e(at,{children:[e(ln,{path:"/"}),e(on,{path:"/majelis"}),e(cn,{path:"/business-types"}),e(hn,{path:"/financial-literacy"}),e(mn,{path:"/how-it-works"}),e(un,{path:"/user-profile/:phone"})]})]})}xt(e(gn,{}),document.getElementById("app"));
