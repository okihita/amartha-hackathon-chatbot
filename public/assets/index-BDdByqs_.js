(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=i(l);fetch(l.href,a)}})();var re,C,Xe,Q,Ie,et,tt,nt,je,be,ve,it,ne={},rt=[],Tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ae=Array.isArray;function K(t,n){for(var i in n)t[i]=n[i];return t}function De(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ie(t,n,i){var r,l,a,c={};for(a in n)a=="key"?r=n[a]:a=="ref"?l=n[a]:c[a]=n[a];if(arguments.length>2&&(c.children=arguments.length>3?re.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)c[a]===void 0&&(c[a]=t.defaultProps[a]);return ee(t,c,r,l,null)}function ee(t,n,i,r,l){var a={type:t,props:n,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++Xe,__i:-1,__u:0};return l==null&&C.vnode!=null&&C.vnode(a),a}function U(t){return t.children}function te(t,n){this.props=t,this.context=n}function X(t,n){if(n==null)return t.__?X(t.__,t.__i+1):null;for(var i;n<t.__k.length;n++)if((i=t.__k[n])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?X(t):null}function at(t){var n,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((i=t.__k[n])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return at(t)}}function ke(t){(!t.__d&&(t.__d=!0)&&Q.push(t)&&!ce.__r++||Ie!=C.debounceRendering)&&((Ie=C.debounceRendering)||et)(ce)}function ce(){for(var t,n,i,r,l,a,c,d=1;Q.length;)Q.length>d&&Q.sort(tt),t=Q.shift(),d=Q.length,t.__d&&(i=void 0,r=void 0,l=(r=(n=t).__v).__e,a=[],c=[],n.__P&&((i=K({},r)).__v=r.__v+1,C.vnode&&C.vnode(i),Ae(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[l]:null,a,l??X(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,st(a,i,c),r.__e=r.__=null,i.__e!=l&&at(i)));ce.__r=0}function lt(t,n,i,r,l,a,c,d,y,p,h){var s,u,f,_,M,z,g,o=r&&r.__k||rt,k=n.length;for(y=It(i,n,o,y,k),s=0;s<k;s++)(f=i.__k[s])!=null&&(u=f.__i==-1?ne:o[f.__i]||ne,f.__i=s,z=Ae(t,f,u,l,a,c,d,y,p,h),_=f.__e,f.ref&&u.ref!=f.ref&&(u.ref&&Le(u.ref,null,f),h.push(f.ref,f.__c||_,f)),M==null&&_!=null&&(M=_),(g=!!(4&f.__u))||u.__k===f.__k?y=ot(f,y,t,g):typeof f.type=="function"&&z!==void 0?y=z:_&&(y=_.nextSibling),f.__u&=-7);return i.__e=M,y}function It(t,n,i,r,l){var a,c,d,y,p,h=i.length,s=h,u=0;for(t.__k=new Array(l),a=0;a<l;a++)(c=n[a])!=null&&typeof c!="boolean"&&typeof c!="function"?(y=a+u,(c=t.__k[a]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?ee(null,c,null,null,null):ae(c)?ee(U,{children:c},null,null,null):c.constructor==null&&c.__b>0?ee(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,d=null,(p=c.__i=$t(c,i,y,s))!=-1&&(s--,(d=i[p])&&(d.__u|=2)),d==null||d.__v==null?(p==-1&&(l>h?u--:l<h&&u++),typeof c.type!="function"&&(c.__u|=4)):p!=y&&(p==y-1?u--:p==y+1?u++:(p>y?u--:u++,c.__u|=4))):t.__k[a]=null;if(s)for(a=0;a<h;a++)(d=i[a])!=null&&(2&d.__u)==0&&(d.__e==r&&(r=X(d)),ct(d,d));return r}function ot(t,n,i,r){var l,a;if(typeof t.type=="function"){for(l=t.__k,a=0;l&&a<l.length;a++)l[a]&&(l[a].__=t,n=ot(l[a],n,i,r));return n}t.__e!=n&&(r&&(n&&t.type&&!n.parentNode&&(n=X(t)),i.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function pe(t,n){return n=n||[],t==null||typeof t=="boolean"||(ae(t)?t.some(function(i){pe(i,n)}):n.push(t)),n}function $t(t,n,i,r){var l,a,c,d=t.key,y=t.type,p=n[i],h=p!=null&&(2&p.__u)==0;if(p===null&&t.key==null||h&&d==p.key&&y==p.type)return i;if(r>(h?1:0)){for(l=i-1,a=i+1;l>=0||a<n.length;)if((p=n[c=l>=0?l--:a++])!=null&&(2&p.__u)==0&&d==p.key&&y==p.type)return c}return-1}function $e(t,n,i){n[0]=="-"?t.setProperty(n,i??""):t[n]=i==null?"":typeof i!="number"||Tt.test(n)?i:i+"px"}function le(t,n,i,r,l){var a,c;e:if(n=="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)i&&n in i||$e(t.style,n,"");if(i)for(n in i)r&&i[n]==r[n]||$e(t.style,n,i[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(nt,"$1")),c=n.toLowerCase(),n=c in t||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+a]=i,i?r?i.u=r.u:(i.u=je,t.addEventListener(n,a?ve:be,a)):t.removeEventListener(n,a?ve:be,a);else{if(l=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&i==1?"":i))}}function Pe(t){return function(n){if(this.l){var i=this.l[n.type+t];if(n.t==null)n.t=je++;else if(n.t<i.u)return;return i(C.event?C.event(n):n)}}}function Ae(t,n,i,r,l,a,c,d,y,p){var h,s,u,f,_,M,z,g,o,k,b,j,T,B,F,W,m,S=n.type;if(n.constructor!=null)return null;128&i.__u&&(y=!!(32&i.__u),a=[d=n.__e=i.__e]),(h=C.__b)&&h(n);e:if(typeof S=="function")try{if(g=n.props,o="prototype"in S&&S.prototype.render,k=(h=S.contextType)&&r[h.__c],b=h?k?k.props.value:h.__:r,i.__c?z=(s=n.__c=i.__c).__=s.__E:(o?n.__c=s=new S(g,b):(n.__c=s=new te(g,b),s.constructor=S,s.render=Rt),k&&k.sub(s),s.props=g,s.state||(s.state={}),s.context=b,s.__n=r,u=s.__d=!0,s.__h=[],s._sb=[]),o&&s.__s==null&&(s.__s=s.state),o&&S.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=K({},s.__s)),K(s.__s,S.getDerivedStateFromProps(g,s.__s))),f=s.props,_=s.state,s.__v=n,u)o&&S.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),o&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(o&&S.getDerivedStateFromProps==null&&g!==f&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(g,b),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(g,s.__s,b)===!1||n.__v==i.__v){for(n.__v!=i.__v&&(s.props=g,s.state=s.__s,s.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.some(function(R){R&&(R.__=n)}),j=0;j<s._sb.length;j++)s.__h.push(s._sb[j]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(g,s.__s,b),o&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(f,_,M)})}if(s.context=b,s.props=g,s.__P=t,s.__e=!1,T=C.__r,B=0,o){for(s.state=s.__s,s.__d=!1,T&&T(n),h=s.render(s.props,s.state,s.context),F=0;F<s._sb.length;F++)s.__h.push(s._sb[F]);s._sb=[]}else do s.__d=!1,T&&T(n),h=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++B<25);s.state=s.__s,s.getChildContext!=null&&(r=K(K({},r),s.getChildContext())),o&&!u&&s.getSnapshotBeforeUpdate!=null&&(M=s.getSnapshotBeforeUpdate(f,_)),W=h,h!=null&&h.type===U&&h.key==null&&(W=dt(h.props.children)),d=lt(t,ae(W)?W:[W],n,i,r,l,a,c,d,y,p),s.base=n.__e,n.__u&=-161,s.__h.length&&c.push(s),z&&(s.__E=s.__=null)}catch(R){if(n.__v=null,y||a!=null)if(R.then){for(n.__u|=y?160:128;d&&d.nodeType==8&&d.nextSibling;)d=d.nextSibling;a[a.indexOf(d)]=null,n.__e=d}else{for(m=a.length;m--;)De(a[m]);we(n)}else n.__e=i.__e,n.__k=i.__k,R.then||we(n);C.__e(R,n,i)}else a==null&&n.__v==i.__v?(n.__k=i.__k,n.__e=i.__e):d=n.__e=Pt(i.__e,n,i,r,l,a,c,y,p);return(h=C.diffed)&&h(n),128&n.__u?void 0:d}function we(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(we)}function st(t,n,i){for(var r=0;r<i.length;r++)Le(i[r],i[++r],i[++r]);C.__c&&C.__c(n,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(a){a.call(l)})}catch(a){C.__e(a,l.__v)}})}function dt(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ae(t)?t.map(dt):K({},t)}function Pt(t,n,i,r,l,a,c,d,y){var p,h,s,u,f,_,M,z=i.props,g=n.props,o=n.type;if(o=="svg"?l="http://www.w3.org/2000/svg":o=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),a!=null){for(p=0;p<a.length;p++)if((f=a[p])&&"setAttribute"in f==!!o&&(o?f.localName==o:f.nodeType==3)){t=f,a[p]=null;break}}if(t==null){if(o==null)return document.createTextNode(g);t=document.createElementNS(l,o,g.is&&g),d&&(C.__m&&C.__m(n,a),d=!1),a=null}if(o==null)z===g||d&&t.data==g||(t.data=g);else{if(a=a&&re.call(t.childNodes),z=i.props||ne,!d&&a!=null)for(z={},p=0;p<t.attributes.length;p++)z[(f=t.attributes[p]).name]=f.value;for(p in z)if(f=z[p],p!="children"){if(p=="dangerouslySetInnerHTML")s=f;else if(!(p in g)){if(p=="value"&&"defaultValue"in g||p=="checked"&&"defaultChecked"in g)continue;le(t,p,null,f,l)}}for(p in g)f=g[p],p=="children"?u=f:p=="dangerouslySetInnerHTML"?h=f:p=="value"?_=f:p=="checked"?M=f:d&&typeof f!="function"||z[p]===f||le(t,p,f,z[p],l);if(h)d||s&&(h.__html==s.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),n.__k=[];else if(s&&(t.innerHTML=""),lt(n.type=="template"?t.content:t,ae(u)?u:[u],n,i,r,o=="foreignObject"?"http://www.w3.org/1999/xhtml":l,a,c,a?a[0]:i.__k&&X(i,0),d,y),a!=null)for(p=a.length;p--;)De(a[p]);d||(p="value",o=="progress"&&_==null?t.removeAttribute("value"):_!=null&&(_!==t[p]||o=="progress"&&!_||o=="option"&&_!=z[p])&&le(t,p,_,z[p],l),p="checked",M!=null&&M!=t[p]&&le(t,p,M,z[p],l))}return t}function Le(t,n,i){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&n==null||(t.__u=t(n))}else t.current=n}catch(l){C.__e(l,i)}}function ct(t,n,i){var r,l;if(C.unmount&&C.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Le(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){C.__e(a,n)}r.base=r.__P=null}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&ct(r[l],n,i||typeof t.type!="function");i||De(t.__e),t.__c=t.__=t.__e=void 0}function Rt(t,n,i){return this.constructor(t,i)}function Bt(t,n,i){var r,l,a,c;n==document&&(n=document.documentElement),C.__&&C.__(t,n),l=(r=!1)?null:n.__k,a=[],c=[],Ae(n,t=n.__k=ie(U,null,[t]),l||ne,ne,n.namespaceURI,l?null:n.firstChild?re.call(n.childNodes):null,a,l?l.__e:n.firstChild,r,c),st(a,t,c)}function Et(t,n,i){var r,l,a,c,d=K({},t.props);for(a in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),n)a=="key"?r=n[a]:a=="ref"?l=n[a]:d[a]=n[a]===void 0&&c!=null?c[a]:n[a];return arguments.length>2&&(d.children=arguments.length>3?re.call(arguments,2):i),ee(t.type,d,r||t.key,l||t.ref,null)}function Ut(t){function n(i){var r,l;return this.getChildContext||(r=new Set,(l={})[n.__c]=this,this.getChildContext=function(){return l},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&r.forEach(function(c){c.__e=!0,ke(c)})},this.sub=function(a){r.add(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){r&&r.delete(a),c&&c.call(a)}}),i.children}return n.__c="__cC"+it++,n.__=t,n.Provider=n.__l=(n.Consumer=function(i,r){return i.children(r)}).contextType=n,n}re=rt.slice,C={__e:function(t,n,i,r){for(var l,a,c;n=n.__;)if((l=n.__c)&&!l.__)try{if((a=l.constructor)&&a.getDerivedStateFromError!=null&&(l.setState(a.getDerivedStateFromError(t)),c=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,r||{}),c=l.__d),c)return l.__E=l}catch(d){t=d}throw t}},Xe=0,te.prototype.setState=function(t,n){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=K({},this.state),typeof t=="function"&&(t=t(K({},i),this.props)),t&&K(i,t),t!=null&&this.__v&&(n&&this._sb.push(n),ke(this))},te.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ke(this))},te.prototype.render=U,Q=[],et=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tt=function(t,n){return t.__v.__b-n.__v.__b},ce.__r=0,nt=/(PointerCapture)$|Capture$/i,je=0,be=Pe(!1),ve=Pe(!0),it=0;var Wt=0;function e(t,n,i,r,l,a){n||(n={});var c,d,y=n;if("ref"in y)for(d in y={},n)d=="ref"?c=n[d]:y[d]=n[d];var p={type:t,props:y,key:i,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Wt,__i:-1,__u:0,__source:l,__self:a};if(typeof t=="function"&&(c=t.defaultProps))for(d in c)y[d]===void 0&&(y[d]=c[d]);return C.vnode&&C.vnode(p),p}var he,I,me,Re,Me=0,pt=[],$=C,Be=$.__b,Ee=$.__r,Ue=$.diffed,We=$.__c,Ne=$.unmount,He=$.__;function ht(t,n){$.__h&&$.__h(I,t,Me||n),Me=0;var i=I.__H||(I.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function w(t){return Me=1,Nt(ut,t)}function Nt(t,n,i){var r=ht(he++,2);if(r.t=t,!r.__c&&(r.__=[ut(void 0,n),function(d){var y=r.__N?r.__N[0]:r.__[0],p=r.t(y,d);y!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=I,!I.__f)){var l=function(d,y,p){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(u){return!!u.__c});if(h.every(function(u){return!u.__N}))return!a||a.call(this,d,y,p);var s=r.__c.props!==d;return h.forEach(function(u){if(u.__N){var f=u.__[0];u.__=u.__N,u.__N=void 0,f!==u.__[0]&&(s=!0)}}),a&&a.call(this,d,y,p)||s};I.__f=!0;var a=I.shouldComponentUpdate,c=I.componentWillUpdate;I.componentWillUpdate=function(d,y,p){if(this.__e){var h=a;a=void 0,l(d,y,p),a=h}c&&c.call(this,d,y,p)},I.shouldComponentUpdate=l}return r.__N||r.__}function O(t,n){var i=ht(he++,3);!$.__s&&Ot(i.__H,n)&&(i.__=t,i.u=n,I.__H.__h.push(i))}function Ht(){for(var t;t=pt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(se),t.__H.__h.forEach(ze),t.__H.__h=[]}catch(n){t.__H.__h=[],$.__e(n,t.__v)}}$.__b=function(t){I=null,Be&&Be(t)},$.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),He&&He(t,n)},$.__r=function(t){Ee&&Ee(t),he=0;var n=(I=t.__c).__H;n&&(me===I?(n.__h=[],I.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(n.__h.forEach(se),n.__h.forEach(ze),n.__h=[],he=0)),me=I},$.diffed=function(t){Ue&&Ue(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(pt.push(n)!==1&&Re===$.requestAnimationFrame||((Re=$.requestAnimationFrame)||Kt)(Ht)),n.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),me=I=null},$.__c=function(t,n){n.some(function(i){try{i.__h.forEach(se),i.__h=i.__h.filter(function(r){return!r.__||ze(r)})}catch(r){n.some(function(l){l.__h&&(l.__h=[])}),n=[],$.__e(r,i.__v)}}),We&&We(t,n)},$.unmount=function(t){Ne&&Ne(t);var n,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{se(r)}catch(l){n=l}}),i.__H=void 0,n&&$.__e(n,i.__v))};var Ke=typeof requestAnimationFrame=="function";function Kt(t){var n,i=function(){clearTimeout(r),Ke&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(i,35);Ke&&(n=requestAnimationFrame(i))}function se(t){var n=I,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),I=n}function ze(t){var n=I;t.__c=t.__(),I=n}function Ot(t,n){return!t||t.length!==n.length||n.some(function(i,r){return i!==t[r]})}function ut(t,n){return typeof n=="function"?n(t):n}var qt={};function oe(t,n){for(var i in n)t[i]=n[i];return t}function Ft(t,n,i){var r,l=/(?:\?([^#]*))?(#.*)?$/,a=t.match(l),c={};if(a&&a[1])for(var d=a[1].split("&"),y=0;y<d.length;y++){var p=d[y].split("=");c[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=Se(t.replace(l,"")),n=Se(n||"");for(var h=Math.max(t.length,n.length),s=0;s<h;s++)if(n[s]&&n[s].charAt(0)===":"){var u=n[s].replace(/(^:|[+*?]+$)/g,""),f=(n[s].match(/[+*?]+$/)||qt)[0]||"",_=~f.indexOf("+"),M=~f.indexOf("*"),z=t[s]||"";if(!z&&!M&&(f.indexOf("?")<0||_)){r=!1;break}if(c[u]=decodeURIComponent(z),_||M){c[u]=t.slice(s).map(decodeURIComponent).join("/");break}}else if(n[s]!==t[s]){r=!1;break}return(i.default===!0||r!==!1)&&c}function Vt(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:t.index-n.index}function Jt(t,n){return t.index=n,t.rank=(function(i){return i.props.default?0:Se(i.props.path).map(Gt).join("")})(t),t.props}function Se(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Gt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var Yt={},Z=[],Oe=[],N=null,ft={url:Te()},Qt=Ut(ft);function Te(){var t;return""+((t=N&&N.location?N.location:N&&N.getCurrentLocation?N.getCurrentLocation():typeof location<"u"?location:Yt).pathname||"")+(t.search||"")}function Zt(t,n){return n===void 0&&(n=!1),typeof t!="string"&&t.url&&(n=t.replace,t=t.url),(function(i){for(var r=Z.length;r--;)if(Z[r].canRoute(i))return!0;return!1})(t)&&(function(i,r){r===void 0&&(r="push"),N&&N[r]?N[r](i):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,i)})(t,n?"replace":"push"),gt(t)}function gt(t){for(var n=!1,i=0;i<Z.length;i++)Z[i].routeTo(t)&&(n=!0);return n}function Xt(t){if(t&&t.getAttribute){var n=t.getAttribute("href"),i=t.getAttribute("target");if(n&&n.match(/^\//g)&&(!i||i.match(/^_?self$/i)))return Zt(n)}}function en(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function tn(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var n=t.target;do if(n.localName==="a"&&n.getAttribute("href")){if(n.hasAttribute("data-native")||n.hasAttribute("native"))return;if(Xt(n))return en(t)}while(n=n.parentNode)}}var qe=!1;function yt(t){t.history&&(N=t.history),this.state={url:t.url||Te()}}oe(yt.prototype=new te,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var n=pe(this.props.children);return this.g(n,t)!==void 0},routeTo:function(t){this.setState({url:t});var n=this.canRoute(t);return this.p||this.forceUpdate(),n},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;qe||(qe=!0,N||addEventListener("popstate",function(){gt(Te())}),addEventListener("click",tn)),Z.push(this),N&&(this.u=N.listen(function(n){var i=n.location||n;t.routeTo(""+(i.pathname||"")+(i.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Z.splice(Z.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,n){t=t.filter(Jt).sort(Vt);for(var i=0;i<t.length;i++){var r=t[i],l=Ft(n,r.props.path,r.props);if(l)return[r,l]}},render:function(t,n){var i,r,l=t.onChange,a=n.url,c=this.c,d=this.g(pe(t.children),a);if(d&&(r=Et(d[0],oe(oe({url:a,matches:i=d[1]},i),{key:void 0,ref:void 0}))),a!==(c&&c.url)){oe(ft,c=this.c={url:a,previous:c&&c.url,current:r,path:r?r.props.path:null,matches:i}),c.router=this,c.active=r?[r]:[];for(var y=Oe.length;y--;)Oe[y]({});typeof l=="function"&&l(c)}return ie(Qt.Provider,{value:c},r)}});const Fe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nn=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),Ve=t=>{const n=nn(t);return n.charAt(0).toUpperCase()+n.slice(1)},rn=(...t)=>t.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim();var an={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const ln=({color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,children:l,iconNode:a,class:c="",...d})=>ie("svg",{...an,width:String(n),height:n,stroke:t,"stroke-width":r?Number(i)*24/Number(n):i,class:["lucide",c].join(" "),...d},[...a.map(([y,p])=>ie(y,p)),...pe(l)]);const v=(t,n)=>{const i=({class:r="",className:l="",children:a,...c})=>ie(ln,{...c,iconNode:n,class:rn(`lucide-${Fe(Ve(t))}`,`lucide-${Fe(t)}`,r,l)},a);return i.displayName=Ve(t),i};const on=v("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const ye=v("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const sn=v("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const mt=v("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const xt=v("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);const ue=v("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const dn=v("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const _t=v("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const cn=v("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const pn=v("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const bt=v("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const hn=v("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const vt=v("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const un=v("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const fn=v("clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);const gn=v("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const yn=v("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const kt=v("dice-5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);const mn=v("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const wt=v("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Mt=v("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);const xn=v("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const _n=v("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const bn=v("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);const zt=v("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Je=v("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);const vn=v("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const kn=v("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const St=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ct=v("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const wn=v("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Mn=v("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const zn=v("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);const Sn=v("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Cn=v("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const fe=v("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const jt=v("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Ge=v("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const Ce=v("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const jn=v("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const Dn=v("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const An=v("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Ln=v("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Tn=v("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);const q=v("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const In=v("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const $n=v("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Dt({message:t,type:n="success",onClose:i}){O(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const r={success:e(bt,{size:20}),error:e(un,{size:20}),info:e(xn,{size:20})};return e("div",{class:`toast toast-${n}`,children:[r[n],e("span",{children:t})]})}function At({title:t,message:n,onConfirm:i,onCancel:r,confirmText:l="Confirm",cancelText:a="Cancel",type:c="danger"}){return e("div",{class:"modal-overlay",onClick:r,children:e("div",{class:"confirm-dialog",onClick:d=>d.stopPropagation(),children:[e("div",{class:"confirm-icon",children:e(Ce,{size:48})}),e("h3",{children:t}),e("p",{children:n}),e("div",{class:"confirm-actions",children:[e("button",{class:"btn btn-secondary",onClick:r,children:a}),e("button",{class:`btn btn-${c}`,onClick:i,children:l})]})]})})}function Lt(){const[t,n]=w(null),[i,r]=w(null);return{toast:t,confirmDialog:i,showToast:(c,d="success")=>{n({message:c,type:d})},showConfirm:c=>new Promise(d=>{r({...c,onConfirm:()=>{r(null),d(!0)},onCancel:()=>{r(null),d(!1)}})}),clearToast:()=>n(null)}}const H=async(t,n={})=>{const i=await fetch(t,n);if(!i.ok){const r=await i.json().catch(()=>({error:"Request failed"}));throw new Error(r.error||"Request failed")}return i.json()},de={getAll:()=>fetch("/api/users").then(t=>t.json()),verify:(t,n)=>H("/api/users/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,status:n})}),delete:t=>H(`/api/users/${t}`,{method:"DELETE"})},Y={getAll:()=>fetch("/api/majelis").then(t=>t.json()),create:t=>H("/api/majelis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),update:(t,n)=>H(`/api/majelis/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),delete:t=>H(`/api/majelis/${t}`,{method:"DELETE"}),addMember:(t,n)=>H(`/api/majelis/${t}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n})}),removeMember:(t,n)=>H(`/api/majelis/${t}/members/${n}`,{method:"DELETE"})},ge={populateMockUsers:()=>H("/api/superadmin/populate-mock",{method:"POST"}),deleteAllMockUsers:()=>H("/api/superadmin/delete-all-mock",{method:"DELETE"}),populateMockMajelis:()=>H("/api/superadmin/populate-mock-majelis",{method:"POST"}),deleteAllMockMajelis:()=>H("/api/superadmin/delete-all-mock-majelis",{method:"DELETE"})};function Pn(){const[t,n]=w([]),[i,r]=w([]),[l,a]=w(null),[c,d]=w({key:null,direction:"asc"}),[y,p]=w(!1),[h,s]=w(""),{toast:u,confirmDialog:f,showToast:_,showConfirm:M,clearToast:z}=Lt();O(()=>{g()},[]);const g=async()=>{try{const[m,S]=await Promise.all([de.getAll(),Y.getAll()]);n(m),r(S)}catch{_("Failed to fetch data","error")}},o=m=>{let S="asc";c.key===m&&c.direction==="asc"&&(S="desc"),d({key:m,direction:S})},k=[...t].sort((m,S)=>{if(!c.key)return 0;let R,J;if(c.key==="majelis_name"){const x=m.majelis_id?i.find(P=>P.id===m.majelis_id):null,D=S.majelis_id?i.find(P=>P.id===S.majelis_id):null;R=x?.name||"",J=D?.name||""}else R=m[c.key]||"",J=S[c.key]||"";return R<J?c.direction==="asc"?-1:1:R>J?c.direction==="asc"?1:-1:0}),b=async(m,S)=>{a(m);try{await de.verify(m,S),await g(),_("User verified successfully")}catch(R){_(R.message,"error")}finally{a(null)}},j=async(m,S)=>{if(await M({title:"Delete User",message:`Are you sure you want to delete ${S}? This action cannot be undone.`})){a(m);try{await de.delete(m),await g(),_("User deleted successfully")}catch(J){_(J.message,"error")}finally{a(null)}}},T=async()=>{if(await M({title:"Populate Mock Data",message:"This will create 8 mock users in the database. Continue?",confirmText:"Populate",type:"primary"})){a("mock");try{await ge.populateMockUsers(),await g(),_("Mock data populated successfully!")}catch(S){_(S.message,"error")}finally{a(null)}}},B=()=>{p(!0),s("")},F=async()=>{if(h!=="delete"){alert('Please type "delete" to confirm');return}a("delete-all"),p(!1);try{await ge.deleteAllMockUsers(),await g(),_("All mock users deleted successfully!")}catch(m){_(m.message,"error")}finally{a(null),s("")}},W=m=>c.key!==m?"â‡…":c.direction==="asc"?"â†‘":"â†“";return e(U,{children:[e("div",{class:"card",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;",children:[e("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[e(q,{size:24})," User Management (",t.length,")"]}),e("div",{style:"display: flex; gap: 0.5rem;",children:(()=>{const m=t.filter(S=>S.is_mock).length;return e(U,{children:[e("button",{class:"btn btn-primary",onClick:T,disabled:l==="mock"||m>0,title:m>0?"Mock users already exist":"",children:[e(kt,{size:16})," Populate Mock Data"]}),e("button",{class:"btn btn-danger",onClick:B,disabled:l==="delete-all"||m===0,children:[e(jt,{size:16})," Delete All Mock ",m>0&&`(${m})`]})]})})()})]}),e("table",{children:[e("thead",{children:e("tr",{children:[e("th",{onClick:()=>o("name"),style:"cursor: pointer;",children:["Name ",W("name")]}),e("th",{onClick:()=>o("phone"),style:"cursor: pointer;",children:["Phone ",W("phone")]}),e("th",{onClick:()=>o("business_type"),style:"cursor: pointer;",children:["Business ",W("business_type")]}),e("th",{onClick:()=>o("location"),style:"cursor: pointer;",children:["Location ",W("location")]}),e("th",{onClick:()=>o("majelis_name"),style:"cursor: pointer;",children:["Majelis ",W("majelis_name")]}),e("th",{onClick:()=>o("status"),style:"cursor: pointer;",children:["Status ",W("status")]}),e("th",{children:"Actions"})]})}),e("tbody",{children:k.map(m=>{const S=m.majelis_id?i.find(R=>R.id===m.majelis_id):null;return e("tr",{children:[e("td",{children:[e("strong",{children:e("a",{href:`/user-profile/${m.phone}`,class:"user-link",children:m.name})}),m.is_demo&&e("span",{style:"margin-left: 6px; padding: 2px 6px; background: #ff9800; color: white; border-radius: 4px; font-size: 10px; font-weight: bold;",children:"DEMO"}),m.is_mock&&!m.is_demo&&e("span",{style:"margin-left: 6px; padding: 2px 6px; background: #9e9e9e; color: white; border-radius: 4px; font-size: 10px; font-weight: bold;",children:"MOCK"})]}),e("td",{children:m.phone}),e("td",{children:m.business?.category||m.business_type||"-"}),e("td",{children:m.business?.location||m.location||"-"}),e("td",{children:S?e("a",{href:`/majelis/${S.id}`,style:"color: #2196f3; text-decoration: none; display: flex; align-items: center; gap: 4px;",children:[e(q,{size:14}),S.name]}):e("span",{style:"color: #999;",children:"â€”"})}),e("td",{children:e("span",{class:`status ${m.status==="active"?"verified":"pending"}`,children:m.status==="active"?"Verified":"Pending"})}),e("td",{children:e("div",{class:"actions",children:[e("button",{class:"btn btn-icon btn-success",onClick:()=>b(m.phone,!0),disabled:l===m.phone||m.status==="active",title:"Verify user",children:e(cn,{size:16})}),e("button",{class:"btn btn-icon btn-secondary",onClick:()=>j(m.phone,m.name),disabled:l===m.phone,title:"Delete user",children:e(fe,{size:16})})]})})]},m.phone)})})]})]}),y&&e("div",{class:"modal-overlay",onClick:()=>p(!1),children:e("div",{class:"modal-content",onClick:m=>m.stopPropagation(),children:[e("h3",{children:[e(fe,{size:18,style:{marginRight:"8px",color:"#dc3545"}}),"Delete All Mock Users"]}),e("p",{children:"This will permanently delete all mock users from the database."}),e("p",{children:e("strong",{children:'Type "delete" to confirm:'})}),e("input",{type:"text",value:h,onInput:m=>s(m.target.value),placeholder:"Type delete here",style:"width: 100%; padding: 0.5rem; margin: 1rem 0;"}),e("div",{style:"display: flex; gap: 0.5rem; justify-content: flex-end;",children:[e("button",{class:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e("button",{class:"btn btn-danger",onClick:F,disabled:h!=="delete",children:"Delete All"})]})]})}),u&&e(Dt,{message:u.message,type:u.type,onClose:z}),f&&e(At,{...f})]})}function Rn(){const[t,n]=w([]),[i,r]=w([]),[l,a]=w(!1),[c,d]=w(null),[y,p]=w({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),[h,s]=w(null),[u,f]=w(""),[_,M]=w([]),[z,g]=w(null),{toast:o,confirmDialog:k,showToast:b,showConfirm:j,clearToast:T}=Lt();O(()=>{B()},[]),O(()=>{if(!u.trim()||!h){M([]);return}const x=u.toLowerCase(),P=t.find(V=>V.id===h)?.members||[],G=i.filter(V=>V.status==="active"&&!P.includes(V.phone)&&!V.majelis_id).filter(V=>V.name?.toLowerCase().includes(x)||V.phone?.includes(x)).slice(0,5);M(G)},[u,i,h,t]);const B=async()=>{try{const[x,D]=await Promise.all([Y.getAll(),de.getAll()]);n(x),r(D)}catch{b("Failed to fetch data","error")}},F=async x=>{x.preventDefault();try{c?await Y.update(c,y):await Y.create(y),a(!1),d(null),p({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""}),B(),b(`Majelis ${c?"updated":"created"} successfully`)}catch(D){b(D.message,"error")}},W=async(x,D)=>{if(await j({title:"Delete Majelis",message:`Are you sure you want to delete "${D}"? All member associations will be cleared.`}))try{await Y.delete(x),B(),b("Majelis deleted successfully")}catch(A){b(A.message,"error")}},m=async(x,D)=>{try{await Y.addMember(x,D),s(null),f(""),B(),b("Member added successfully")}catch(P){b(P.message,"error")}},S=async(x,D)=>{const P=i.find(G=>G.phone===D);if(await j({title:"Remove Member",message:`Remove ${P?.name||D} from this majelis?`,confirmText:"Remove"}))try{await Y.removeMember(x,D),B(),b("Member removed successfully")}catch(G){b(G.message,"error")}};return e(U,{children:[e("div",{class:"card",children:[e("div",{class:"card-header-actions",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(q,{size:24})," Majelis Groups"]}),e("div",{style:"display: flex; gap: 8px;",children:[e("button",{class:"btn btn-primary",onClick:()=>a(!0),children:[e(St,{size:16})," Create Majelis"]}),e("button",{class:"btn btn-secondary",onClick:async()=>{if(await j({title:"Populate Mock Majelis",message:"This will create 3 mock majelis groups. Continue?",confirmText:"Populate",type:"primary"})){g("mock");try{await ge.populateMockMajelis(),B(),b("Mock majelis populated!")}catch(D){b(D.message,"error")}finally{g(null)}}},disabled:z==="mock",children:[e(kt,{size:16})," Populate Mock"]}),e("button",{class:"btn btn-danger",onClick:async()=>{if(await j({title:"Delete All Mock Majelis",message:"This will permanently delete all mock majelis groups. Continue?",confirmText:"Delete All"})){g("delete-all");try{await ge.deleteAllMockMajelis(),B(),b("All mock majelis deleted!")}catch(D){b(D.message,"error")}finally{g(null)}}},disabled:z==="delete-all",children:[e(jt,{size:16})," Delete All Mock"]})]})]}),e("div",{class:"majelis-grid",children:t.length===0?e("div",{class:"empty-state",children:e("p",{children:"No majelis yet. Create one!"})}):t.map(x=>{const D=x.members?.length||0;return e("div",{class:"majelis-card",children:[e("a",{href:`/majelis/${x.id}`,style:"text-decoration: none; color: inherit;",children:[e("h3",{style:"display: flex; align-items: center; gap: 8px;",children:[x.name,x.is_mock&&e("span",{style:"padding: 2px 6px; background: #9e9e9e; color: white; border-radius: 4px; font-size: 10px;",children:"MOCK"})]}),e("div",{class:"info-row",children:[e("span",{children:[e(ue,{size:14})," ",x.schedule_day," ",x.schedule_time]}),e("span",{children:[e(zt,{size:14})," ",x.location||"No location"]})]}),x.description&&e("p",{class:"majelis-description",children:x.description})]}),e("div",{class:"member-section",children:[e("div",{class:"member-header",children:[e("span",{class:"member-count",children:[e(q,{size:14})," ",D," member",D!==1?"s":""]}),e("button",{class:"btn btn-primary btn-icon",onClick:()=>s(x.id),title:"Add member",children:e(Dn,{size:14})})]}),D===0?e("div",{class:"no-members",children:"No members yet. Click + to add."}):e("div",{class:"member-list",children:x.members.map(P=>{const A=i.find(G=>G.phone===P);return e("div",{class:"member-item",children:[e("div",{class:"member-info",children:[e("div",{class:"member-name",children:A?.name||P}),A&&e("div",{class:"member-business",children:A.business_type})]}),e("button",{class:"btn-remove",onClick:()=>S(x.id,P),title:"Remove member",children:e(In,{size:14})})]},P)})})]}),e("div",{class:"actions",children:[e("button",{class:"btn btn-secondary",onClick:()=>{d(x.id),p(x),a(!0)},children:[e(kn,{size:14})," ",e("span",{class:"btn-text",children:"Edit"})]}),e("button",{class:"btn btn-danger",onClick:()=>W(x.id,x.name),children:[e(fe,{size:14})," ",e("span",{class:"btn-text",children:"Delete"})]})]})]},x.id)})})]}),l&&e("div",{class:"modal active",children:e("div",{class:"modal-content",children:[e("h2",{children:[c?"Edit":"Create"," Majelis"]}),e("form",{onSubmit:F,children:[e("div",{class:"form-group",children:[e("label",{children:"Name *"}),e("input",{type:"text",value:y.name,onInput:x=>p({...y,name:x.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{children:"Description"}),e("textarea",{value:y.description,onInput:x=>p({...y,description:x.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Day *"}),e("select",{value:y.schedule_day,onChange:x=>p({...y,schedule_day:x.target.value}),required:!0,children:[e("option",{value:"",children:"Select day"}),e("option",{value:"Senin",children:"Senin"}),e("option",{value:"Selasa",children:"Selasa"}),e("option",{value:"Rabu",children:"Rabu"}),e("option",{value:"Kamis",children:"Kamis"}),e("option",{value:"Jumat",children:"Jumat"}),e("option",{value:"Sabtu",children:"Sabtu"})]})]}),e("div",{class:"form-group",children:[e("label",{children:"Schedule Time"}),e("input",{type:"time",value:y.schedule_time,onInput:x=>p({...y,schedule_time:x.target.value})})]}),e("div",{class:"form-group",children:[e("label",{children:"Location"}),e("input",{type:"text",value:y.location,onInput:x=>p({...y,location:x.target.value})})]}),e("div",{class:"form-actions",children:[e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{a(!1),d(null),p({name:"",description:"",schedule_day:"",schedule_time:"10:00",location:""})},children:"Cancel"}),e("button",{type:"submit",class:"btn btn-primary",children:"Save"})]})]})]})}),h&&e("div",{class:"modal active",onClick:x=>{x.target.className==="modal active"&&(s(null),f(""))},children:e("div",{class:"modal-content modal-sm",children:[e("h2",{children:"Add Member"}),e("div",{class:"form-group",children:[e("label",{children:"Search by name or phone"}),e("input",{type:"text",value:u,onInput:x=>f(x.target.value),placeholder:"Type to search...",autoFocus:!0}),_.length>0&&e("div",{class:"autocomplete-results",children:_.map(x=>e("div",{class:"autocomplete-item",onClick:()=>m(h,x.phone),children:[e("div",{class:"autocomplete-name",children:x.name}),e("div",{class:"autocomplete-details",children:[x.phone," â€¢ ",x.business?.category||x.business_type||"-"]})]},x.phone))}),u&&_.length===0&&e("div",{class:"autocomplete-empty",children:"No verified users found"})]}),!u&&(()=>{const D=t.find(A=>A.id===h)?.members||[],P=i.filter(A=>A.status==="active"&&!D.includes(A.phone)&&!A.majelis_id).slice(0,10);return P.length>0?e("div",{style:"margin-top: 16px;",children:[e("label",{style:"font-size: 12px; color: #666; margin-bottom: 8px; display: block;",children:["Eligible members (",P.length,i.filter(A=>A.status==="active"&&!D.includes(A.phone)&&!A.majelis_id).length>10?"+":"",")"]}),e("div",{class:"autocomplete-results",style:"position: static; max-height: 250px;",children:P.map(A=>e("div",{class:"autocomplete-item",onClick:()=>m(h,A.phone),children:[e("div",{class:"autocomplete-name",children:[A.name,A.is_demo&&e("span",{style:"margin-left: 4px; padding: 1px 4px; background: #ff9800; color: white; border-radius: 3px; font-size: 9px;",children:"DEMO"})]}),e("div",{class:"autocomplete-details",children:[A.phone," â€¢ ",A.business?.category||A.business_type||"-"]})]},A.phone))})]}):e("div",{style:"margin-top: 16px; color: #666; font-size: 13px; text-align: center;",children:["No eligible members available.",e("br",{}),e("span",{style:"font-size: 11px;",children:"(Must be verified & not in another majelis)"})]})})(),e("div",{class:"form-actions",children:e("button",{type:"button",class:"btn btn-secondary",onClick:()=>{s(null),f("")},children:"Cancel"})})]})}),o&&e(Dt,{message:o.message,type:o.type,onClose:T}),k&&e(At,{...k})]})}const Ye="/api";function Bn({id:t}){const[n,i]=w(null),[r,l]=w([]),[a,c]=w([]),[d,y]=w(!0),[p,h]=w(!1),[s,u]=w({date:"",attendees:[],notes:""});O(()=>{f()},[t]);const f=async()=>{y(!0);try{const o=await(await fetch(`${Ye}/majelis/${t}`)).json();if(i(o),o.members?.length>0){const b=await(await fetch(`${Ye}/users`)).json(),j=o.members.map(T=>b.find(B=>B.phone===T)||{phone:T,name:T});l(j)}c(o.attendance||_(o.members||[]))}catch(g){console.error(g)}y(!1)},_=g=>{const o=[],k=new Date;for(let b=4;b>=0;b--){const j=new Date(k);j.setDate(j.getDate()-b*7);const T=g.filter(()=>Math.random()>.2);o.push({id:`week_${b}`,date:j.toISOString().split("T")[0],attendees:T,total:g.length,notes:b===0?"Pertemuan terakhir berjalan lancar":""})}return o},M=g=>{u(o=>({...o,attendees:o.attendees.includes(g)?o.attendees.filter(k=>k!==g):[...o.attendees,g]}))},z=async()=>{if(!s.date)return alert("Pilih tanggal");const g={id:`week_${Date.now()}`,date:s.date,attendees:s.attendees,total:r.length,notes:s.notes};c(o=>[...o,g]),h(!1),u({date:"",attendees:[],notes:""})};return d?e("div",{style:"padding: 20px;",children:"Loading..."}):n?e("div",{style:"padding: 20px;",children:[e("a",{href:"/majelis",style:"display: inline-flex; align-items: center; gap: 4px; color: #666; text-decoration: none; margin-bottom: 16px;",children:[e(pn,{size:20})," Kembali ke Daftar Majelis"]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: flex-start;",children:[e("div",{children:[e("h1",{style:"margin: 0 0 8px 0; display: flex; align-items: center; gap: 8px;",children:[e(q,{size:28})," ",n.name]}),e("p",{style:"color: #666; margin: 0;",children:n.description||"Tidak ada deskripsi"})]}),n.is_mock&&e("span",{style:"padding: 4px 8px; background: #9e9e9e; color: white; border-radius: 4px; font-size: 12px;",children:"MOCK"})]}),e("div",{style:"display: flex; gap: 24px; margin-top: 16px; flex-wrap: wrap;",children:[e("div",{style:"display: flex; align-items: center; gap: 8px; color: #666;",children:[e(ue,{size:18})," ",n.schedule_day||"-"]}),e("div",{style:"display: flex; align-items: center; gap: 8px; color: #666;",children:[e(gn,{size:18})," ",n.schedule_time||"-"]}),e("div",{style:"display: flex; align-items: center; gap: 8px; color: #666;",children:[e(zt,{size:18})," ",n.location||"-"]}),e("div",{style:"display: flex; align-items: center; gap: 8px; color: #666;",children:[e(q,{size:18})," ",r.length," anggota"]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{style:"margin: 0 0 16px 0;",children:"ðŸ‘¥ Daftar Anggota"}),r.length===0?e("p",{style:"color: #666;",children:"Belum ada anggota"}):e("div",{style:"display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px;",children:r.map(g=>e("div",{style:"padding: 12px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; gap: 8px;",children:[e("div",{style:"width: 36px; height: 36px; background: #e3f2fd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #2196f3;",children:g.name?.[0]||"?"}),e("div",{children:[e("div",{style:"font-weight: 500;",children:g.name||"Unknown"}),e("div",{style:"font-size: 12px; color: #666;",children:g.phone})]})]},g.phone))})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;",children:[e("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[e(ue,{size:20})," Riwayat Kehadiran"]}),e("button",{onClick:()=>h(!0),style:"padding: 8px 16px; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 4px;",children:[e(St,{size:16})," Tambah Minggu"]})]}),a.length===0?e("p",{style:"color: #666;",children:"Belum ada data kehadiran"}):e("div",{style:"display: flex; flex-direction: column; gap: 12px;",children:[...a].reverse().map(g=>{const o=g.total>0?Math.round(g.attendees.length/g.total*100):0,k=o>=80?"#4caf50":o>=50?"#ff9800":"#f44336";return e("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px",borderLeft:`4px solid ${k}`},children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;",children:[e("div",{style:"font-weight: 500;",children:new Date(g.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),e("div",{style:"display: flex; align-items: center; gap: 8px;",children:[e("span",{style:`padding: 4px 8px; background: ${k}; color: white; border-radius: 4px; font-size: 12px; font-weight: bold;`,children:[o,"%"]}),e("span",{style:"color: #666; font-size: 14px;",children:[g.attendees.length,"/",g.total," hadir"]})]})]}),e("div",{style:"display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px;",children:r.map(b=>{const j=g.attendees.includes(b.phone);return e("span",{style:{padding:"4px 8px",background:j?"#e8f5e9":"#ffebee",color:j?"#2e7d32":"#c62828",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[j?e(jn,{size:12}):e(An,{size:12}),b.name?.split(" ")[0]||b.phone.slice(-4)]},b.phone)})}),g.notes&&e("div",{style:"font-size: 13px; color: #666; font-style: italic; display: flex; align-items: center; gap: 4px;",children:[e(wt,{size:12})," ",g.notes]})]},g.id)})})]}),p&&e("div",{style:"position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;",children:e("div",{style:"background: white; padding: 24px; border-radius: 8px; width: 90%; max-width: 500px; max-height: 80vh; overflow-y: auto;",children:[e("h3",{style:"margin: 0 0 16px 0;",children:"Tambah Kehadiran Minggu Ini"}),e("div",{style:"margin-bottom: 16px;",children:[e("label",{style:"display: block; margin-bottom: 4px; font-weight: 500;",children:"Tanggal"}),e("input",{type:"date",value:s.date,onChange:g=>u(o=>({...o,date:g.target.value})),style:"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;"})]}),e("div",{style:"margin-bottom: 16px;",children:[e("label",{style:"display: block; margin-bottom: 8px; font-weight: 500;",children:["Kehadiran (",s.attendees.length,"/",r.length,")"]}),e("div",{style:"display: flex; flex-direction: column; gap: 8px;",children:r.map(g=>e("label",{style:"display: flex; align-items: center; gap: 8px; padding: 8px; background: newWeek.attendees.includes(m.phone) ? '#e8f5e9' : '#f5f5f5'; border-radius: 4px; cursor: pointer;",children:[e("input",{type:"checkbox",checked:s.attendees.includes(g.phone),onChange:()=>M(g.phone)}),e("span",{children:g.name||g.phone})]},g.phone))})]}),e("div",{style:"margin-bottom: 16px;",children:[e("label",{style:"display: block; margin-bottom: 4px; font-weight: 500;",children:"Catatan"}),e("textarea",{value:s.notes,onChange:g=>u(o=>({...o,notes:g.target.value})),placeholder:"Catatan pertemuan minggu ini...",style:"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; min-height: 80px;"})]}),e("div",{style:"display: flex; gap: 8px; justify-content: flex-end;",children:[e("button",{onClick:()=>h(!1),style:"padding: 8px 16px; background: #f5f5f5; border: none; border-radius: 4px; cursor: pointer;",children:"Batal"}),e("button",{onClick:z,style:"padding: 8px 16px; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 4px;",children:[e(Mn,{size:16})," Simpan"]})]})]})})]}):e("div",{style:"padding: 20px;",children:"Majelis not found"})}const En={"warung sembako":"ðŸª",kelontong:"ðŸª","warung makan":"ðŸ½ï¸",coffee:"â˜•",jajanan:"ðŸª",camilan:"ðŸª",minuman:"ðŸ§‹",fashion:"ðŸ‘—",hijab:"ðŸ‘—",elektronik:"ðŸ“±",gadget:"ðŸ“±","pet shop":"ðŸ¾","bahan bangunan":"ðŸ§±",mainan:"ðŸŽ®",hobi:"ðŸŽ®",laundry:"ðŸ‘•","bengkel motor":"ðŸï¸",kecantikan:"ðŸ’‡",salon:"ðŸ’‡",penjahit:"âœ‚ï¸",permak:"âœ‚ï¸","kos-kosan":"ðŸ ",penginapan:"ðŸ ",logistik:"ðŸ“¦",ekspedisi:"ðŸ“¦","sewa kendaraan":"ðŸš—","cuci steam":"ðŸš¿",detailing:"ðŸš¿",apotek:"ðŸ’Š",obat:"ðŸ’Š",event:"ðŸŽ‰",wedding:"ðŸŽ‰","bengkel las":"ðŸ”§",bubut:"ðŸ”§",kontraktor:"ðŸ—ï¸",renovasi:"ðŸ—ï¸",kriya:"ðŸŽ¨",kerajinan:"ðŸŽ¨",petani:"ðŸŒ±",holtikultura:"ðŸŒ±",nelayan:"ðŸŸ",ikan:"ðŸŸ"};function Qe(t){const n=t.toLowerCase();for(const[i,r]of Object.entries(En))if(n.includes(i))return r;return"ðŸ¢"}function Un(){const[t,n]=w(null),[i,r]=w([]),[l,a]=w(!0);O(()=>{c()},[]);const c=async()=>{const d="businessTypes";try{const p=localStorage.getItem(d);if(p){const{data:f,timestamp:_}=JSON.parse(p);if(Date.now()-_<864e5){r(f),a(!1);return}}const u=(await(await fetch("/api/knowledge/business-classifications")).json()).sort((f,_)=>(f.category_number||999)-(_.category_number||999));localStorage.setItem(d,JSON.stringify({data:u,timestamp:Date.now()})),r(u)}catch(p){console.error("Failed to fetch business types",p)}finally{a(!1)}};return l?e("div",{class:"loading",children:"Loading business types..."}):i.length===0?e("div",{class:"card",children:e("div",{class:"empty-state",children:[e("div",{class:"empty-state-icon",children:e(vn,{size:48,color:"#6c757d"})}),e("h3",{children:"No Business Types Found"}),e("p",{children:"Business classifications haven't been imported yet."})]})}):e(U,{children:[e("div",{class:"card",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(mt,{size:20})," Business Classifications & Maturity Levels"]}),e("div",{class:"business-grid",children:i.map(d=>{const y=d.category_number?`Kategori ${d.category_number}`:"Mikro",p=Qe(d.business_type),h=(d.maturity_levels||[]).filter(s=>s.goal).map(s=>`Level ${s.level}: ${s.goal}`);return e("div",{class:"business-card",onClick:()=>n(d),style:{cursor:"pointer"},children:[e("div",{class:"card-header",children:[e("div",{class:"card-icon",children:p}),e("div",{class:"card-title-section",children:[e("div",{class:"category",children:y}),e("h3",{children:d.business_type})]})]}),h.length>0&&e("div",{class:"goals",children:[e("strong",{class:"business-type-header",children:"Level Up Goals:"}),h.map((s,u)=>e("div",{class:"goal-item",children:s},u))]})]},d.id)})})]}),t&&e("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>n(null),children:e("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:d=>d.stopPropagation(),children:[e("div",{style:{position:"sticky",top:0,background:"white",zIndex:1,padding:"24px 24px 16px",borderBottom:"1px solid #eee"},children:[e("button",{onClick:()=>n(null),style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#999",lineHeight:1},children:"Ã—"}),e("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e("div",{style:{fontSize:"40px",width:"60px",height:"60px",background:"#f5f5f5",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:Qe(t.business_type)}),e("div",{children:[e("div",{style:{display:"inline-block",padding:"4px 12px",background:"#e3f2fd",color:"#1976d2",borderRadius:"12px",fontSize:"12px",fontWeight:600,marginBottom:"4px"},children:t.category_number?`Kategori ${t.category_number}`:"Mikro"}),e("h2",{style:{margin:0,fontSize:"24px"},children:t.business_type})]})]})]}),e("div",{style:{padding:"24px"},children:[t.description&&e("div",{style:{marginBottom:"24px",color:"#555",lineHeight:1.6},children:t.description}),e("h3",{style:{fontSize:"18px",marginBottom:"16px",color:"#333",borderBottom:"2px solid #f0f0f0",paddingBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[e(Ge,{size:20})," Maturity Levels & Roadmap"]}),(t.maturity_levels||[]).sort((d,y)=>d.level-y.level).map((d,y)=>e("div",{style:{marginBottom:"24px",padding:"20px",background:"#fafafa",border:"1px solid #e0e0e0",borderRadius:"12px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #ddd"},children:[e("div",{style:{fontWeight:800,color:"#007bff",fontSize:"16px"},children:["LEVEL ",d.level]}),e("div",{style:{fontWeight:600,color:"#333",fontSize:"16px"},children:d.name||d.goal})]}),d.character?.length>0&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Karakteristik"}),e("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#555"},children:d.character.map((p,h)=>e("li",{children:p},h))})]}),(d.swot?.strengths?.length>0||d.swot?.weaknesses?.length>0||d.swot?.opportunities?.length>0||d.swot?.threats?.length>0)&&e("div",{style:{marginBottom:"16px"},children:[e("h4",{style:{fontSize:"14px",color:"#666",marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[e(_t,{size:14})," SWOT Analysis"]}),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[d.swot?.strengths?.length>0&&e("div",{style:{background:"#e3f2fd",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #2196f3"},children:[e("strong",{style:{color:"#1976d2",display:"flex",alignItems:"center",gap:"4px",marginBottom:"6px",fontSize:"13px"},children:[e($n,{size:12})," Strengths"]}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:d.swot.strengths.map((p,h)=>e("li",{children:p},h))})]}),d.swot?.weaknesses?.length>0&&e("div",{style:{background:"#ffebee",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #f44336"},children:[e("strong",{style:{color:"#c62828",display:"flex",alignItems:"center",gap:"4px",marginBottom:"6px",fontSize:"13px"},children:[e(Ce,{size:12})," Weaknesses"]}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:d.swot.weaknesses.map((p,h)=>e("li",{children:p},h))})]}),d.swot?.opportunities?.length>0&&e("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #4caf50"},children:[e("strong",{style:{color:"#2e7d32",display:"flex",alignItems:"center",gap:"4px",marginBottom:"6px",fontSize:"13px"},children:[e(Cn,{size:12})," Opportunities"]}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:d.swot.opportunities.map((p,h)=>e("li",{children:p},h))})]}),d.swot?.threats?.length>0&&e("div",{style:{background:"#fff8e1",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #ff9800"},children:[e("strong",{style:{color:"#e65100",display:"flex",alignItems:"center",gap:"4px",marginBottom:"6px",fontSize:"13px"},children:[e(Ce,{size:12})," Threats"]}),e("ul",{style:{margin:0,paddingLeft:"15px",fontSize:"12px"},children:d.swot.threats.map((p,h)=>e("li",{children:p},h))})]})]})]}),(d.roadmap?.description||d.roadmap?.kpis?.length>0)&&e("div",{style:{background:"white",padding:"15px",borderRadius:"8px",border:"1px dashed #ccc"},children:[e("h4",{style:{fontSize:"14px",color:"#333",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[e(Ge,{size:14})," How to Level Up"]}),d.roadmap?.description&&e("p",{style:{fontSize:"13px",color:"#555",marginBottom:"10px",fontStyle:"italic"},children:d.roadmap.description}),d.roadmap?.kpis?.length>0&&e("div",{children:[e("strong",{style:{fontSize:"13px",color:"#666"},children:"Target KPIs:"}),e("ul",{style:{margin:"5px 0 0",paddingLeft:"20px",fontSize:"12px"},children:d.roadmap.kpis.map((p,h)=>e("li",{children:p},h))})]})]})]},y))]})]})})]})}function Wn(){const[t,n]=w(null),[i,r]=w([]),[l,a]=w(!0);O(()=>{c()},[]);const c=async(u=!1)=>{const f="financialLiteracy";try{if(!u){const o=localStorage.getItem(f);if(o){const{data:k,timestamp:b}=JSON.parse(o);if(Date.now()-b<864e5){r(k),k.length>0&&n(k[0]),a(!1);return}}}const g=(await(await fetch("/api/knowledge/financial-literacy")).json()).filter(o=>o.week_number&&o.bank_soal&&o.bank_soal.length>0).sort((o,k)=>o.week_number-k.week_number);localStorage.setItem(f,JSON.stringify({data:g,timestamp:Date.now()})),r(g),g.length>0&&n(g[0])}catch(M){console.error("Failed to fetch course:",M)}finally{a(!1)}},d=()=>{alert(`To reimport quizzes, run locally:

node scripts/import-financial-literacy.js

Then click Refresh below.`)},y=async()=>{localStorage.removeItem("financialLiteracy"),a(!0),await c(!0)},p=u=>!u||typeof u!="string"?u:u.replace(/\[Sapaan\]/gi,"Anda"),h=u=>({1:"Fondasi Keuangan",2:"Arus Kas",3:"Perencanaan",4:"Digital & Keamanan"})[u]||`Module ${u}`;if(l)return e("div",{class:"loading",children:"Loading..."});const s=i.reduce((u,f)=>{const _=f.module_number||0;return u[_]||(u[_]=[]),u[_].push(f),u},{});return e("div",{style:{display:"flex",gap:"20px",height:"calc(100vh - 100px)"},children:[e("div",{style:{width:"280px",flexShrink:0,background:"#fff",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid #dee2e6"},children:[e("div",{style:{padding:"16px",borderBottom:"1px solid #dee2e6",background:"#f8f9fa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e("h2",{style:{margin:0,fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e(ye,{size:18})," 15 Weeks"]}),e("div",{style:{display:"flex",gap:"4px"},children:[e("button",{onClick:d,title:"Show reimport instructions",style:{padding:"6px 10px",background:"#fff",border:"1px solid #dee2e6",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"12px"},children:e(Ct,{size:14})}),e("button",{onClick:y,title:"Refresh from database",style:{padding:"6px 10px",background:"#fff",border:"1px solid #dee2e6",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Refresh"})]})]}),e("div",{style:{flex:1,overflowY:"auto"},children:Object.keys(s).sort((u,f)=>u-f).map(u=>e("div",{children:[e("div",{style:{padding:"8px 16px",background:"#e9ecef",fontSize:"11px",fontWeight:600,color:"#6c757d",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Modul ",u,": ",h(parseInt(u))]}),s[u].map(f=>{const _=t?.week_number===f.week_number,M=(f.module_name||`Week ${f.week_number}`).replace(/^Modul\s+\d+\s*-\s*/i,"").replace(/^Minggu\s+\d+:\s*/i,"");return e("div",{onClick:()=>n(f),style:{padding:"12px 16px",cursor:"pointer",borderLeft:_?"3px solid #0d6efd":"3px solid transparent",background:_?"#e7f1ff":"transparent",transition:"background 0.15s"},children:[e("div",{style:{fontSize:"10px",color:"#6c757d",marginBottom:"2px"},children:["Week ",f.week_number]}),e("div",{style:{fontSize:"13px",fontWeight:500,color:_?"#0d6efd":"#212529"},children:M}),e("div",{style:{fontSize:"11px",color:"#6c757d",marginTop:"2px"},children:[f.bank_soal?.length||0," questions"]})]},f.week_number)})]},u))})]}),e("div",{style:{flex:1,background:"#fff",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid #dee2e6"},children:t?e(U,{children:[e("div",{style:{padding:"16px",borderBottom:"1px solid #dee2e6",background:"#f8f9fa"},children:[e("div",{style:{fontSize:"11px",color:"#6c757d",marginBottom:"4px"},children:["Week ",t.week_number," â€¢ Module ",t.module_number]}),e("h2",{style:{margin:0,fontSize:"18px"},children:(t.module_name||"").replace(/^Modul\s+\d+\s*-\s*/i,"").replace(/^Minggu\s+\d+:\s*/i,"")})]}),e("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:[e("h3",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px",color:"#212529"},children:[e(wt,{size:16})," Bank Soal (",t.bank_soal?.length||0,")"]}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",overflow:"hidden"},children:(t.bank_soal||[]).map((u,f)=>e("div",{style:{borderBottom:f<t.bank_soal.length-1?"1px solid #e9ecef":"none",background:f%2===0?"#fff":"#f8f9fa"},children:e("div",{style:{padding:"12px 14px"},children:[e("div",{style:{fontWeight:600,fontSize:"13px",color:"#212529",marginBottom:"8px"},children:[e("span",{style:{color:"#6c757d",marginRight:"8px"},children:[f+1,"."]}),p(u.question)]}),e("div",{style:{paddingLeft:"20px"},children:[(u.options||[]).map((_,M)=>{const z=M===u.correct;return e("div",{style:{padding:"6px 10px",marginBottom:"4px",background:z?"#d1e7dd":"#fff",border:`1px solid ${z?"#198754":"#dee2e6"}`,borderRadius:"4px",fontSize:"12px",color:z?"#0f5132":"#495057",display:"flex",alignItems:"center"},children:[e("strong",{style:{minWidth:"20px"},children:[String.fromCharCode(97+M),"."]}),e("span",{style:{flex:1},children:p(_)}),z&&e("span",{style:{color:"#198754"},children:"âœ“"})]},M)}),u.explanation&&e("div",{style:{marginTop:"8px",padding:"8px 10px",background:"#fff3cd",borderLeft:"3px solid #ffc107",fontSize:"12px",color:"#664d03",display:"flex",gap:"6px"},children:[e(_n,{size:14,style:{flexShrink:0,marginTop:"1px"}}),e("span",{children:p(u.explanation)})]})]})]})},f))}),t.indikator_kelulusan?.length>0&&e("div",{style:{marginTop:"20px"},children:[e("h3",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px",color:"#212529"},children:[e(bt,{size:16})," Indikator Kelulusan"]}),e("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",padding:"12px 14px",background:"#f8f9fa"},children:t.indikator_kelulusan.map((u,f)=>e("div",{style:{padding:"4px 0",fontSize:"13px",color:"#495057",display:"flex"},children:[e("span",{style:{minWidth:"20px",color:"#198754",fontWeight:600},children:[f+1,"."]}),e("span",{children:u})]},f))})]}),t.source_doc_id&&e("div",{style:{marginTop:"20px",padding:"12px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:e("a",{href:`https://docs.google.com/document/d/${t.source_doc_id}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",color:"#0d6efd",fontSize:"13px",textDecoration:"none"},children:[e(mn,{size:14})," View source document in Google Drive"]})})]})]}):e("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d"},children:"Select a week to view questions"})})]})}function Nn({phone:t}){const[n,i]=w(null),[r,l]=w(!0),[a,c]=w(null),[d,y]=w("all"),[p,h]=w(new Set),s=async()=>{try{const o=await fetch(`/api/users/${t}/complete`);if(!o.ok)throw new Error("User not found");i(await o.json())}catch(o){c(o.message)}finally{l(!1)}};O(()=>{s();const o=new EventSource(`/api/events/${t}`);return o.onmessage=k=>{const b=JSON.parse(k.data);b.type==="bi_added"&&(h(j=>new Set([...j,b.data.id])),s(),setTimeout(()=>{h(j=>{const T=new Set(j);return T.delete(b.data.id),T})},5e3))},()=>o.close()},[t]);const u=o=>o?new Date(o).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-";if(r)return e("div",{class:"card",style:"text-align: center; padding: 40px;",children:"Loading..."});if(a)return e("div",{class:"card",style:"text-align: center; padding: 40px; color: var(--color-danger);",children:a});if(!n)return null;const f={active:"var(--color-success)",pending:"var(--color-warning)",suspended:"var(--color-danger)",inactive:"var(--color-neutral)"},_=o=>"â˜…".repeat(o)+"â˜†".repeat(5-o),M=()=>{if(!n.literacy)return{completed:0,total:15,percentage:0};const k=Object.keys(n.literacy).filter(b=>b.startsWith("week_")).filter(b=>n.literacy[b]?.score>=100).length;return{completed:k,total:15,percentage:Math.round(k/15*100)}},z=n.loan?.history?.length>0?n.loan.history[n.loan.history.length-1].balance_after:0,g=d==="all"?n.business_intelligence:n.business_intelligence?.filter(o=>o.type===d);return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("button",{onClick:()=>window.history.back(),class:"btn",style:"margin-bottom: 16px;",children:[e(on,{size:20,style:"margin-right: 8px;"}),"Back"]}),e("div",{style:"display: flex; justify-content: space-between; align-items: start;",children:[e("div",{children:[e("h1",{style:"margin: 0 0 8px 0;",children:n.name}),e("p",{style:"color: var(--color-neutral); margin: 0 0 4px 0;",children:n.phone}),e("p",{style:"color: var(--color-neutral); font-size: 14px; margin: 0;",children:["Joined ",new Date(n.created_at).toLocaleDateString("id-ID")]})]}),e("span",{class:"status",style:`background: ${f[n.status]}; color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px;`,children:n.status})]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;",children:[e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(Ln,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Personal Info"})]}),n.profile?e("div",{children:[e("p",{children:[e("strong",{children:"DOB:"})," ",n.profile.dob?new Date(n.profile.dob).toLocaleDateString("id-ID"):"-"]}),e("p",{children:[e("strong",{children:"Gender:"})," ",n.profile.gender||"-"]}),e("p",{children:[e("strong",{children:"Address:"})," ",n.profile.address||"-"]})]}):e("p",{style:"color: var(--color-neutral);",children:"No profile data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(xt,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Business Info"})]}),n.business?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.business.name||"-"]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.business.location||"-"]}),e("p",{children:[e("strong",{children:"Category:"})," ",e("span",{style:"padding: 2px 8px; background: #e3f2fd; border-radius: 4px;",children:n.business.category||"-"})]}),e("p",{children:[e("strong",{children:"Maturity Level:"})," ",_(n.business.maturity_level)," (",n.business.maturity_level,"/5)"]}),e("div",{style:"margin-top: 12px;",children:[e("div",{style:"display: flex; gap: 4px; margin-bottom: 8px;",children:[1,2,3,4,5].map(o=>e("div",{style:{flex:1,height:"8px",borderRadius:"4px",background:o<=n.business.maturity_level?"#4caf50":"#e0e0e0"}},o))}),e("div",{style:"font-size: 12px; color: #666;",children:n.business.maturity_level<5?`Next: Level ${n.business.maturity_level+1} - Tingkatkan omzet & pencatatan`:"Level maksimal tercapai"})]})]}):e("p",{style:"color: var(--color-neutral);",children:"No business data"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(yn,{size:24,style:"color: var(--color-success); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Loan Status"})]}),n.loan&&n.loan.limit>0?e("div",{children:[e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 16px;",children:[e("div",{style:"text-align: center; padding: 16px; background: var(--color-primary); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Total Limit"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.limit.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-warning); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Current Debt"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",z.toLocaleString("id-ID")]})]}),e("div",{style:"text-align: center; padding: 16px; background: var(--color-success); color: white; border-radius: 8px;",children:[e("div",{style:"font-size: 14px;",children:"Remaining"}),e("div",{style:"font-size: 24px; font-weight: bold;",children:["Rp ",n.loan.remaining.toLocaleString("id-ID")]})]})]}),n.loan.next_payment_date&&e("div",{style:"padding: 16px; background: var(--color-warning-bg); border-radius: 8px; margin-bottom: 16px;",children:[e("div",{style:"font-weight: bold;",children:"Next Payment"}),e("div",{children:[new Date(n.loan.next_payment_date).toLocaleDateString("id-ID")," - Rp ",n.loan.next_payment_amount.toLocaleString("id-ID")]})]}),n.loan.history?.length>0&&e("div",{children:[e("h3",{children:"Transaction History"}),e("table",{class:"data-table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Date"}),e("th",{children:"Type"}),e("th",{style:"text-align: right;",children:"Amount"}),e("th",{style:"text-align: right;",children:"Balance After"})]})}),e("tbody",{children:n.loan.history.map(o=>e("tr",{children:[e("td",{children:new Date(o.date).toLocaleDateString("id-ID")}),e("td",{children:e("span",{class:"status",style:`background: ${o.type==="disbursement"?"var(--color-primary)":"var(--color-success)"}; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;`,children:o.type})}),e("td",{style:"text-align: right;",children:["Rp ",o.amount.toLocaleString("id-ID")]}),e("td",{style:"text-align: right; font-weight: bold;",children:["Rp ",o.balance_after.toLocaleString("id-ID")]})]},o.id))})]})]})]}):e("p",{style:"color: var(--color-neutral);",children:"No active loan"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(ye,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Literacy Progress"})]}),n.literacy?e("div",{children:[e("div",{style:"margin-bottom: 16px;",children:[e("div",{style:"display: flex; justify-content: space-between; margin-bottom: 4px;",children:[e("span",{style:"font-size: 14px; font-weight: bold;",children:"Progress"}),e("span",{style:"font-size: 14px; font-weight: bold;",children:[M().percentage,"%"]})]}),e("div",{style:"width: 100%; background: #e0e0e0; border-radius: 4px; height: 8px;",children:e("div",{style:`background: var(--color-primary); height: 8px; border-radius: 4px; width: ${M().percentage}%`})}),e("p",{style:"font-size: 14px; color: var(--color-neutral); margin-top: 4px;",children:[M().completed," of ",M().total," weeks completed"]})]}),e("div",{style:"display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px;",children:Array.from({length:15},(o,k)=>{const b=`week_${String(k+1).padStart(2,"0")}`,T=n.literacy[b]?.score||0,B=T>=70?"var(--color-success)":T>0?"var(--color-warning)":"#ccc";return e("div",{style:`background: ${B}; color: white; text-align: center; padding: 8px; border-radius: 4px; font-size: 12px; font-weight: bold;`,title:`Week ${k+1}: ${T}`,children:k+1},b)})})]}):e("p",{style:"color: var(--color-neutral);",children:"No literacy data"})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; align-items: center; margin-bottom: 16px;",children:[e(q,{size:24,style:"color: var(--color-primary); margin-right: 8px;"}),e("h2",{style:"margin: 0;",children:"Majelis"})]}),n.majelis?e("div",{children:[e("p",{children:[e("strong",{children:"Name:"})," ",n.majelis.name]}),e("p",{children:[e("strong",{children:"Schedule:"})," ",n.majelis.schedule_day,", ",n.majelis.schedule_time]}),e("p",{children:[e("strong",{children:"Location:"})," ",n.majelis.location]}),e("p",{children:[e("strong",{children:"Members:"})," ",n.majelis.member_count]})]}):e("p",{style:"color: var(--color-neutral);",children:"Not in any majelis"})]}),e("div",{class:"card",style:"grid-column: 1 / -1;",children:[e("h2",{children:"Business Intelligence"}),e("div",{style:"display: flex; gap: 8px; margin-bottom: 16px; overflow-x: auto;",children:["all","ledger","inventory","building","transaction"].map(o=>e("button",{onClick:()=>y(o),class:"btn",style:d===o?"background: var(--color-primary); color: white;":"",children:o.charAt(0).toUpperCase()+o.slice(1)},o))}),g?.length>0?e("div",{style:"display: grid; gap: 16px;",children:g.map(o=>e("div",{class:p.has(o.id)?"bi-card-new":"",style:`border: 1px solid ${p.has(o.id)?"#4caf50":"#ddd"}; border-radius: 8px; padding: 16px; ${p.has(o.id)?"animation: blink 1s ease-in-out 3; background: #e8f5e9;":""}`,children:[e("div",{style:"display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;",children:[e("div",{children:[e("span",{style:"font-weight: bold; font-size: 16px;",children:o.type.toUpperCase()}),e("span",{style:"font-size: 14px; color: var(--color-neutral); margin-left: 8px;",children:["(",o.analysis_category,")"]}),p.has(o.id)&&e("span",{style:"margin-left: 8px; background: #4caf50; color: white; padding: 2px 8px; border-radius: 10px; font-size: 11px;",children:"NEW"})]}),e("span",{style:"font-size: 12px; color: var(--color-neutral);",children:u(o.analyzed_at)})]}),e("div",{style:"display: flex; gap: 16px; align-items: flex-start;",children:[o.source?.image_url&&e("div",{style:"flex-shrink: 0;",children:[e("img",{src:o.source.image_url,alt:"BI",style:"max-width: 200px; height: auto; object-fit: contain; border-radius: 8px;"}),o.source?.caption&&e("p",{style:"font-size: 12px; color: var(--color-neutral); font-style: italic; margin: 8px 0 0 0; max-width: 200px;",children:['"',o.source.caption,'"']})]}),e("div",{style:"flex: 1;",children:[o.type==="ledger"&&o.data&&e("div",{style:"background: var(--color-success-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Record Type:"})," ",o.data.record_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Income:"})," Rp ",o.data.daily_income_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Expense:"})," Rp ",o.data.daily_expense_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Daily Profit:"})," Rp ",o.data.daily_profit_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Monthly Cashflow:"})," Rp ",o.data.monthly_cashflow_estimate?.toLocaleString("id-ID")]}),o.data.record_quality&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Quality:"})," ",o.data.record_quality]})]}),o.type==="inventory"&&o.data&&e("div",{style:"background: var(--color-warning-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Items:"})," ",o.data.total_items_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Inventory Value:"})," Rp ",o.data.inventory_value_estimate?.toLocaleString("id-ID")]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Stock Level:"})," ",o.data.stock_level]}),o.data.turnover_indicator&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Turnover:"})," ",o.data.turnover_indicator]}),o.data.items&&o.data.items.length>0&&e("div",{style:"margin-top: 8px;",children:[e("strong",{children:"Sample Items:"}),e("ul",{style:"margin: 4px 0; padding-left: 20px;",children:o.data.items.slice(0,3).map((k,b)=>e("li",{children:[k.name," - ",k.quantity_estimate," ",k.unit]},b))})]})]}),o.type==="building"&&o.data&&e("div",{style:"background: var(--color-primary-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Type:"})," ",o.data.building_type]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Condition:"})," ",o.data.condition]}),o.data.size_estimate&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Size:"})," ",o.data.size_estimate]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Location:"})," ",o.data.location_type]}),o.data.visibility&&e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Visibility:"})," ",o.data.visibility]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Estimated Value:"})," Rp ",o.data.estimated_value?.toLocaleString("id-ID")]})]}),o.type==="transaction"&&o.data&&e("div",{style:"background: var(--color-neutral-bg); padding: 12px; border-radius: 8px;",children:[e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Transaction Count:"})," ",o.data.transaction_count]}),e("p",{style:"margin: 4px 0;",children:[e("strong",{children:"Total Amount:"})," Rp ",o.data.total_amount?.toLocaleString("id-ID")]})]}),!o.source?.image_url&&o.source?.caption&&e("p",{style:"font-size: 14px; color: var(--color-neutral); font-style: italic; margin: 8px 0 0 0;",children:['"',o.source.caption,'"']})]})]})]},o.id))}):e("p",{style:"color: var(--color-neutral);",children:"No business intelligence data"})]})]})]})}const L=({children:t,type:n="default",style:i={}})=>{const r={default:{bg:"#f8f9fa",border:"#dee2e6"},start:{bg:"#e3f2fd",border:"#2196f3"},action:{bg:"#fff3e0",border:"#ff9800"},decision:{bg:"#fce4ec",border:"#e91e63"},success:{bg:"#e8f5e9",border:"#4caf50"},end:{bg:"#f3e5f5",border:"#9c27b0"},user:{bg:"#e0f7fa",border:"#00bcd4"},bot:{bg:"#fff8e1",border:"#ffc107"}},l=r[n]||r.default;return e("div",{style:{padding:"12px 16px",background:l.bg,border:`2px solid ${l.border}`,borderRadius:"8px",textAlign:"center",fontSize:"13px",lineHeight:"1.4",...i},children:t})},E=({direction:t="down"})=>e("div",{style:{textAlign:"center",padding:"4px 0",color:"#666",fontSize:"20px"},children:t==="down"?"â†“":t==="right"?"â†’":"â†“"}),xe=({children:t})=>e("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"16px 0"},children:t}),_e=({left:t,right:n})=>e("div",{style:{display:"flex",gap:"24px",justifyContent:"center",alignItems:"flex-start"},children:[e("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:t}),e("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:n})]});function Hn(){const t=(n,i)=>({padding:"12px",background:n,borderRadius:"8px",borderLeft:`4px solid ${i}`});return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h1",{style:"margin: 0 0 8px 0; display: flex; align-items: center; gap: 8px;",children:[e(sn,{size:28})," Cara Kerja Chatbot Amartha"]}),e("p",{style:"color: #666; margin: 0;",children:"Panduan lengkap alur percakapan untuk Petugas Lapangan (BP)"})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{style:"display: flex; align-items: center; gap: 8px;",children:[e(Je,{size:18})," Kata Kunci Perintah"]}),e("p",{style:"color: #666; margin-bottom: 16px;",children:"Kata-kata yang bisa diketik anggota (case-insensitive)"}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px;",children:[e("div",{style:t("#e3f2fd","#2196f3"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(Je,{size:14})," MENU"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"menu, bantuan, help, tolong, halo, hi, hai"})]}),e("div",{style:t("#e8f5e9","#4caf50"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(ye,{size:14})," KUIS"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"kuis, quiz, belajar, tes, ujian, soal"})]}),e("div",{style:t("#fff3e0","#ff9800"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(_t,{size:14})," NILAI"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"nilai, hasil, skor, progress"})]}),e("div",{style:t("#f3e5f5","#9c27b0"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(vt,{size:14})," PROFIL"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"cek data, data saya, profil, info saya"})]}),e("div",{style:t("#e0f7fa","#00bcd4"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(ue,{size:14})," JADWAL"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"jadwal, majelis, pertemuan, kumpul"})]}),e("div",{style:t("#fce4ec","#e91e63"),children:[e("strong",{style:"display: flex; align-items: center; gap: 4px;",children:[e(dn,{size:14})," FOTO"]}),e("p",{style:"margin: 4px 0 0 0; font-size: 12px; font-family: monospace;",children:"Kirim gambar langsung"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"1. Pendaftaran Anggota Baru"}),e("p",{style:"color: #666; margin-bottom: 8px;",children:"Ketika nomor baru menghubungi chatbot"}),e(xe,{children:[e(L,{type:"user",style:{minWidth:"200px"},children:[e("strong",{children:"Ibu kirim pesan"}),e("br",{}),"(nomor belum terdaftar)"]}),e(E,{}),e(L,{type:"bot",style:{minWidth:"240px"},children:[e("strong",{children:"Bot tanya:"}),e("br",{}),'"Siapa nama Ibu, usaha apa, dimana?"']}),e(E,{}),e(L,{type:"user",style:{minWidth:"240px"},children:[e("strong",{children:"Ibu jawab:"}),e("br",{}),'"Saya Bu Siti, warung sembako di Bogor"']}),e(E,{}),e(L,{type:"action",style:{minWidth:"200px"},children:[e("strong",{children:"Proses: AI ekstrak data:"}),e("br",{}),"name, business, location"]}),e(E,{}),e(L,{type:"success",style:{minWidth:"200px"},children:[e("strong",{children:"âœ“ Terdaftar"}),e("br",{}),"Status: ",e("span",{style:"color: #ff9800; fontWeight: 'bold'",children:"PENDING"})]}),e(E,{}),e(L,{type:"end",style:{minWidth:"220px"},children:[e("strong",{children:"ðŸ‘¨â€ðŸ’¼ BP verifikasi di Dashboard"}),e("br",{}),"Status â†’ ",e("span",{style:"color: #4caf50; fontWeight: 'bold'",children:"ACTIVE"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"2. Kuis Literasi Keuangan"}),e("p",{style:"color: #666; margin-bottom: 8px;",children:["15 minggu pembelajaran â€¢ Lulus: ",e("strong",{children:"100% (4/4 benar)"})]}),e(xe,{children:[e(L,{type:"user",style:{minWidth:"180px"},children:[e("strong",{children:"Ibu ketik:"}),e("br",{}),'"kuis" / "belajar"']}),e(E,{}),e(L,{type:"action",style:{minWidth:"220px"},children:[e("strong",{children:"Proses: Sistem cek:"}),e("br",{}),"Minggu mana yang belum lulus?"]}),e(E,{}),e(L,{type:"bot",style:{minWidth:"240px"},children:[e("strong",{children:"Bot: Kirim intro:"}),e("br",{}),'"Quiz Minggu X dimulai! Topik: ..."']}),e(E,{}),e(L,{type:"bot",style:{minWidth:"260px"},children:[e("strong",{children:"Bot: Kirim soal 1/4"}),e("br",{}),"(WhatsApp List Message)",e("br",{}),e("span",{style:"font-size: 11px",children:"A. ... | B. ... | C. ... | D. ..."})]}),e(E,{}),e(L,{type:"decision",style:{minWidth:"180px"},children:e("strong",{children:"Jawaban benar?"})}),e(_e,{left:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ“ Ya"}),e(L,{type:"success",style:{minWidth:"100px"},children:"+25%"})]}),right:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ— Tidak"}),e(L,{type:"default",style:{minWidth:"120px"},children:["+0%",e("br",{}),e("span",{style:"fontSize: '11px'",children:"+ penjelasan"})]})]})}),e(E,{}),e(L,{type:"action",style:{minWidth:"180px"},children:[e("strong",{children:"Ulangi 4x"}),e("br",{}),"(4 soal acak)"]}),e(E,{}),e(L,{type:"decision",style:{minWidth:"180px"},children:e("strong",{children:"Nilai = 100%?"})}),e(_e,{left:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ“ Ya"}),e(L,{type:"success",style:{minWidth:"100px"},children:[e("strong",{children:"LULUS"}),e("br",{}),"Minggu ini"]})]}),right:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ— Tidak"}),e(L,{type:"default",style:{minWidth:"100px"},children:[e("strong",{children:"ULANG"}),e("br",{}),"Minggu ini"]})]})})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"3. Analisis Foto Bisnis"}),e("p",{style:"color: #666; margin-bottom: 8px;",children:"AI menganalisis foto â€¢ Dashboard update real-time"}),e(xe,{children:[e(L,{type:"user",style:{minWidth:"180px"},children:[e("strong",{children:"Ibu kirim foto"}),e("br",{})]}),e(E,{}),e(L,{type:"decision",style:{minWidth:"180px"},children:e("strong",{children:"Ada caption?"})}),e(_e,{left:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ“ Ya"}),e(L,{type:"success",style:{minWidth:"100px"},children:"Lanjut â†“"})]}),right:e(U,{children:[e("div",{style:{color:"#666",fontSize:"12px"},children:"âœ— Tidak"}),e(L,{type:"bot",style:{minWidth:"140px"},children:'"Jelaskan foto ini"'}),e(E,{}),e(L,{type:"user",style:{minWidth:"140px"},children:["Ibu balas",e("br",{}),"(5 menit)"]})]})}),e(E,{}),e(L,{type:"action",style:{minWidth:"220px"},children:[e("strong",{children:"Proses: Gemini Vision analisis"}),e("br",{}),"Klasifikasi + ekstrak data"]}),e(E,{}),e("div",{style:{display:"flex",gap:"16px"},children:[e(L,{type:"success",style:{minWidth:"140px"},children:[e("strong",{children:"Mobile: Kirim hasil"}),e("br",{}),"ke Ibu"]}),e(L,{type:"end",style:{minWidth:"140px"},children:[e("strong",{children:"Web: Dashboard"}),e("br",{}),"update + blink"]})]})]}),e("div",{style:"margin-top: 16px; display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 8px;",children:[e("div",{style:{padding:"8px",background:"#e3f2fd",borderRadius:"6px",textAlign:"center"},children:[e("strong",{children:"Ledger: Ledger"}),e("br",{}),e("span",{style:"fontSize: '11px'",children:"Buku kas, nota"})]}),e("div",{style:{padding:"8px",background:"#e8f5e9",borderRadius:"6px",textAlign:"center"},children:[e("strong",{children:"Inventory: Inventory"}),e("br",{}),e("span",{style:"fontSize: '11px'",children:"Stok barang"})]}),e("div",{style:{padding:"8px",background:"#fff3e0",borderRadius:"6px",textAlign:"center"},children:[e("strong",{children:"Building: Building"}),e("br",{}),e("span",{style:"fontSize: '11px'",children:"Tempat usaha"})]}),e("div",{style:{padding:"8px",background:"#f3e5f5",borderRadius:"6px",textAlign:"center"},children:[e("strong",{children:"Transaction: Transaction"}),e("br",{}),e("span",{style:"fontSize: '11px'",children:"Bukti transaksi"})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"4. Perintah Lainnya"}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin-top: 16px;",children:[e("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[e("strong",{children:"Menu Utama"}),e("p",{style:"color: #666; fontSize: '12px'; margin: '4px 0'",children:"Ketik: halo, menu, bantuan"}),e("div",{style:{background:"#fff",padding:"12px",borderRadius:"6px",fontSize:"13px",marginTop:"8px",border:"1px solid #e0e0e0"},children:[e("strong",{children:"Menu Utama"}),e("br",{}),e("br",{}),"1. KUIS - Mulai kuis",e("br",{}),"2. NILAI - Hasil belajar",e("br",{}),"3. DATA SAYA - Profil",e("br",{}),"4. FOTO - Kirim foto",e("br",{}),"5. JADWAL - Majelis"]})]}),e("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[e("strong",{children:"Cek Data Profil"}),e("p",{style:"color: #666; fontSize: '12px'; margin: '4px 0'",children:"Ketik: cek data, profil, data saya"}),e("div",{style:{background:"#fff",padding:"12px",borderRadius:"6px",fontSize:"13px",marginTop:"8px",border:"1px solid #e0e0e0"},children:["âœ“ ",e("strong",{children:"PROFIL ANDA"}),e("br",{}),e("br",{}),"Nama: Bu Siti",e("br",{}),"Building: Usaha: Warung",e("br",{}),"Lokasi: Bogor",e("br",{}),"Limit: Rp 5.000.000",e("br",{}),"Progress: 5/15"]})]}),e("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[e("strong",{children:"Jadwal Majelis"}),e("p",{style:"color: #666; fontSize: '12px'; margin: '4px 0'",children:"Ketik: jadwal, majelis, pertemuan"}),e("div",{style:{background:"#fff",padding:"12px",borderRadius:"6px",fontSize:"13px",marginTop:"8px",border:"1px solid #e0e0e0"},children:[e("strong",{children:"Jadwal Majelis"}),e("br",{}),e("br",{}),"Majelis: Sejahtera",e("br",{}),"ðŸ“† Hari: Senin",e("br",{}),"Jam: 09:00",e("br",{}),"Lokasi: Balai Desa"]})]}),e("div",{style:{padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[e("strong",{children:"ðŸ“Š Lihat Progress"}),e("p",{style:"color: #666; fontSize: '12px'; margin: '4px 0'",children:"Ketik: nilai, progress, hasil"}),e("div",{style:{background:"#fff",padding:"12px",borderRadius:"6px",fontSize:"13px",marginTop:"8px",border:"1px solid #e0e0e0"},children:["ðŸ“Š ",e("strong",{children:"Progress Literasi"}),e("br",{}),e("br",{}),"âœ“ Selesai: 5/15 (33%)",e("br",{}),e("br",{}),"ðŸŽ¯ Minggu 1: 100%",e("br",{}),"ðŸŽ¯ Minggu 2: 100%",e("br",{}),"ðŸŽ¯ Minggu 3: 100%"]})]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{children:"Status User"}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin-top: 16px;",children:[e("div",{style:{padding:"12px",background:"#fff3cd",borderRadius:"8px",textAlign:"center"},children:[e("strong",{style:"fontSize: '18px'",children:"ðŸŸ¡"}),e("br",{}),e("strong",{children:"PENDING"}),e("p",{style:"margin: 4px 0 0 0; fontSize: '12px'",children:"Menunggu verifikasi BP"})]}),e("div",{style:{padding:"12px",background:"#d4edda",borderRadius:"8px",textAlign:"center"},children:[e("strong",{style:"fontSize: '18px'",children:"ðŸŸ¢"}),e("br",{}),e("strong",{children:"ACTIVE"}),e("p",{style:"margin: 4px 0 0 0; fontSize: '12px'",children:"Akses penuh"})]}),e("div",{style:{padding:"12px",background:"#f8d7da",borderRadius:"8px",textAlign:"center"},children:[e("strong",{style:"fontSize: '18px'",children:"ðŸ”´"}),e("br",{}),e("strong",{children:"SUSPENDED"}),e("p",{style:"margin: 4px 0 0 0; fontSize: '12px'",children:"Dinonaktifkan"})]}),e("div",{style:{padding:"12px",background:"#e2e3e5",borderRadius:"8px",textAlign:"center"},children:[e("strong",{style:"fontSize: '18px'",children:"âš«"}),e("br",{}),e("strong",{children:"INACTIVE"}),e("p",{style:"margin: 4px 0 0 0; fontSize: '12px'",children:"Keluar program"})]})]})]}),e("div",{class:"card",children:[e("h2",{children:"ðŸ”§ Tech Stack"}),e("div",{style:"display: flex; flexWrap: 'wrap'; gap: '8px'; marginTop: '12px'",children:["Gemini 2.5 Flash","Gemini Vision","Firestore","Cloud Run","WhatsApp API","Preact","SSE"].map(n=>e("span",{style:{padding:"6px 12px",background:"#e3f2fd",borderRadius:"16px",fontSize:"12px"},children:n}))})]})]})}const Ze="/api",Kn=[{key:"warung",name:"Warung Sembako",icon:"ðŸª",desc:"Maturity 3, 40% quiz"},{key:"toko",name:"Toko Kelontong",icon:"ðŸ›’",desc:"Maturity 2, 20% quiz"},{key:"makanan",name:"Usaha Makanan",icon:"ðŸœ",desc:"Maturity 4, 60% quiz"},{key:"jahit",name:"Jasa Jahit",icon:"ðŸ§µ",desc:"Maturity 2, 13% quiz"},{key:"pertanian",name:"Pertanian",icon:"ðŸŒ¾",desc:"Maturity 3, 53% quiz"},{key:"salon",name:"Salon Kecantikan",icon:"ðŸ’‡",desc:"Maturity 3, 33% quiz"},{key:"laundry",name:"Jasa Laundry",icon:"ðŸ§º",desc:"Maturity 2, 27% quiz"},{key:"random",name:"Random",icon:"ðŸŽ²",desc:"Random persona"}],On=[{key:"sukses",name:"Sukses",icon:"ðŸŒŸ",desc:"Rp 10jt, 80% quiz, good payments"},{key:"baru",name:"Baru",icon:"ðŸ†•",desc:"No loan, 0% quiz, no majelis"},{key:"krisis",name:"Krisis",icon:"ðŸ“‰",desc:"Missed payments, struggling"},{key:"lulus",name:"Lulus",icon:"ðŸŽ“",desc:"100% quiz, fully paid, graduate"},{key:"fraud",name:"Fraud",icon:"âš ï¸",desc:"Suspicious activity flags"}];function qn(){const[t,n]=w([]),[i,r]=w(!0),[l,a]=w(null),c=async()=>{r(!0);try{const s=await(await fetch(`${Ze}/users`)).json();n(s.filter(u=>u.is_demo===!0))}catch(h){console.error(h)}r(!1)};O(()=>{c()},[]);const d=h=>{navigator.clipboard.writeText(h),a(h),setTimeout(()=>a(null),2e3)},y=async h=>{confirm(`Delete demo user ${h}?`)&&(await fetch(`${Ze}/users/${h}`,{method:"DELETE"}),c())},p=h=>({padding:"12px",background:h?"#e3f2fd":"#fff",border:`2px solid ${h?"#2196f3":"#e0e0e0"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"});return e("div",{style:"padding: 20px;",children:[e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h1",{style:"margin: 0 0 8px 0; display: flex; align-items: center; gap: 8px;",children:[e(Mt,{size:28})," Demo Mode"]}),e("p",{style:"color: #666; margin: 0;",children:"Commands untuk hackathon judges. Kirim via WhatsApp ke chatbot."})]}),e("div",{class:"card",style:"margin-bottom: 20px; background: #fff3e0;",children:[e("h2",{style:"margin: 0 0 12px 0; display: flex; align-items: center; gap: 8px;",children:[e(Sn,{size:20})," Cara Pakai"]}),e("ol",{style:"margin: 0; padding-left: 20px; line-height: 1.8;",children:[e("li",{children:"Buka WhatsApp, chat ke nomor bot"}),e("li",{children:"Copy command di bawah, kirim ke chat"}),e("li",{children:"Bot akan inject data persona ke nomor Anda"}),e("li",{children:'Coba fitur: ketik "menu", "cek data", "kuis", dll'}),e("li",{children:["Selesai? Kirim ",e("code",{children:"/demo:reset"})," untuk hapus data"]})]})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{style:"margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;",children:[e(q,{size:20})," Persona"]}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;",children:Kn.map(h=>e("div",{style:p(l===`/demo:${h.key}`),onClick:()=>d(`/demo:${h.key}`),children:[e("div",{style:"display: flex; align-items: center; gap: 8px; margin-bottom: 4px;",children:[e("span",{style:"font-size: 24px;",children:h.icon}),e("strong",{children:h.name})]}),e("div",{style:"font-size: 12px; color: #666;",children:h.desc}),e("div",{style:"font-size: 11px; color: #2196f3; margin-top: 8px; font-family: monospace;",children:["/demo:",h.key," ",l===`/demo:${h.key}`?"âœ“ Copied!":""]})]},h.key))})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{style:"margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;",children:[e(fn,{size:20})," Skenario"]}),e("div",{style:"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;",children:On.map(h=>e("div",{style:p(l===`/demo:${h.key}`),onClick:()=>d(`/demo:${h.key}`),children:[e("div",{style:"display: flex; align-items: center; gap: 8px; margin-bottom: 4px;",children:[e("span",{style:"font-size: 24px;",children:h.icon}),e("strong",{children:h.name})]}),e("div",{style:"font-size: 12px; color: #666;",children:h.desc}),e("div",{style:"font-size: 11px; color: #2196f3; margin-top: 8px; font-family: monospace;",children:["/demo:",h.key," ",l===`/demo:${h.key}`?"âœ“ Copied!":""]})]},h.key))})]}),e("div",{class:"card",style:"margin-bottom: 20px;",children:[e("h2",{style:"margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;",children:[e(zn,{size:20})," Kombinasi (Persona + Skenario)"]}),e("div",{style:"display: flex; flex-wrap: wrap; gap: 8px;",children:["/demo:warung+krisis","/demo:random+lulus","/demo:makanan+fraud","/demo:toko+baru"].map(h=>e("button",{onClick:()=>d(h),style:{padding:"8px 16px",background:l===h?"#4caf50":"#f5f5f5",color:l===h?"#fff":"#333",border:"none",borderRadius:"20px",cursor:"pointer",fontFamily:"monospace",fontSize:"13px"},children:[h," ",l===h?"âœ“":""]},h))})]}),e("div",{class:"card",style:"margin-bottom: 20px; background: #ffebee;",children:[e("h2",{style:"margin: 0 0 12px 0; display: flex; align-items: center; gap: 8px;",children:[e(wn,{size:20})," Reset"]}),e("p",{style:"margin: 0 0 12px 0; color: #666;",children:"Hapus semua data demo dari nomor Anda:"}),e("button",{onClick:()=>d("/demo:reset"),style:{padding:"10px 20px",background:l==="/demo:reset"?"#4caf50":"#f44336",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"monospace",fontSize:"14px"},children:["/demo:reset ",l==="/demo:reset"?"âœ“ Copied!":""]})]}),e("div",{class:"card",children:[e("div",{style:"display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;",children:[e("h2",{style:"margin: 0; display: flex; align-items: center; gap: 8px;",children:[e(bn,{size:20})," Demo Users Created"]}),e("button",{onClick:c,style:"padding: 8px 16px; cursor: pointer; border: 1px solid #ddd; border-radius: 4px; background: #fff;",children:[e(Ct,{size:16})," Refresh"]})]}),i?e("p",{children:"Loading..."}):t.length===0?e("p",{style:"color: #666; text-align: center; padding: 20px;",children:"Belum ada demo users. Kirim command via WhatsApp untuk membuat."}):e("table",{style:"width: 100%; border-collapse: collapse;",children:[e("thead",{children:e("tr",{style:"background: #f5f5f5;",children:[e("th",{style:"padding: 12px; text-align: left; border-bottom: 2px solid #ddd;",children:"User"}),e("th",{style:"padding: 12px; text-align: left; border-bottom: 2px solid #ddd;",children:"Persona"}),e("th",{style:"padding: 12px; text-align: left; border-bottom: 2px solid #ddd;",children:"Scenario"}),e("th",{style:"padding: 12px; text-align: left; border-bottom: 2px solid #ddd;",children:"Created"}),e("th",{style:"padding: 12px; text-align: center; border-bottom: 2px solid #ddd;",children:"Actions"})]})}),e("tbody",{children:t.map(h=>e("tr",{style:"border-bottom: 1px solid #eee;",children:[e("td",{style:"padding: 12px;",children:[e("div",{style:"font-weight: 500;",children:h.name}),e("div",{style:"font-size: 12px; color: #666;",children:h.phone})]}),e("td",{style:"padding: 12px;",children:e("span",{style:"padding: 4px 8px; background: #e3f2fd; border-radius: 4px; font-size: 12px;",children:h.demo_persona||"-"})}),e("td",{style:"padding: 12px;",children:e("span",{style:"padding: 4px 8px; background: #fff3e0; border-radius: 4px; font-size: 12px;",children:h.demo_scenario||"-"})}),e("td",{style:"padding: 12px; font-size: 12px; color: #666;",children:new Date(h.created_at).toLocaleString("id-ID")}),e("td",{style:"padding: 12px; text-align: center;",children:[e("a",{href:`/user-profile/${h.phone}`,style:"color: #2196f3; margin-right: 12px;",children:"View"}),e("button",{onClick:()=>y(h.phone),style:"color: #f44336; background: none; border: none; cursor: pointer;",children:e(fe,{size:16})})]})]},h.phone))})]})]})]})}function Fn(){const[t,n]=w("");O(()=>{const r=()=>{n(window.location.pathname)};r(),window.addEventListener("popstate",r);const l=new MutationObserver(r);return l.observe(document.body,{childList:!0,subtree:!0}),()=>{window.removeEventListener("popstate",r),l.disconnect()}},[]);const i=(r,l)=>{r.preventDefault(),window.history.pushState({},"",l),window.dispatchEvent(new PopStateEvent("popstate")),n(l)};return e("div",{class:"header",children:e("div",{class:"header-content",children:[e("div",{children:[e("h1",{style:"display: flex; align-items: center; gap: 10px;",children:[e(xt,{size:28})," Amartha Admin Dashboard"]}),e("div",{class:"nav",children:[e("a",{href:"/",class:t==="/"?"active":"",onClick:r=>i(r,"/"),children:[e(q,{size:16})," Users"]}),e("a",{href:"/majelis",class:t==="/majelis"?"active":"",onClick:r=>i(r,"/majelis"),children:[e(Tn,{size:16})," Majelis"]}),e("a",{href:"/business-types",class:t==="/business-types"?"active":"",onClick:r=>i(r,"/business-types"),children:[e(mt,{size:16})," Business Types"]}),e("a",{href:"/financial-literacy",class:t==="/financial-literacy"?"active":"",onClick:r=>i(r,"/financial-literacy"),children:[e(ye,{size:16})," Financial Literacy"]}),e("a",{href:"/how-it-works",class:t==="/how-it-works"?"active":"",onClick:r=>i(r,"/how-it-works"),children:[e(hn,{size:16})," Cara Kerja"]}),e("a",{href:"/demo",class:t==="/demo"?"active":"",onClick:r=>i(r,"/demo"),style:"background: #ff9800; color: white; border-radius: 4px;",children:[e(Mt,{size:16})," Demo"]})]})]}),e("div",{class:"admin-badge",style:"display: flex; align-items: center; gap: 6px;",children:[e(vt,{size:18})," Admin: ",e("strong",{children:"Petugas Lapangan"})]})]})})}function Vn(){return e("div",{class:"container",children:[e(Fn,{}),e(yt,{children:[e(Pn,{path:"/"}),e(Rn,{path:"/majelis"}),e(Bn,{path:"/majelis/:id"}),e(Un,{path:"/business-types"}),e(Wn,{path:"/financial-literacy"}),e(Hn,{path:"/how-it-works"}),e(qn,{path:"/demo"}),e(Nn,{path:"/user-profile/:phone"})]})]})}Bt(e(Vn,{}),document.getElementById("app"));
